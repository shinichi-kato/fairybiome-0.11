/*! For license information please see main.worker-144628662cfe1b86d094.worker.js.LICENSE.txt */
!function(){var t={716:function(t,e){var n;!function(r){"use strict";var u=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:.5*(Math.exp(t)+Math.exp(-t))},i=Math.sinh||function(t){return Math.abs(t)<1e-9?t:.5*(Math.exp(t)-Math.exp(-t))},o=function(){throw SyntaxError("Invalid Param")};function a(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):(t/=2,e/=2,.5*Math.log(t*t+e*e)+Math.LN2)}function s(t,e){if(!(this instanceof s))return new s(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return s.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return s.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):o();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),u=1,i=0;null===r&&o();for(var a=0;a<r.length;a++){var c=r[a];" "===c||"\t"===c||"\n"===c||("+"===c?u++:"-"===c?i++:"i"===c||"I"===c?(u+i===0&&o()," "===r[a+1]||isNaN(r[a+1])?n.im+=parseFloat((i%2?"-":"")+"1"):(n.im+=parseFloat((i%2?"-":"")+r[a+1]),a++),u=i=0):((u+i===0||isNaN(c))&&o(),"i"===r[a+1]||"I"===r[a+1]?(n.im+=parseFloat((i%2?"-":"")+c),a++):n.re+=parseFloat((i%2?"-":"")+c),u=i=0))}u+i>0&&o();break;case"number":n.im=0,n.re=t;break;default:o()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},add:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new s(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:0===n.im&&0===this.im?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new s(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;t=this.re,e=this.im;var r,u,i=n.re,o=n.im;return 0===o?new s(t/i,e/i):Math.abs(i)<Math.abs(o)?new s((t*(u=i/o)+e)/(r=i*u+o),(e*u-t)/r):new s((t+e*(u=o/i))/(r=o*u+i),(e-t*u)/r)},pow:function(t,e){var n=new s(t,e);if(t=this.re,e=this.im,n.isZero())return s.ONE;if(0===n.im){if(0===e&&t>0)return new s(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new s(Math.pow(e,n.re),0);case 1:return new s(0,Math.pow(e,n.re));case 2:return new s(-Math.pow(e,n.re),0);case 3:return new s(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return s.ZERO;var r=Math.atan2(e,t),u=a(t,e);return t=Math.exp(n.re*u-n.im*r),e=n.im*u+n.re*r,new s(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,u=this.abs();if(n>=0){if(0===r)return new s(Math.sqrt(n),0);t=.5*Math.sqrt(2*(u+n))}else t=Math.abs(r)/Math.sqrt(2*(u-n));return e=n<=0?.5*Math.sqrt(2*(u-n)):Math.abs(r)/Math.sqrt(2*(u+n)),new s(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new s(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new s(a(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),r=Math.abs(e),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r));var t,e,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new s(Math.sin(t)*u(e),Math.cos(t)*i(e))},cos:function(){var t=this.re,e=this.im;return new s(Math.cos(t)*u(e),-Math.sin(t)*i(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+u(e);return new s(Math.sin(t)/n,i(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-u(e);return new s(-Math.sin(t)/n,i(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*u(2*e)+.5*Math.cos(2*t);return new s(Math.cos(t)*u(e)/n,Math.sin(t)*i(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*u(2*e)-.5*Math.cos(2*t);return new s(Math.sin(t)*u(e)/n,-Math.cos(t)*i(e)/n)},asin:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new s((1-e*e-t*t)/n,-2*t/n).log();return new s(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new s(i(t)*Math.cos(e),u(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new s(u(t)*Math.cos(e),i(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=u(t)+Math.cos(e);return new s(i(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=u(t)-Math.cos(e);return new s(i(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-u(2*t);return new s(-2*i(t)*Math.cos(e)/n,2*u(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+u(2*t);return new s(2*u(t)*Math.cos(e)/n,-2*i(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,u=1+t,i=r*r+e*e,o=0!==i?new s((u*r-e*e)/i,(e*r+u*e)/i):new s(-1!==t?t/0:0,0!==e?e/0:0),c=o.re;return o.re=a(o.re,o.im)/2,o.im=Math.atan2(o.im,c)/2,n&&(o.im=-o.im),o},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return s.INFINITY;var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new s(t/n,-e/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new s(t,e);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<s.EPSILON&&(t=0),Math.abs(e)<s.EPSILON&&(e=0),0===e?n+t:(0!==t?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),1!==e&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,void 0===(n=function(){return s}.apply(e,[]))||(t.exports=n)}()},744:function(t,e,n){t.exports=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var u in e=arguments[n])Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t}).apply(this,arguments)};function r(t,e,n){if(n||2===arguments.length)for(var r,u=0,i=e.length;u<i;u++)!r&&u in e||((r=r||Array.prototype.slice.call(e,0,u))[u]=e[u]);return t.concat(r||Array.prototype.slice.call(e))}var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,i=Object.keys,o=Array.isArray;function a(t,e){return"object"!=typeof e||i(e).forEach((function(n){t[n]=e[n]})),t}"undefined"==typeof Promise||u.Promise||(u.Promise=Promise);var s=Object.getPrototypeOf,c={}.hasOwnProperty;function f(t,e){return c.call(t,e)}function l(t,e){"function"==typeof e&&(e=e(s(t))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(e).forEach((function(n){d(t,n,e[n])}))}var h=Object.defineProperty;function d(t,e,n,r){h(t,e,a(n&&f(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(t){return{from:function(e){return t.prototype=Object.create(e.prototype),d(t.prototype,"constructor",t),{extend:l.bind(null,t.prototype)}}}}var m=Object.getOwnPropertyDescriptor,D=[].slice;function y(t,e,n){return D.call(t,e,n)}function v(t,e){return e(t)}function g(t){if(!t)throw new Error("Assertion Failed")}function w(t){u.setImmediate?setImmediate(t):setTimeout(t,0)}function b(t,e){if("string"==typeof e&&f(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,u=e.length;r<u;++r){var i=b(t,e[r]);n.push(i)}return n}var o=e.indexOf(".");if(-1!==o){var a=t[e.substr(0,o)];return null==a?void 0:b(a,e.substr(o+1))}}function F(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){g("string"!=typeof n&&"length"in n);for(var r=0,u=e.length;r<u;++r)F(t,e[r],n[r])}else{var i,a,s=e.indexOf(".");-1!==s?(i=e.substr(0,s),""===(a=e.substr(s+1))?void 0===n?o(t)&&!isNaN(parseInt(i))?t.splice(i,1):delete t[i]:t[i]=n:F(s=(s=t[i])&&f(t,i)?s:t[i]={},a,n)):void 0===n?o(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function E(t){var e,n={};for(e in t)f(t,e)&&(n[e]=t[e]);return n}var A=[].concat;function C(t){return A.apply([],t)}var x="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(C([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return u[t]})),B=new Set(x.map((function(t){return u[t]}))),_=null;function N(t){return _=new WeakMap,t=function t(e){if(!e||"object"!=typeof e)return e;var n=_.get(e);if(n)return n;if(o(e)){n=[],_.set(e,n);for(var r=0,u=e.length;r<u;++r)n.push(t(e[r]))}else if(B.has(e.constructor))n=e;else{var i,a=s(e);for(i in n=a===Object.prototype?{}:Object.create(a),_.set(e,n),e)f(e,i)&&(n[i]=t(e[i]))}return n}(t),_=null,t}var M={}.toString;function k(t){return M.call(t).slice(8,-1)}var O="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",S="symbol"==typeof O?function(t){var e;return null!=t&&(e=t[O])&&e.apply(t)}:function(){return null};function T(t,e){return 0<=(e=t.indexOf(e))&&t.splice(e,1),0<=e}var I={};function P(t){var e,n,r,u;if(1===arguments.length){if(o(t))return t.slice();if(this===I&&"string"==typeof t)return[t];if(u=S(t)){for(n=[];!(r=u.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"!=typeof(e=t.length))return[t];for(n=new Array(e);e--;)n[e]=t[e];return n}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var j="undefined"!=typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},q=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(st=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),R={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function K(t,e){this.name=t,this.message=e}function z(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")}function L(t,e,n,r){this.failures=e,this.failedKeys=r,this.successCount=n,this.message=z(t,e)}function U(t,e){this.name="BulkError",this.failures=Object.keys(e).map((function(t){return e[t]})),this.failuresByPos=e,this.message=z(t,this.failures)}p(K).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(L).from(K),p(U).from(K);var V=q.reduce((function(t,e){return t[e]=e+"Error",t}),{}),Z=K,$=q.reduce((function(t,e){var n=e+"Error";function r(t,r){this.name=n,t?"string"==typeof t?(this.message="".concat(t).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof t&&(this.message="".concat(t.name," ").concat(t.message),this.inner=t):(this.message=R[e]||n,this.inner=null)}return p(r).from(Z),t[e]=r,t}),{});$.Syntax=SyntaxError,$.Type=TypeError,$.Range=RangeError;var W=st.reduce((function(t,e){return t[e+"Error"]=$[e],t}),{}),Y=q.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=$[e]),t}),{});function H(){}function X(t){return t}function G(t,e){return null==t||t===X?e:function(n){return e(t(n))}}function Q(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function J(t,e){return t===H?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Q(r,this.onsuccess):r),u&&(this.onerror=this.onerror?Q(u,this.onerror):u),void 0!==i?i:n}}function tt(t,e){return t===H?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Q(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Q(r,this.onerror):r)}}function et(t,e){return t===H?e:function(n){var r=t.apply(this,arguments);a(n,r);var u=this.onsuccess,i=this.onerror;return this.onsuccess=null,this.onerror=null,n=e.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Q(u,this.onsuccess):u),i&&(this.onerror=this.onerror?Q(i,this.onerror):i),void 0===r?void 0===n?void 0:n:a(r,n)}}function nt(t,e){return t===H?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function rt(t,e){return t===H?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,u=arguments.length,i=new Array(u);u--;)i[u]=arguments[u];return n.then((function(){return e.apply(r,i)}))}return e.apply(this,arguments)}}Y.ModifyError=L,Y.DexieError=K,Y.BulkError=U;var ut="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function it(t){ut=t}var ot={},at=100,st=(x="undefined"==typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,s(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,s(e),t]}(),x[0]),ct=(q=x[1],x=x[2],q=q&&q.then,st&&st.constructor),ft=!!x,lt=function(t,e){gt.push([t,e]),dt&&(queueMicrotask(Nt),dt=!1)},ht=!0,dt=!0,pt=[],mt=[],Dt=X,yt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:H,pgp:!1,env:{},finalize:H},vt=yt,gt=[],wt=0,bt=[];function Ft(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var e=this._PSD=vt;if("function"!=typeof t){if(t!==ot)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ct(this,this._value))}this._state=null,this._value=null,++e.ref,function t(e,n){try{n((function(n){if(null===e._state){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Mt();n&&"function"==typeof n.then?t(e,(function(t,e){n instanceof Ft?n._then(t,e):n.then(t,e)})):(e._state=!0,e._value=n,xt(e)),r&&kt()}}),Ct.bind(null,e))}catch(n){Ct(e,n)}}(this,t)}var Et={get:function(){var t=vt,e=Rt;function n(n,r){var u=this,i=!t.global&&(t!==vt||e!==Rt),o=i&&!Ut(),a=new Ft((function(e,a){Bt(u,new At(Ht(n,t,i,o),Ht(r,t,i,o),e,a,t))}));return this._consoleTask&&(a._consoleTask=this._consoleTask),a}return n.prototype=ot,n},set:function(t){d(this,"then",t&&t.prototype===ot?Et:{get:function(){return t},set:Et.set})}};function At(t,e,n,r,u){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=u}function Ct(t,e){var n,r;mt.push(e),null===t._state&&(n=t._lib&&Mt(),e=Dt(e),t._state=!1,t._value=e,r=t,pt.some((function(t){return t._value===r._value}))||pt.push(r),xt(t),n&&kt())}function xt(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Bt(t,e[n]);var u=t._PSD;--u.ref||u.finalize(),0===wt&&(++wt,lt((function(){0==--wt&&Ot()}),[]))}function Bt(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++wt,lt(_t,[n,t,e])}else t._listeners.push(e)}function _t(t,e,n){try{var r,u=e._value;!e._state&&mt.length&&(mt=[]),r=ut&&e._consoleTask?e._consoleTask.run((function(){return t(u)})):t(u),e._state||-1!==mt.indexOf(u)||function(t){for(var e=pt.length;e;)if(pt[--e]._value===t._value)return pt.splice(e,1)}(e),n.resolve(r)}catch(t){n.reject(t)}finally{0==--wt&&Ot(),--n.psd.ref||n.psd.finalize()}}function Nt(){Yt(yt,(function(){Mt()&&kt()}))}function Mt(){var t=ht;return dt=ht=!1,t}function kt(){var t,e,n;do{for(;0<gt.length;)for(t=gt,gt=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(0<gt.length);dt=ht=!0}function Ot(){var t=pt;pt=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=bt.slice(0),n=e.length;n;)e[--n]()}function St(t){return new Ft(ot,!1,t)}function Tt(t,e){var n=vt;return function(){var r=Mt(),u=vt;try{return $t(n,!0),t.apply(this,arguments)}catch(r){e&&e(r)}finally{$t(u,!1),r&&kt()}}}l(Ft.prototype,{then:Et,_then:function(t,e){Bt(this,new At(null,null,t,e,vt))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=t,n=arguments[1];return"function"==typeof e?this.then(null,(function(t){return(t instanceof e?n:St)(t)})):this.then(null,(function(t){return(t&&t.name===e?n:St)(t)}))},finally:function(t){return this.then((function(e){return Ft.resolve(t()).then((function(){return e}))}),(function(e){return Ft.resolve(t()).then((function(){return St(e)}))}))},timeout:function(t,e){var n=this;return t<1/0?new Ft((function(r,u){var i=setTimeout((function(){return u(new $.Timeout(e))}),t);n.then(r,u).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(Ft.prototype,Symbol.toStringTag,"Dexie.Promise"),yt.env=Wt(),l(Ft,{all:function(){var t=P.apply(null,arguments).map(Vt);return new Ft((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(u,i){return Ft.resolve(u).then((function(n){t[i]=n,--r||e(t)}),n)}))}))},resolve:function(t){return t instanceof Ft?t:t&&"function"==typeof t.then?new Ft((function(e,n){t.then(e,n)})):new Ft(ot,!0,t)},reject:St,race:function(){var t=P.apply(null,arguments).map(Vt);return new Ft((function(e,n){t.map((function(t){return Ft.resolve(t).then(e,n)}))}))},PSD:{get:function(){return vt},set:function(t){return vt=t}},totalEchoes:{get:function(){return Rt}},newPSD:zt,usePSD:Yt,scheduler:{get:function(){return lt},set:function(t){lt=t}},rejectionMapper:{get:function(){return Dt},set:function(t){Dt=t}},follow:function(t,e){return new Ft((function(n,r){return zt((function(e,n){var r=vt;r.unhandleds=[],r.onunhandled=n,r.finalize=Q((function(){var t,r=this;t=function(){0===r.unhandleds.length?e():n(r.unhandleds[0])},bt.push((function e(){t(),bt.splice(bt.indexOf(e),1)})),++wt,lt((function(){0==--wt&&Ot()}),[])}),r.finalize),t()}),e,n,r)}))}}),ct&&(ct.allSettled&&d(Ft,"allSettled",(function(){var t=P.apply(null,arguments).map(Vt);return new Ft((function(e){0===t.length&&e([]);var n=t.length,r=new Array(n);t.forEach((function(t,u){return Ft.resolve(t).then((function(t){return r[u]={status:"fulfilled",value:t}}),(function(t){return r[u]={status:"rejected",reason:t}})).then((function(){return--n||e(r)}))}))}))})),ct.any&&"undefined"!=typeof AggregateError&&d(Ft,"any",(function(){var t=P.apply(null,arguments).map(Vt);return new Ft((function(e,n){0===t.length&&n(new AggregateError([]));var r=t.length,u=new Array(r);t.forEach((function(t,i){return Ft.resolve(t).then((function(t){return e(t)}),(function(t){u[i]=t,--r||n(new AggregateError(u))}))}))}))})));var It={awaits:0,echoes:0,id:0},Pt=0,jt=[],qt=0,Rt=0,Kt=0;function zt(t,e,n,r){var u=vt,i=Object.create(u);return i.parent=u,i.ref=0,i.global=!1,i.id=++Kt,yt.env,i.env=ft?{Promise:Ft,PromiseProp:{value:Ft,configurable:!0,writable:!0},all:Ft.all,race:Ft.race,allSettled:Ft.allSettled,any:Ft.any,resolve:Ft.resolve,reject:Ft.reject}:{},e&&a(i,e),++u.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Yt(i,t,n,r),0===i.ref&&i.finalize(),r}function Lt(){return It.id||(It.id=++Pt),++It.awaits,It.echoes+=at,It.id}function Ut(){return!!It.awaits&&(0==--It.awaits&&(It.id=0),It.echoes=It.awaits*at,!0)}function Vt(t){return It.echoes&&t&&t.constructor===ct?(Lt(),t.then((function(t){return Ut(),t}),(function(t){return Ut(),Gt(t)}))):t}function Zt(){var t=jt[jt.length-1];jt.pop(),$t(t,!1)}function $t(t,e){var n,r=vt;(e?!It.echoes||qt++&&t===vt:!qt||--qt&&t===vt)||queueMicrotask(e?function(t){++Rt,It.echoes&&0!=--It.echoes||(It.echoes=It.awaits=It.id=0),jt.push(vt),$t(t,!0)}.bind(null,t):Zt),t!==vt&&(vt=t,r===yt&&(yt.env=Wt()),ft&&(n=yt.env.Promise,e=t.env,(r.global||t.global)&&(Object.defineProperty(u,"Promise",e.PromiseProp),n.all=e.all,n.race=e.race,n.resolve=e.resolve,n.reject=e.reject,e.allSettled&&(n.allSettled=e.allSettled),e.any&&(n.any=e.any))))}function Wt(){var t=u.Promise;return ft?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function Yt(t,e,n,r,u){var i=vt;try{return $t(t,!0),e(n,r,u)}finally{$t(i,!1)}}function Ht(t,e,n,r){return"function"!=typeof t?t:function(){var u=vt;n&&Lt(),$t(e,!0);try{return t.apply(this,arguments)}finally{$t(u,!1),r&&queueMicrotask(Ut)}}}function Xt(t){Promise===ct&&0===It.echoes?0===qt?t():enqueueNativeMicroTask(t):setTimeout(t,0)}-1===(""+q).indexOf("[native code]")&&(Lt=Ut=H);var Gt=Ft.reject,Qt=String.fromCharCode(65535),Jt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",te="String expected.",ee=[],ne="__dbnames",re="readonly",ue="readwrite";function ie(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var oe={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ae(t){return"string"!=typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=N(e))[t],e}}function se(){throw $.Type()}function ce(t,e){try{var n=fe(t),r=fe(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e<t?1:t<e?-1:0;case"binary":return function(t,e){for(var n=t.length,r=e.length,u=n<r?n:r,i=0;i<u;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}(le(t),le(e));case"Array":return function(t,e){for(var n=t.length,r=e.length,u=n<r?n:r,i=0;i<u;++i){var o=ce(t[i],e[i]);if(0!==o)return o}return n===r?0:n<r?-1:1}(t,e)}}catch(t){}return NaN}function fe(t){var e=typeof t;return"object"!=e?e:ArrayBuffer.isView(t)||"ArrayBuffer"===(t=k(t))?"binary":t}function le(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var he=(de.prototype._trans=function(t,e,n){var r=this._tx||vt.trans,u=this.name,i=ut&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===t?"read":"write"," ").concat(this.name));function o(t,n,r){if(!r.schema[u])throw new $.NotFound("Table "+u+" not part of transaction");return e(r.idbtrans,r)}var a=Mt();try{var s=r&&r.db._novip===this.db._novip?r===vt.trans?r._promise(t,o,n):zt((function(){return r._promise(t,o,n)}),{trans:r,transless:vt.transless||vt}):function e(n,r,u,i){if(n.idbdb&&(n._state.openComplete||vt.letThrough||n._vip)){var o=n._createTransaction(r,u,n._dbSchema);try{o.create(),n._state.PR1398_maxLoop=3}catch(t){return t.name===V.InvalidState&&n.isOpen()&&0<--n._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),n.close({disableAutoOpen:!1}),n.open().then((function(){return e(n,r,u,i)}))):Gt(t)}return o._promise(r,(function(t,e){return zt((function(){return vt.trans=o,i(t,e,o)}))})).then((function(t){if("readwrite"===r)try{o.idbtrans.commit()}catch(t){}return"readonly"===r?t:o._completion.then((function(){return t}))}))}if(n._state.openComplete)return Gt(new $.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return Gt(new $.DatabaseClosed);n.open().catch(H)}return n._state.dbReadyPromise.then((function(){return e(n,r,u,i)}))}(this.db,t,[this.name],o);return i&&(s._consoleTask=i,s=s.catch((function(t){return console.trace(t),Gt(t)}))),s}finally{a&&kt()}},de.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):null==t?Gt(new $.Type("Invalid argument to Table.get()")):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)},de.prototype.where=function(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(o(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var e=i(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){if(t.compound&&e.every((function(e){return 0<=t.keyPath.indexOf(e)}))){for(var n=0;n<e.length;++n)if(-1===e.indexOf(t.keyPath[n]))return!1;return!0}return!1})).sort((function(t,e){return t.keyPath.length-e.keyPath.length}))[0];if(n&&this.db._maxKey!==Qt){var r=n.keyPath.slice(0,e.length);return this.where(r).equals(r.map((function(e){return t[e]})))}!n&&ut&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(e.join("+"),"]"));var u=this.schema.idxByName,a=this.db._deps.indexedDB;function s(t,e){return 0===a.cmp(t,e)}var c=e.reduce((function(e,n){var r=e[0],i=e[1],a=(e=u[n],t[n]);return[r||e,r||!e?ie(i,e&&e.multi?function(t){return t=b(t,n),o(t)&&t.some((function(t){return s(a,t)}))}:function(t){return s(a,b(t,n))}):i]}),[null,null]);return r=c[0],c=c[1],r?this.where(r.name).equals(t[r.keyPath]).filter(c):n?this.filter(c):this.where(e).equals("")},de.prototype.filter=function(t){return this.toCollection().and(t)},de.prototype.count=function(t){return this.toCollection().count(t)},de.prototype.offset=function(t){return this.toCollection().offset(t)},de.prototype.limit=function(t){return this.toCollection().limit(t)},de.prototype.each=function(t){return this.toCollection().each(t)},de.prototype.toArray=function(t){return this.toCollection().toArray(t)},de.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},de.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,o(t)?"[".concat(t.join("+"),"]"):t))},de.prototype.reverse=function(){return this.toCollection().reverse()},de.prototype.mapToClass=function(e){var n,r=this.db,u=this.name;function i(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof se&&(function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(i,n=e),Object.defineProperty(i.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),i.prototype.table=function(){return u},e=i);for(var o=new Set,a=e.prototype;a;a=s(a))Object.getOwnPropertyNames(a).forEach((function(t){return o.add(t)}));function c(t){if(!t)return t;var n,r=Object.create(e.prototype);for(n in t)if(!o.has(n))try{r[n]=t[n]}catch(t){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),e},de.prototype.defineClass=function(){return this.mapToClass((function(t){a(this,t)}))},de.prototype.add=function(t,e){var n=this,r=this.schema.primKey,u=r.auto,i=r.keyPath,o=t;return i&&u&&(o=ae(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[o]})})).then((function(t){return t.numFailures?Ft.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{F(t,i,e)}catch(e){}return e}))},de.prototype.update=function(t,e){return"object"!=typeof t||o(t)?this.where(":id").equals(t).modify(e):void 0===(t=b(t,this.schema.primKey.keyPath))?Gt(new $.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(t).modify(e)},de.prototype.put=function(t,e){var n=this,r=this.schema.primKey,u=r.auto,i=r.keyPath,o=t;return i&&u&&(o=ae(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[o],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?Ft.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{F(t,i,e)}catch(e){}return e}))},de.prototype.delete=function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?Ft.reject(t.failures[0]):void 0}))},de.prototype.clear=function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:oe})})).then((function(t){return t.numFailures?Ft.reject(t.failures[0]):void 0}))},de.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))},de.prototype.bulkAdd=function(t,e,n){var r=this,u=Array.isArray(e)?e:void 0,i=(n=n||(u?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=(a=r.schema.primKey).auto;if((a=a.keyPath)&&u)throw new $.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==t.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");var o=t.length,a=a&&n?t.map(ae(a)):t;return r.core.mutate({trans:e,type:"add",keys:u,values:a,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,u=t.lastResult;if(t=t.failures,0===e)return i?n:u;throw new U("".concat(r.name,".bulkAdd(): ").concat(e," of ").concat(o," operations failed"),t)}))}))},de.prototype.bulkPut=function(t,e,n){var r=this,u=Array.isArray(e)?e:void 0,i=(n=n||(u?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=(a=r.schema.primKey).auto;if((a=a.keyPath)&&u)throw new $.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==t.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");var o=t.length,a=a&&n?t.map(ae(a)):t;return r.core.mutate({trans:e,type:"put",keys:u,values:a,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,u=t.lastResult;if(t=t.failures,0===e)return i?n:u;throw new U("".concat(r.name,".bulkPut(): ").concat(e," of ").concat(o," operations failed"),t)}))}))},de.prototype.bulkUpdate=function(t){var e=this,n=this.core,r=t.map((function(t){return t.key})),u=t.map((function(t){return t.changes})),i=[];return this._trans("readwrite",(function(o){return n.getMany({trans:o,keys:r,cache:"clone"}).then((function(a){var s=[],c=[];t.forEach((function(t,n){var r=t.key,u=t.changes,o=a[n];if(o){for(var f=0,l=Object.keys(u);f<l.length;f++){var h=l[f],d=u[h];if(h===e.schema.primKey.keyPath){if(0!==ce(d,r))throw new $.Constraint("Cannot update primary key in bulkUpdate()")}else F(o,h,d)}i.push(n),s.push(r),c.push(o)}}));var f=s.length;return n.mutate({trans:o,type:"put",keys:s,values:c,updates:{keys:r,changeSpecs:u}}).then((function(t){var n=t.numFailures,r=t.failures;if(0===n)return f;for(var u=0,o=Object.keys(r);u<o.length;u++){var a,s=o[u],c=i[Number(s)];null!=c&&(a=r[s],delete r[s],r[c]=a)}throw new U("".concat(e.name,".bulkUpdate(): ").concat(n," of ").concat(f," operations failed"),r)}))}))}))},de.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var r=t.numFailures,u=t.lastResult;if(t=t.failures,0===r)return u;throw new U("".concat(e.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),t)}))},de);function de(){}function pe(t){function e(e,r){if(r){for(var u=arguments.length,i=new Array(u-1);--u;)i[u-1]=arguments[u];return n[e].subscribe.apply(null,i),t}if("string"==typeof e)return n[e]}var n={};e.addEventType=a;for(var r=1,u=arguments.length;r<u;++r)a(arguments[r]);return e;function a(t,r,u){if("object"!=typeof t){var s;r=r||nt;var c={subscribers:[],fire:u=u||H,subscribe:function(t){-1===c.subscribers.indexOf(t)&&(c.subscribers.push(t),c.fire=r(c.fire,t))},unsubscribe:function(t){c.subscribers=c.subscribers.filter((function(e){return e!==t})),c.fire=c.subscribers.reduce(r,u)}};return n[t]=e[t]=c}i(s=t).forEach((function(t){var e=s[t];if(o(e))a(t,s[t][0],s[t][1]);else{if("asap"!==e)throw new $.InvalidArgument("Invalid event config");var n=a(t,X,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){w((function(){t.apply(null,e)}))}))}))}}))}}function me(t,e){return p(e).from({prototype:t}),e}function De(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ye(t,e){t.filter=ie(t.filter,e)}function ve(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return ie(r(),e())}:e,t.justLimit=n&&!r}function ge(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new $.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function we(t,e,n){var r=ge(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function be(t,e,n,r){var u=t.replayFilter?ie(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},o=function(t,n,r){var o,a;u&&!u(n,r,(function(t){return n.stop(t)}),(function(t){return n.fail(t)}))||("[object ArrayBuffer]"==(a=""+(o=n.primaryKey))&&(a=""+new Uint8Array(o)),f(i,a)||(i[a]=!0,e(t,n,r)))};return Promise.all([t.or._iterate(o,n),Fe(we(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}return Fe(we(t,r,n),ie(t.algorithm,u),e,!t.keysOnly&&t.valueMapper)}function Fe(t,e,n,r){var u=Tt(r?function(t,e,u){return n(r(t),e,u)}:n);return t.then((function(t){if(t)return t.start((function(){var n=function(){return t.continue()};e&&!e(t,(function(t){return n=t}),(function(e){t.stop(e),n=H}),(function(e){t.fail(e),n=H}))||u(t.value,t,(function(t){return n=t})),n()}))}))}x=Symbol();var Ee=(Ae.prototype.execute=function(t){if(void 0!==this.add){var e=this.add;if(o(e))return r(r([],o(t)?t:[],!0),e,!0).sort();if("number"==typeof e)return(Number(t)||0)+e;if("bigint"==typeof e)try{return BigInt(t)+e}catch(t){return BigInt(0)+e}throw new TypeError("Invalid term ".concat(e))}if(void 0!==this.remove){var n=this.remove;if(o(n))return o(t)?t.filter((function(t){return!n.includes(t)})).sort():[];if("number"==typeof n)return Number(t)-n;if("bigint"==typeof n)try{return BigInt(t)-n}catch(t){return BigInt(0)-n}throw new TypeError("Invalid subtrahend ".concat(n))}return(e=null===(e=this.replacePrefix)||void 0===e?void 0:e[0])&&"string"==typeof t&&t.startsWith(e)?this.replacePrefix[1]+t.substring(e.length):t},Ae);function Ae(t){Object.assign(this,t)}var Ce=(xe.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,Gt.bind(null,n.error)):n.table._trans("readonly",t).then(e)},xe.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,Gt.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},xe.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=ie(e.algorithm,t)},xe.prototype._iterate=function(t,e){return be(this._ctx,t,e,this._ctx.table.core)},xe.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&a(n,t),e._ctx=n,e},xe.prototype.raw=function(){return this._ctx.valueMapper=null,this},xe.prototype.each=function(t){var e=this._ctx;return this._read((function(n){return be(e,t,n,e.table.core)}))},xe.prototype.count=function(t){var e=this;return this._read((function(t){var n=e._ctx,r=n.table.core;if(De(n,!0))return r.count({trans:t,query:{index:ge(n,r.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var u=0;return be(n,(function(){return++u,!1}),t,r).then((function(){return u}))})).then(t)},xe.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),r=n[0],u=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var o="next"===this._ctx.dir?1:-1;function a(t,e){return(t=i(t,u))<(e=i(e,u))?-o:e<t?o:0}return this.toArray((function(t){return t.sort(a)})).then(e)},xe.prototype.toArray=function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&De(n,!0)&&0<n.limit){var r=n.valueMapper,u=ge(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:u,range:n.range}}).then((function(t){return t=t.result,r?t.map(r):t}))}var i=[];return be(n,(function(t){return i.push(t)}),t,n.table.core).then((function(){return i}))}),t)},xe.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,De(e)?ve(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?--e:n((function(){t.advance(e),e=0})),!1)}})):ve(e,(function(){var e=t;return function(){return--e<0}}))),this},xe.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ve(this._ctx,(function(){var e=t;return function(t,n,r){return--e<=0&&n(r),0<=e}}),!0),this},xe.prototype.until=function(t,e){return ye(this._ctx,(function(n,r,u){return!t(n.value)||(r(u),e)})),this},xe.prototype.first=function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)},xe.prototype.last=function(t){return this.reverse().first(t)},xe.prototype.filter=function(t){var e;return ye(this._ctx,(function(e){return t(e.value)})),(e=this._ctx).isMatch=ie(e.isMatch,t),this},xe.prototype.and=function(t){return this.filter(t)},xe.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},xe.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xe.prototype.desc=function(){return this.reverse()},xe.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))},xe.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},xe.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))},xe.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)},xe.prototype.primaryKeys=function(t){var e=this._ctx;if("next"===e.dir&&De(e,!0)&&0<e.limit)return this._read((function(t){var n=ge(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)},xe.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},xe.prototype.firstKey=function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)},xe.prototype.lastKey=function(t){return this.reverse().firstKey(t)},xe.prototype.distinct=function(){var t;if(!(t=(t=this._ctx).index&&t.table.schema.idxByName[t.index])||!t.multi)return this;var e={};return ye(this._ctx,(function(t){var n=t.primaryKey.toString();return t=f(e,n),e[n]=!0,!t})),this},xe.prototype.modify=function(t){var e=this,n=this._ctx;return this._write((function(r){var u,o,a;function s(t,e){var n=e.failures;e=e.numFailures,m+=t-e;for(var r=0,u=i(n);r<u.length;r++){var o=u[r];p.push(n[o])}}a="function"==typeof t?t:(u=i(t),o=u.length,function(e){for(var n=!1,r=0;r<o;++r){var i=u[r],a=t[i],s=b(e,i);a instanceof Ee?(F(e,i,a.execute(s)),n=!0):s!==a&&(F(e,i,a),n=!0)}return n});var c=n.table.core,f=c.schema.primaryKey,l=f.outbound,h=f.extractKey,d=e.db._options.modifyChunkSize||200,p=[],m=0,D=[];return e.clone().primaryKeys().then((function(e){function u(n){var o=Math.min(d,e.length-n);return c.getMany({trans:r,keys:e.slice(n,n+o),cache:"immutable"}).then((function(f){for(var p=[],m=[],D=l?[]:null,y=[],v=0;v<o;++v){var g=f[v],w={value:N(g),primKey:e[n+v]};!1!==a.call(w,w.value,w)&&(null==w.value?y.push(e[n+v]):l||0===ce(h(g),h(w.value))?(m.push(w.value),l&&D.push(e[n+v])):(y.push(e[n+v]),p.push(w.value)))}return Promise.resolve(0<p.length&&c.mutate({trans:r,type:"add",values:p}).then((function(t){for(var e in t.failures)y.splice(parseInt(e),1);s(p.length,t)}))).then((function(){return(0<m.length||i&&"object"==typeof t)&&c.mutate({trans:r,type:"put",keys:D,values:m,criteria:i,changeSpec:"function"!=typeof t&&t,isAdditionalChunk:0<n}).then((function(t){return s(m.length,t)}))})).then((function(){return(0<y.length||i&&t===Be)&&c.mutate({trans:r,type:"delete",keys:y,criteria:i,isAdditionalChunk:0<n}).then((function(t){return s(y.length,t)}))})).then((function(){return e.length>n+o&&u(n+d)}))}))}var i=De(n)&&n.limit===1/0&&("function"!=typeof t||t===Be)&&{index:n.index,range:n.range};return u(0).then((function(){if(0<p.length)throw new L("Error modifying one or more objects",p,m,D);return e.length}))}))}))},xe.prototype.delete=function(){var t=this._ctx,e=t.range;return De(t)&&(t.isPrimKey||3===e.type)?this._write((function(n){var r=t.table.core.schema.primaryKey,u=e;return t.table.core.count({trans:n,query:{index:r,range:u}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:u}).then((function(t){var n=t.failures;if(t.lastResult,t.results,t=t.numFailures)throw new L("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-t);return e-t}))}))})):this.modify(Be)},xe);function xe(){}var Be=function(t,e){return e.value=null};function _e(t,e){return t<e?-1:t===e?0:1}function Ne(t,e){return e<t?-1:t===e?0:1}function Me(t,e,n){return(t=t instanceof Ie?new t.Collection(t):t)._ctx.error=new(n||TypeError)(e),t}function ke(t){return new t.Collection(t,(function(){return Te("")})).limit(0)}function Oe(t,e,n,r){var u,i,o,a,s,c,f,l=n.length;if(!n.every((function(t){return"string"==typeof t})))return Me(t,te);function h(t){u="next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()},i="next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()},o="next"===t?_e:Ne;var e=n.map((function(t){return{lower:i(t),upper:u(t)}})).sort((function(t,e){return o(t.lower,e.lower)}));a=e.map((function(t){return t.upper})),s=e.map((function(t){return t.lower})),f="next"===(c=t)?"":r}h("next"),(t=new t.Collection(t,(function(){return Se(a[0],s[l-1]+r)})))._ondirectionchange=function(t){h(t)};var d=0;return t._addAlgorithm((function(t,n,r){var u=t.key;if("string"!=typeof u)return!1;var h=i(u);if(e(h,s,d))return!0;for(var p=null,m=d;m<l;++m){var D=function(t,e,n,r,u,i){for(var o=Math.min(t.length,r.length),a=-1,s=0;s<o;++s){var c=e[s];if(c!==r[s])return u(t[s],n[s])<0?t.substr(0,s)+n[s]+n.substr(s+1):u(t[s],r[s])<0?t.substr(0,s)+r[s]+n.substr(s+1):0<=a?t.substr(0,a)+e[a]+n.substr(a+1):null;u(t[s],c)<0&&(a=s)}return o<r.length&&"next"===i?t+n.substr(t.length):o<t.length&&"prev"===i?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}(u,h,a[m],s[m],o,c);null===D&&null===p?d=m+1:(null===p||0<o(p,D))&&(p=D)}return n(null!==p?function(){t.continue(p+f)}:r),!1})),t}function Se(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Te(t){return{type:1,lower:t,upper:t}}var Ie=(Object.defineProperty(Pe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pe.prototype.between=function(t,e,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(t,e)||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?ke(this):new this.Collection(this,(function(){return Se(t,e,!n,!r)}))}catch(t){return Me(this,Jt)}},Pe.prototype.equals=function(t){return null==t?Me(this,Jt):new this.Collection(this,(function(){return Te(t)}))},Pe.prototype.above=function(t){return null==t?Me(this,Jt):new this.Collection(this,(function(){return Se(t,void 0,!0)}))},Pe.prototype.aboveOrEqual=function(t){return null==t?Me(this,Jt):new this.Collection(this,(function(){return Se(t,void 0,!1)}))},Pe.prototype.below=function(t){return null==t?Me(this,Jt):new this.Collection(this,(function(){return Se(void 0,t,!1,!0)}))},Pe.prototype.belowOrEqual=function(t){return null==t?Me(this,Jt):new this.Collection(this,(function(){return Se(void 0,t)}))},Pe.prototype.startsWith=function(t){return"string"!=typeof t?Me(this,te):this.between(t,t+Qt,!0,!0)},Pe.prototype.startsWithIgnoreCase=function(t){return""===t?this.startsWith(t):Oe(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],Qt)},Pe.prototype.equalsIgnoreCase=function(t){return Oe(this,(function(t,e){return t===e[0]}),[t],"")},Pe.prototype.anyOfIgnoreCase=function(){var t=P.apply(I,arguments);return 0===t.length?ke(this):Oe(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")},Pe.prototype.startsWithAnyOfIgnoreCase=function(){var t=P.apply(I,arguments);return 0===t.length?ke(this):Oe(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,Qt)},Pe.prototype.anyOf=function(){var t=this,e=P.apply(I,arguments),n=this._cmp;try{e.sort(n)}catch(r){return Me(this,Jt)}if(0===e.length)return ke(this);var r=new this.Collection(this,(function(){return Se(e[0],e[e.length-1])}));r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var u=0;return r._addAlgorithm((function(t,r,i){for(var o=t.key;0<n(o,e[u]);)if(++u===e.length)return r(i),!1;return 0===n(o,e[u])||(r((function(){t.continue(e[u])})),!1)})),r},Pe.prototype.notEqual=function(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pe.prototype.noneOf=function(){var t=P.apply(I,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return Me(this,Jt)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},Pe.prototype.inAnyRange=function(t,e){var n=this,r=this._cmp,u=this._ascending,i=this._descending,o=this._min,a=this._max;if(0===t.length)return ke(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&u(t[0],t[1])<=0})))return Me(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$.InvalidArgument);var s,c=!e||!1!==e.includeLowers,f=e&&!0===e.includeUppers,l=u;function h(t,e){return l(t[0],e[0])}try{(s=t.reduce((function(t,e){for(var n=0,u=t.length;n<u;++n){var i=t[n];if(r(e[0],i[1])<0&&0<r(e[1],i[0])){i[0]=o(i[0],e[0]),i[1]=a(i[1],e[1]);break}}return n===u&&t.push(e),t}),[])).sort(h)}catch(t){return Me(this,Jt)}var d=0,p=f?function(t){return 0<u(t,s[d][1])}:function(t){return 0<=u(t,s[d][1])},m=c?function(t){return 0<i(t,s[d][0])}:function(t){return 0<=i(t,s[d][0])},D=p;return(t=new this.Collection(this,(function(){return Se(s[0][0],s[s.length-1][1],!c,!f)})))._ondirectionchange=function(t){l="next"===t?(D=p,u):(D=m,i),s.sort(h)},t._addAlgorithm((function(t,e,r){for(var i,o=t.key;D(o);)if(++d===s.length)return e(r),!1;return!p(i=o)&&!m(i)||(0===n._cmp(o,s[d][1])||0===n._cmp(o,s[d][0])||e((function(){l===u?t.continue(s[d][0]):t.continue(s[d][1])})),!1)})),t},Pe.prototype.startsWithAnyOf=function(){var t=P.apply(I,arguments);return t.every((function(t){return"string"==typeof t}))?0===t.length?ke(this):this.inAnyRange(t.map((function(t){return[t,t+Qt]}))):Me(this,"startsWithAnyOf() only works with strings")},Pe);function Pe(){}function je(t){return Tt((function(e){return qe(e),t(e.target.error),!1}))}function qe(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Re="storagemutated",Ke="x-storagemutated-1",ze=pe(null,Re),Le=(Ue.prototype._lock=function(){return g(!vt.global),++this._reculock,1!==this._reculock||vt.global||(vt.lockOwnerFor=this),this},Ue.prototype._unlock=function(){if(g(!vt.global),0==--this._reculock)for(vt.global||(vt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var t=this._blockedFuncs.shift();try{Yt(t[1],t[0])}catch(t){}}return this},Ue.prototype._locked=function(){return this._reculock&&vt.lockOwnerFor!==this},Ue.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(g(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new $.DatabaseClosed(r);case"MissingAPIError":throw new $.MissingAPI(r.message,r);default:throw new $.OpenFailed(r)}if(!this.active)throw new $.TransactionInactive;return g(null===this._completion._state),(t=this.idbtrans=t||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Tt((function(n){qe(n),e._reject(t.error)})),t.onabort=Tt((function(n){qe(n),e.active&&e._reject(new $.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=Tt((function(){e.active=!1,e._resolve(),"mutatedParts"in t&&ze.storagemutated.fire(t.mutatedParts)})),this},Ue.prototype._promise=function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return Gt(new $.ReadOnly("Transaction is readonly"));if(!this.active)return Gt(new $.TransactionInactive);if(this._locked())return new Ft((function(u,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(u,i)},vt])}));if(n)return zt((function(){var t=new Ft((function(t,n){r._lock();var u=e(t,n,r);u&&u.then&&u.then(t,n)}));return t.finally((function(){return r._unlock()})),t._lib=!0,t}));var u=new Ft((function(t,n){var u=e(t,n,r);u&&u.then&&u.then(t,n)}));return u._lib=!0,u},Ue.prototype._root=function(){return this.parent?this.parent._root():this},Ue.prototype.waitFor=function(t){var e,n=this._root(),r=Ft.resolve(t);n._waitingFor?n._waitingFor=n._waitingFor.then((function(){return r})):(n._waitingFor=r,n._waitingQueue=[],e=n.idbtrans.objectStore(n.storeNames[0]),function t(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(e.get(-1/0).onsuccess=t)}());var u=n._waitingFor;return new Ft((function(t,e){r.then((function(e){return n._waitingQueue.push(Tt(t.bind(null,e)))}),(function(t){return n._waitingQueue.push(Tt(e.bind(null,t)))})).finally((function(){n._waitingFor===u&&(n._waitingFor=null)}))}))},Ue.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new $.Abort))},Ue.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(f(e,t))return e[t];var n=this.schema[t];if(!n)throw new $.NotFound("Table "+t+" not part of transaction");return(n=new this.db.Table(t,n,this)).core=this.db.core.table(t),e[t]=n},Ue);function Ue(){}function Ve(t,e,n,r,u,i,o){return{name:t,keyPath:e,unique:n,multi:r,auto:u,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(u?"++":"")+Ze(e)}}function Ze(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function $e(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:(r=function(t){return[t.name,t]},n.reduce((function(t,e,n){return(n=r(e,n))&&(t[n[0]]=n[1]),t}),{}))};var r}var We=function(t){try{return t.only([[]]),We=function(){return[[]]},[[]]}catch(t){return We=function(){return Qt},Qt}};function Ye(t){return null==t?function(){}:"string"==typeof t?1===(e=t).split(".").length?function(t){return t[e]}:function(t){return b(t,e)}:function(e){return b(e,t)};var e}function He(t){return[].slice.call(t)}var Xe=0;function Ge(t){return null==t?":id":"string"==typeof t?t:"[".concat(t.join("+"),"]")}function Qe(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,u=t.lowerOpen;return t=t.upperOpen,void 0===n?void 0===r?null:e.upperBound(r,!!t):void 0===r?e.lowerBound(n,!!u):e.bound(n,r,!!u,!!t)}function u(t){var e,n=t.name;return{name:n,schema:t,mutate:function(t){var e=t.trans,u=t.type,i=t.keys,o=t.values,a=t.range;return new Promise((function(t,s){t=Tt(t);var c=e.objectStore(n),f=null==c.keyPath,l="put"===u||"add"===u;if(!l&&"delete"!==u&&"deleteRange"!==u)throw new Error("Invalid operation type: "+u);var h,d=(i||o||{length:1}).length;if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return t({numFailures:0,failures:{},results:[],lastResult:void 0});function p(t){++y,qe(t)}var m=[],D=[],y=0;if("deleteRange"===u){if(4===a.type)return t({numFailures:y,failures:D,results:[],lastResult:void 0});3===a.type?m.push(h=c.clear()):m.push(h=c.delete(r(a)))}else{var v=(f=l?f?[o,i]:[o,null]:[i,null])[0],g=f[1];if(l)for(var w=0;w<d;++w)m.push(h=g&&void 0!==g[w]?c[u](v[w],g[w]):c[u](v[w])),h.onerror=p;else for(w=0;w<d;++w)m.push(h=c[u](v[w])),h.onerror=p}function b(e){e=e.target.result,m.forEach((function(t,e){return null!=t.error&&(D[e]=t.error)})),t({numFailures:y,failures:D,results:"delete"===u?i:m.map((function(t){return t.result})),lastResult:e})}h.onerror=function(t){p(t),b(t)},h.onsuccess=b}))},getMany:function(t){var e=t.trans,r=t.keys;return new Promise((function(t,u){t=Tt(t);for(var i,o=e.objectStore(n),a=r.length,s=new Array(a),c=0,f=0,l=function(e){e=e.target,s[e._pos]=e.result,++f===c&&t(s)},h=je(u),d=0;d<a;++d)null!=r[d]&&((i=o.get(r[d]))._pos=d,i.onsuccess=l,i.onerror=h,++c);0===c&&t(s)}))},get:function(t){var e=t.trans,r=t.key;return new Promise((function(t,u){t=Tt(t);var i=e.objectStore(n).get(r);i.onsuccess=function(e){return t(e.target.result)},i.onerror=je(u)}))},query:(e=f,function(t){return new Promise((function(u,i){u=Tt(u);var o,a,s,c=t.trans,f=t.values,l=t.limit,h=t.query,d=l===1/0?void 0:l,p=h.index;if(h=h.range,c=c.objectStore(n),p=p.isPrimaryKey?c:c.index(p.name),h=r(h),0===l)return u({result:[]});e?((d=f?p.getAll(h,d):p.getAllKeys(h,d)).onsuccess=function(t){return u({result:t.target.result})},d.onerror=je(i)):(o=0,a=!f&&"openKeyCursor"in p?p.openKeyCursor(h):p.openCursor(h),s=[],a.onsuccess=function(t){var e=a.result;return e?(s.push(f?e.value:e.primaryKey),++o===l?u({result:s}):void e.continue()):u({result:s})},a.onerror=je(i))}))}),openCursor:function(t){var e=t.trans,u=t.values,i=t.query,o=t.reverse,a=t.unique;return new Promise((function(t,s){t=Tt(t);var c=i.index,f=i.range,l=e.objectStore(n),h=(l=c.isPrimaryKey?l:l.index(c.name),c=o?a?"prevunique":"prev":a?"nextunique":"next",!u&&"openKeyCursor"in l?l.openKeyCursor(r(f),c):l.openCursor(r(f),c));h.onerror=je(s),h.onsuccess=Tt((function(n){var r,u,i,o,a=h.result;a?(a.___id=++Xe,a.done=!1,r=a.continue.bind(a),u=(u=a.continuePrimaryKey)&&u.bind(a),i=a.advance.bind(a),o=function(){throw new Error("Cursor not stopped")},a.trans=e,a.stop=a.continue=a.continuePrimaryKey=a.advance=function(){throw new Error("Cursor not started")},a.fail=Tt(s),a.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},a.start=function(t){function e(){if(h.result)try{t()}catch(t){a.fail(t)}else a.done=!0,a.start=function(){throw new Error("Cursor behind last entry")},a.stop()}var n=new Promise((function(t,e){t=Tt(t),h.onerror=je(e),a.fail=e,a.stop=function(e){a.stop=a.continue=a.continuePrimaryKey=a.advance=o,t(e)}}));return h.onsuccess=Tt((function(t){h.onsuccess=e,e()})),a.continue=r,a.continuePrimaryKey=u,a.advance=i,e(),n},t(a)):t(null)}),s)}))},count:function(t){var e=t.query,u=t.trans,i=e.index,o=e.range;return new Promise((function(t,e){var a=u.objectStore(n),s=i.isPrimaryKey?a:a.index(i.name);(s=(a=r(o))?s.count(a):s.count()).onsuccess=Tt((function(e){return t(e.target.result)})),s.onerror=je(e)}))}}}var i,a,s,c=(a=n,s=He((i=t).objectStoreNames),{schema:{name:i.name,tables:s.map((function(t){return a.objectStore(t)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=o(e),u={};return n={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==e,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:Ye(e)},indexes:He(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry;return t=t.keyPath,r={name:e,compound:o(t),keyPath:t,unique:n,multiEntry:r,extractKey:Ye(t)},u[Ge(t)]=r})),getIndexByKeyPath:function(t){return u[Ge(t)]}},u[":id"]=n.primaryKey,null!=e&&(u[Ge(e)]=n.primaryKey),n}))},hasGetAll:0<s.length&&"getAll"in a.objectStore(s[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),f=(n=c.schema,c.hasGetAll),l=(c=n.tables.map(u),{});return c.forEach((function(t){return l[t.name]=t})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!l[t])throw new Error("Table '".concat(t,"' not found"));return l[t]},MIN_KEY:-1/0,MAX_KEY:We(e),schema:n}}function Je(t,n,r,u){var i=r.IDBKeyRange;return r.indexedDB,{dbcore:(u=Qe(n,i,u),t.dbcore.reduce((function(t,n){return n=n.create,e(e({},t),n(t))}),u))}}function tn(t,e){var n=e.db;e=Je(t._middlewares,n,t._deps,e),t.core=e.dbcore,t.tables.forEach((function(e){var n=e.name;t.core.schema.tables.some((function(t){return t.name===n}))&&(e.core=t.core.table(n),t[n]instanceof t.Table&&(t[n].core=e.core))}))}function en(t,e,n,r){n.forEach((function(n){var u=r[n];e.forEach((function(e){var r=function t(e,n){return m(e,n)||(e=s(e))&&t(e,n)}(e,n);(!r||"value"in r&&void 0===r.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?d(e,n,{get:function(){return this.table(n)},set:function(t){h(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,u))}))}))}function nn(t,e){e.forEach((function(e){for(var n in e)e[n]instanceof t.Table&&delete e[n]}))}function rn(t,e){return t._cfg.version-e._cfg.version}function un(t,e,n,r){var u=t._dbSchema;n.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=$e("$meta",dn("")[0],[]),t._storeNames.push("$meta"));var o=t._createTransaction("readwrite",t._storeNames,u);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),s=vt.transless||vt;zt((function(){return vt.trans=o,vt.transless=s,0!==e?(tn(t,n),c=e,((r=o).storeNames.includes("$meta")?r.table("$meta").get("version").then((function(t){return null!=t?t:c})):Ft.resolve(c)).then((function(e){return u=e,a=o,s=n,c=[],e=(r=t)._versions,f=r._dbSchema=ln(0,r.idbdb,s),0!==(e=e.filter((function(t){return t._cfg.version>=u}))).length?(e.forEach((function(t){c.push((function(){var e=f,n=t._cfg.dbschema;hn(r,e,s),hn(r,n,s),f=r._dbSchema=n;var o=an(e,n);o.add.forEach((function(t){sn(s,t[0],t[1].primKey,t[1].indexes)})),o.change.forEach((function(t){if(t.recreate)throw new $.Upgrade("Not yet support for changing primary key");var e=s.objectStore(t.name);t.add.forEach((function(t){return fn(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),fn(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var c=t._cfg.contentUpgrade;if(c&&t._cfg.version>u){tn(r,s),a._memoizedTables={};var l=E(n);o.del.forEach((function(t){l[t]=e[t]})),nn(r,[r.Transaction.prototype]),en(r,[r.Transaction.prototype],i(l),l),a.schema=l;var h,d=j(c);return d&&Lt(),o=Ft.follow((function(){var t;(h=c(a))&&d&&(t=Ut.bind(null,null),h.then(t,t))})),h&&"function"==typeof h.then?Ft.resolve(h):o.then((function(){return h}))}})),c.push((function(e){var n,u,i=t._cfg.dbschema;n=i,u=e,[].slice.call(u.db.objectStoreNames).forEach((function(t){return null==n[t]&&u.db.deleteObjectStore(t)})),nn(r,[r.Transaction.prototype]),en(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),a.schema=r._dbSchema})),c.push((function(e){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===t._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter((function(t){return"$meta"!==t}))):e.objectStore("$meta").put(t._cfg.version,"version"))}))})),function t(){return c.length?Ft.resolve(c.shift()(a.idbtrans)).then(t):Ft.resolve()}().then((function(){cn(f,s)}))):Ft.resolve();var r,u,a,s,c,f})).catch(a)):(i(u).forEach((function(t){sn(n,t,u[t].primKey,u[t].indexes)})),tn(t,n),void Ft.follow((function(){return t.on.populate.fire(o)})).catch(a));var r,c}))}function on(t,e){cn(t._dbSchema,e),e.db.version%10!=0||e.objectStoreNames.contains("$meta")||e.db.createObjectStore("$meta").add(Math.ceil(e.db.version/10-1),"version");var n=ln(0,t.idbdb,e);hn(t,t._dbSchema,e);for(var r=0,u=an(n,t._dbSchema).change;r<u.length;r++){var i=function(t){if(t.change.length||t.recreate)return console.warn("Unable to patch indexes of table ".concat(t.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=e.objectStore(t.name);t.add.forEach((function(e){ut&&console.debug("Dexie upgrade patch: Creating missing index ".concat(t.name,".").concat(e.src)),fn(n,e)}))}(u[r]);if("object"==typeof i)return i.value}}function an(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var u=t[n],i=e[n];if(u){var o={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||u.primKey.auto!==i.primKey.auto)o.recreate=!0,r.change.push(o);else{var a=u.idxByName,s=i.idxByName,c=void 0;for(c in a)s[c]||o.del.push(c);for(c in s){var f=a[c],l=s[c];f?f.src!==l.src&&o.change.push(l):o.add.push(l)}(0<o.del.length||0<o.add.length||0<o.change.length)&&r.change.push(o)}}else r.add.push([n,i])}return r}function sn(t,e,n,r){var u=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){return fn(u,t)})),u}function cn(t,e){i(t).forEach((function(n){e.db.objectStoreNames.contains(n)||(ut&&console.debug("Dexie: Creating missing table",n),sn(e,n,t[n].primKey,t[n].indexes))}))}function fn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ln(t,e,n){var r={};return y(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),u=Ve(Ze(a=e.keyPath),a||"",!0,!1,!!e.autoIncrement,a&&"string"!=typeof a,!0),i=[],o=0;o<e.indexNames.length;++o){var a=(s=e.index(e.indexNames[o])).keyPath,s=Ve(s.name,a,!!s.unique,!!s.multiEntry,!1,a&&"string"!=typeof a,!1);i.push(s)}r[t]=$e(t,u,i)})),r}function hn(t,e,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var o=r[i],a=n.objectStore(o);t._hasGetAll="getAll"in a;for(var s=0;s<a.indexNames.length;++s){var c=a.indexNames[s],f=a.index(c).keyPath,l="string"==typeof f?f:"["+y(f).join("+")+"]";!e[o]||(f=e[o].idxByName[l])&&(f.name=c,delete e[o].idxByName[l],e[o].idxByName[c]=f)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function dn(t){return t.split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Ve(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),o(r),0===e)}))}var pn=(mn.prototype._parseStoresSpec=function(t,e){i(t).forEach((function(n){if(null!==t[n]){var r=dn(t[n]),u=r.shift();if(u.unique=!0,u.multi)throw new $.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new $.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new $.Schema("Index must have a name and cannot be an empty string")})),e[n]=$e(n,u,r)}}))},mn.prototype.stores=function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,t):t,t=e._versions;var n={},r={};return t.forEach((function(t){a(n,t._cfg.storesSource),r=t._cfg.dbschema={},t._parseStoresSpec(n,r)})),e._dbSchema=r,nn(e,[e._allTables,e,e.Transaction.prototype]),en(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],i(r),r),e._storeNames=i(r),this},mn.prototype.upgrade=function(t){return this._cfg.contentUpgrade=rt(this._cfg.contentUpgrade||H,t),this},mn);function mn(){}function Dn(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new er(ne,{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function yn(t){return t&&"function"==typeof t.databases}function vn(t){return zt((function(){return vt.letThrough=!0,t()}))}function gn(t){return!("from"in t)}var wn=function(t,e){if(!this){var n=new wn;return t&&"d"in t&&a(n,t),n}a(this,arguments.length?{d:1,from:t,to:1<arguments.length?e:t}:{d:0})};function bn(t,e,n){var r=ce(e,n);if(!isNaN(r)){if(0<r)throw RangeError();if(gn(t))return a(t,{from:e,to:n,d:1});var u=t.l;if(r=t.r,ce(n,t.from)<0)return u?bn(u,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Cn(t);if(0<ce(e,t.to))return r?bn(r,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Cn(t);ce(e,t.from)<0&&(t.from=e,t.l=null,t.d=r?r.d+1:1),0<ce(n,t.to)&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1),n=!t.r,u&&!t.l&&Fn(t,u),r&&n&&Fn(t,r)}}function Fn(t,e){gn(e)||function t(e,n){var r=n.from,u=n.to,i=n.l;n=n.r,bn(e,r,u),i&&t(e,i),n&&t(e,n)}(t,e)}function En(t,e){var n=An(e),r=n.next();if(r.done)return!1;for(var u=r.value,i=An(t),o=i.next(u.from),a=o.value;!r.done&&!o.done;){if(ce(a.from,u.to)<=0&&0<=ce(a.to,u.from))return!0;ce(u.from,a.from)<0?u=(r=n.next(a.from)).value:a=(o=i.next(u.from)).value}return!1}function An(t){var e=gn(t)?null:{s:0,n:t};return{next:function(t){for(var n=0<arguments.length;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&ce(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||ce(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Cn(t){var n,r,u=((null===(n=t.r)||void 0===n?void 0:n.d)||0)-((null===(r=t.l)||void 0===r?void 0:r.d)||0),i=1<u?"r":u<-1?"l":"";i&&(n="r"==i?"l":"r",r=e({},t),u=t[i],t.from=u.from,t.to=u.to,t[i]=u[i],r[i]=u[n],(t[n]=r).d=xn(r)),t.d=xn(t)}function xn(t){var e=t.r;return t=t.l,(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}function Bn(t,e){return i(e).forEach((function(n){t[n]?Fn(t[n],e[n]):t[n]=function t(e){var n,r,u={};for(n in e)f(e,n)&&(r=e[n],u[n]=!r||"object"!=typeof r||B.has(r.constructor)?r:t(r));return u}(e[n])})),t}function _n(t,e){return t.all||e.all||Object.keys(t).some((function(n){return e[n]&&En(e[n],t[n])}))}l(wn.prototype,((q={add:function(t){return Fn(this,t),this},addKey:function(t){return bn(this,t,t),this},addKeys:function(t){var e=this;return t.forEach((function(t){return bn(e,t,t)})),this}})[O]=function(){return An(this)},q));var Nn={},Mn={},kn=!1;function On(t){Bn(Mn,t),kn||(kn=!0,setTimeout((function(){kn=!1,Sn(Mn,!(Mn={}))}),0))}function Sn(t,e){void 0===e&&(e=!1);var n=new Set;if(t.all)for(var r=0,u=Object.values(Nn);r<u.length;r++)Tn(o=u[r],t,n,e);else for(var i in t){var o,a=/^idb\:\/\/(.*)\/(.*)\//.exec(i);a&&(i=a[1],a=a[2],(o=Nn["idb://".concat(i,"/").concat(a)])&&Tn(o,t,n,e))}n.forEach((function(t){return t()}))}function Tn(t,e,n,r){for(var u=[],i=0,o=Object.entries(t.queries.query);i<o.length;i++){for(var a=o[i],s=a[0],c=[],f=0,l=a[1];f<l.length;f++){var h=l[f];_n(e,h.obsSet)?h.subscribers.forEach((function(t){return n.add(t)})):r&&c.push(h)}r&&u.push([s,c])}if(r)for(var d=0,p=u;d<p.length;d++){var m=p[d];s=m[0],c=m[1],t.queries.query[s]=c}}function In(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?Gt(e.dbOpenError):t}));e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller,u=Math.round(10*t.verno),o=!1;function a(){if(e.openCanceller!==r)throw new $.DatabaseClosed("db.open() was cancelled")}function s(){return new Ft((function(r,c){if(a(),!n)throw new $.MissingAPI;var f=t.name,d=e.autoSchema||!u?n.open(f):n.open(f,u);if(!d)throw new $.MissingAPI;d.onerror=je(c),d.onblocked=Tt(t._fireOnBlocked),d.onupgradeneeded=Tt((function(r){var u;l=d.transaction,e.autoSchema&&!t._options.allowEmptyDB?(d.onerror=qe,l.abort(),d.result.close(),(u=n.deleteDatabase(f)).onsuccess=u.onerror=Tt((function(){c(new $.NoSuchDatabase("Database ".concat(f," doesnt exist")))}))):(l.onerror=je(c),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,h=r<1,t.idbdb=d.result,o&&on(t,l),un(t,r/10,l,c))}),c),d.onsuccess=Tt((function(){l=null;var n,a,c,p,m,D=t.idbdb=d.result,v=y(D.objectStoreNames);if(0<v.length)try{var g=D.transaction(1===(p=v).length?p[0]:p,"readonly");if(e.autoSchema)a=D,c=g,(n=t).verno=a.version/10,c=n._dbSchema=ln(0,a,c),n._storeNames=y(a.objectStoreNames,0),en(n,[n._allTables],i(c),c);else if(hn(t,t._dbSchema,g),((m=an(ln(0,(m=t).idbdb,g),m._dbSchema)).add.length||m.change.some((function(t){return t.add.length||t.change.length})))&&!o)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),D.close(),u=D.version+1,o=!0,r(s());tn(t,g)}catch(n){}ee.push(t),D.onversionchange=Tt((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),D.onclose=Tt((function(e){t.on("close").fire(e)})),h&&(m=t._deps,g=f,D=m.indexedDB,m=m.IDBKeyRange,yn(D)||g===ne||Dn(D,m).put({name:g}).catch(H)),r()}),c)})).catch((function(t){switch(null==t?void 0:t.name){case"UnknownError":if(0<e.PR1398_maxLoop)return e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),s();break;case"VersionError":if(0<u)return u=0,s()}return Ft.reject(t)}))}var c,f=e.dbReadyResolve,l=null,h=!1;return Ft.race([r,("undefined"==typeof navigator?Ft.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){function e(){return indexedDB.databases().finally(t)}c=setInterval(e,100),e()})).finally((function(){return clearInterval(c)})):Promise.resolve()).then(s)]).then((function(){return a(),e.onReadyBeingFired=[],Ft.resolve(vn((function(){return t.on.ready.fire(t.vip)}))).then((function n(){if(0<e.onReadyBeingFired.length){var r=e.onReadyBeingFired.reduce(rt,H);return e.onReadyBeingFired=[],Ft.resolve(vn((function(){return r(t.vip)}))).then(n)}}))})).finally((function(){e.openCanceller===r&&(e.onReadyBeingFired=null,e.isBeingOpened=!1)})).catch((function(n){e.dbOpenError=n;try{l&&l.abort()}catch(n){}return r===e.openCanceller&&t._close(),Gt(n)})).finally((function(){e.openComplete=!0,f()})).then((function(){var e;return h&&(e={},t.tables.forEach((function(n){n.schema.indexes.forEach((function(r){r.name&&(e["idb://".concat(t.name,"/").concat(n.name,"/").concat(r.name)]=new wn(-1/0,[[[]]]))})),e["idb://".concat(t.name,"/").concat(n.name,"/")]=e["idb://".concat(t.name,"/").concat(n.name,"/:dels")]=new wn(-1/0,[[[]]])})),ze(Re).fire(e),Sn(e,!0)),t}))}function Pn(t){function e(e){return t.next(e)}var n=u(e),r=u((function(e){return t.throw(e)}));function u(t){return function(e){var u=t(e);return e=u.value,u.done?e:e&&"function"==typeof e.then?e.then(n,r):o(e)?Promise.all(e).then(n,r):n(e)}}return u(e)()}function jn(t,e,n){for(var r=o(t)?t.slice():[t],u=0;u<n;++u)r.push(e);return r}var qn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return e(e({},t),{table:function(n){var r=t.table(n),u=r.schema,i={},o=[];function a(t,n,r){var u=Ge(t),s=i[u]=i[u]||[],c=null==t?0:"string"==typeof t?1:t.length,f=0<n;return f=e(e({},r),{name:f?"".concat(u,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:f,keyTail:n,keyLength:c,extractKey:Ye(t),unique:!f&&r.unique}),s.push(f),f.isPrimaryKey||o.push(f),1<c&&a(2===c?t[0]:t.slice(0,c-1),n+1,r),s.sort((function(t,e){return t.keyTail-e.keyTail})),f}n=a(u.primaryKey.keyPath,0,u.primaryKey),i[":id"]=[n];for(var s=0,c=u.indexes;s<c.length;s++){var f=c[s];a(f.keyPath,0,f)}function l(n){var r,u=n.query.index;return u.isVirtual?e(e({},n),{query:{index:u.lowLevelIndex,range:(r=n.query.range,u=u.keyTail,{type:1===r.type?2:r.type,lower:jn(r.lower,r.lowerOpen?t.MAX_KEY:t.MIN_KEY,u),lowerOpen:!0,upper:jn(r.upper,r.upperOpen?t.MIN_KEY:t.MAX_KEY,u),upperOpen:!0})}}):n}return e(e({},r),{schema:e(e({},u),{primaryKey:n,indexes:o,getIndexByKeyPath:function(t){return(t=i[Ge(t)])&&t[0]}}),count:function(t){return r.count(l(t))},query:function(t){return r.query(l(t))},openCursor:function(e){var n=e.query.index,u=n.keyTail,i=n.isVirtual,o=n.keyLength;return i?r.openCursor(l(e)).then((function(t){return t&&a(t)})):r.openCursor(e);function a(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(jn(r,e.reverse?t.MAX_KEY:t.MIN_KEY,u)):e.unique?n.continue(n.key.slice(0,o).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,u)):n.continue()}},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(jn(e,t.MAX_KEY,u),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var t=n.key;return 1===o?t[0]:t.slice(0,o)}},value:{get:function(){return n.value}}})}}})}})}};function Rn(t,e,n,r){return n=n||{},r=r||"",i(t).forEach((function(u){var i,o,a;f(e,u)?(i=t[u],o=e[u],"object"==typeof i&&"object"==typeof o&&i&&o?(a=k(i))!==k(o)?n[r+u]=e[u]:"Object"===a?Rn(i,o,n,r+u+"."):i!==o&&(n[r+u]=e[u]):i!==o&&(n[r+u]=e[u])):n[r+u]=void 0})),i(e).forEach((function(u){f(t,u)||(n[r+u]=e[u])})),n}function Kn(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}var zn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return e(e({},t),{table:function(n){var u=t.table(n),i=u.schema.primaryKey;return e(e({},u),{mutate:function(t){var o=vt.trans,a=o.table(n).hook,s=a.deleting,c=a.creating,l=a.updating;switch(t.type){case"add":if(c.fire===H)break;return o._promise("readwrite",(function(){return h(t)}),!0);case"put":if(c.fire===H&&l.fire===H)break;return o._promise("readwrite",(function(){return h(t)}),!0);case"delete":if(s.fire===H)break;return o._promise("readwrite",(function(){return h(t)}),!0);case"deleteRange":if(s.fire===H)break;return o._promise("readwrite",(function(){return function t(n,r,o){return u.query({trans:n,values:!1,query:{index:i,range:r},limit:o}).then((function(u){var i=u.result;return h({type:"delete",keys:i,trans:n}).then((function(u){return 0<u.numFailures?Promise.reject(u.failures[0]):i.length<o?{failures:[],numFailures:0,lastResult:void 0}:t(n,e(e({},r),{lower:i[i.length-1],lowerOpen:!0}),o)}))}))}(t.trans,t.range,1e4)}),!0)}return u.mutate(t);function h(t){var n,o,a,h=vt.trans,d=t.keys||Kn(i,t);if(!d)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?e(e({},t),{keys:d}):e({},t)).type&&(t.values=r([],t.values,!0)),t.keys&&(t.keys=r([],t.keys,!0)),n=u,a=d,("add"===(o=t).type?Promise.resolve([]):n.getMany({trans:o.trans,keys:a,cache:"immutable"})).then((function(e){var n=d.map((function(n,r){var u,o,a,d=e[r],p={onerror:null,onsuccess:null};return"delete"===t.type?s.fire.call(p,n,d,h):"add"===t.type||void 0===d?(u=c.fire.call(p,n,t.values[r],h),null==n&&null!=u&&(t.keys[r]=n=u,i.outbound||F(t.values[r],i.keyPath,n))):(u=Rn(d,t.values[r]),(o=l.fire.call(p,u,n,d,h))&&(a=t.values[r],Object.keys(o).forEach((function(t){f(a,t)?a[t]=o[t]:F(a,t,o[t])})))),p}));return u.mutate(t).then((function(r){for(var u=r.failures,i=r.results,o=r.numFailures,a=(r=r.lastResult,0);a<d.length;++a){var s=(i||d)[a],c=n[a];null==s?c.onerror&&c.onerror(u[a]):c.onsuccess&&c.onsuccess("put"===t.type&&e[a]?t.values[a]:s)}return{failures:u,results:i,numFailures:o,lastResult:r}})).catch((function(t){return n.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}}})}})}};function Ln(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;for(var r=[],u=0,i=0;u<e.keys.length&&i<t.length;++u)0===ce(e.keys[u],t[i])&&(r.push(n?N(e.values[u]):e.values[u]),++i);return r.length===t.length?r:null}catch(t){return null}}var Un={stack:"dbcore",level:-1,create:function(t){return{table:function(n){var r=t.table(n);return e(e({},r),{getMany:function(t){if(!t.cache)return r.getMany(t);var e=Ln(t.keys,t.trans._cache,"clone"===t.cache);return e?Ft.resolve(e):r.getMany(t).then((function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?N(e):e},e}))},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),r.mutate(t)}})}}}};function Vn(t,e){return"readonly"===t.trans.mode&&!!t.subscr&&!t.trans.explicit&&"disabled"!==t.trans.db._options.cache&&!e.schema.primaryKey.outbound}function Zn(t,e){switch(t){case"query":return e.values&&!e.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var $n={stack:"dbcore",level:0,name:"Observability",create:function(t){var n=t.schema.name,r=new wn(t.MIN_KEY,t.MAX_KEY);return e(e({},t),{transaction:function(e,n,r){if(vt.subscr&&"readonly"!==n)throw new $.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(vt.querier));return t.transaction(e,n,r)},table:function(u){var a=t.table(u),s=a.schema,c=s.primaryKey,f=s.indexes,l=c.extractKey,h=c.outbound,d=c.autoIncrement&&f.filter((function(t){return t.compound&&t.keyPath.includes(c.keyPath)})),p=e(e({},a),{mutate:function(t){function e(t){return t="idb://".concat(n,"/").concat(u,"/").concat(t),p[t]||(p[t]=new wn)}var i,f,l,h=t.trans,p=t.mutatedParts||(t.mutatedParts={}),m=e(""),D=e(":dels"),y=t.type,v="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[Kn(c,t).filter((function(t){return t})),t.values]:[],g=v[0],w=v[1];return v=t.trans._cache,o(g)?(m.addKeys(g),(v="delete"===y||g.length===w.length?Ln(g,v):null)||D.addKeys(g),(v||w)&&(i=e,f=v,l=w,s.indexes.forEach((function(t){var e=i(t.name||"");function n(e){return null!=e?t.extractKey(e):null}function r(n){return t.multiEntry&&o(n)?n.forEach((function(t){return e.addKey(t)})):e.addKey(n)}(f||l).forEach((function(t,e){var u=f&&n(f[e]);0!==ce(u,e=l&&n(l[e]))&&(null!=u&&r(u),null!=e&&r(e))}))})))):g?(w={from:g.lower,to:g.upper},D.add(w),m.add(w)):(m.add(r),D.add(r),s.indexes.forEach((function(t){return e(t.name).add(r)}))),a.mutate(t).then((function(n){return!g||"add"!==t.type&&"put"!==t.type||(m.addKeys(n.results),d&&d.forEach((function(r){var u=t.values.map((function(t){return r.extractKey(t)})),i=r.keyPath.findIndex((function(t){return t===c.keyPath}));n.results.forEach((function(t){return u[i]=t})),e(r.name).addKeys(u)}))),h.mutatedParts=Bn(h.mutatedParts||{},p),n}))}}),m=(f=function(e){e=(n=e.query).index;var n=n.range;return[e,new wn(null!==(e=n.lower)&&void 0!==e?e:t.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:t.MAX_KEY)]},{get:function(t){return[c,new wn(t.key)]},getMany:function(t){return[c,(new wn).addKeys(t.keys)]},count:f,query:f,openCursor:f});return i(m).forEach((function(t){p[t]=function(i){var o=!!(p=vt.subscr),s=Vn(vt,a)&&Zn(t,i)?i.obsSet={}:p;if(o){var c=function(t){return t="idb://".concat(n,"/").concat(u,"/").concat(t),s[t]||(s[t]=new wn)},f=c(""),d=c(":dels"),p=(o=(p=m[t](i))[0],p[1]);if(("query"===t&&o.isPrimaryKey&&!i.values?d:c(o.name||"")).add(p),!o.isPrimaryKey){if("count"!==t){var D="query"===t&&h&&i.values&&a.query(e(e({},i),{values:!1}));return a[t].apply(this,arguments).then((function(e){if("query"===t){if(h&&i.values)return D.then((function(t){return t=t.result,f.addKeys(t),e}));var n=i.values?e.result.map(l):e.result;(i.values?f:d).addKeys(n)}else if("openCursor"===t){var r=e,u=i.values;return r&&Object.create(r,{key:{get:function(){return d.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var t=r.primaryKey;return d.addKey(t),t}},value:{get:function(){return u&&f.addKey(r.primaryKey),r.value}}})}return e}))}d.add(r)}}return a[t].apply(this,arguments)}})),p}})}};function Wn(t,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var u=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===u?null:(n=e({},n),o(n.keys)&&(n.keys=n.keys.filter((function(t,e){return!(e in r.failures)}))),"values"in n&&o(n.values)&&(n.values=n.values.filter((function(t,e){return!(e in r.failures)}))),n)}function Yn(t,e){return n=t,(void 0===(r=e).lower||(r.lowerOpen?0<ce(n,r.lower):0<=ce(n,r.lower)))&&(void 0===e.upper||(e.upperOpen?ce(t,e.upper)<0:ce(t,e.upper)<=0));var n,r}function Hn(t,e,n,r,u,i){if(!n||0===n.length)return t;var a=e.query.index,s=a.multiEntry,c=e.query.range,f=r.schema.primaryKey.extractKey,l=a.extractKey,h=(a.lowLevelIndex||a).extractKey;return n=n.reduce((function(t,n){var r=t,u="add"===n.type||"put"===n.type?n.values.filter((function(t){return t=l(t),s&&o(t)?t.some((function(t){return Yn(t,c)})):Yn(t,c)})).map((function(t){return t=N(t),i&&Object.freeze(t),t})):[];switch(n.type){case"add":r=t.concat(e.values?u:u.map((function(t){return f(t)})));break;case"put":var a=(new wn).addKeys(n.values.map((function(t){return f(t)})));r=t.filter((function(t){return t=e.values?f(t):t,!En(new wn(t),a)})).concat(e.values?u:u.map((function(t){return f(t)})));break;case"delete":var h=(new wn).addKeys(n.keys);r=t.filter((function(t){return t=e.values?f(t):t,!En(new wn(t),h)}));break;case"deleteRange":var d=n.range;r=t.filter((function(t){return!Yn(f(t),d)}))}return r}),t),n===t?t:(n.sort((function(t,e){return ce(h(t),h(e))||ce(f(t),f(e))})),e.limit&&e.limit<1/0&&(n.length>e.limit?n.length=e.limit:t.length===e.limit&&n.length<e.limit&&(u.dirty=!0)),i?Object.freeze(n):n)}function Xn(t,e){return 0===ce(t.lower,e.lower)&&0===ce(t.upper,e.upper)&&!!t.lowerOpen==!!e.lowerOpen&&!!t.upperOpen==!!e.upperOpen}function Gn(t,e){return function(t,e,n,r){if(void 0===t)return void 0!==e?-1:0;if(void 0===e)return 1;if(0===(e=ce(t,e))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return e}(t.lower,e.lower,t.lowerOpen,e.lowerOpen)<=0&&0<=function(t,e,n,r){if(void 0===t)return void 0!==e?1:0;if(void 0===e)return-1;if(0===(e=ce(t,e))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return e}(t.upper,e.upper,t.upperOpen,e.upperOpen)}function Qn(t,e,n,r){t.subscribers.add(n),r.addEventListener("abort",(function(){var r,u;t.subscribers.delete(n),0===t.subscribers.size&&(r=t,u=e,setTimeout((function(){0===r.subscribers.size&&T(u,r)}),3e3))}))}var Jn={stack:"dbcore",level:0,name:"Cache",create:function(t){var n=t.schema.name;return e(e({},t),{transaction:function(e,r,u){var i,o,a=t.transaction(e,r,u);return"readwrite"===r&&(o=(i=new AbortController).signal,u=function(u){return function(){if(i.abort(),"readwrite"===r){for(var o=new Set,s=0,c=e;s<c.length;s++){var f=c[s],l=Nn["idb://".concat(n,"/").concat(f)];if(l){var h=t.table(f),d=l.optimisticOps.filter((function(t){return t.trans===a}));if(a._explicit&&u&&a.mutatedParts)for(var p=0,m=Object.values(l.queries.query);p<m.length;p++)for(var D=0,y=(w=m[p]).slice();D<y.length;D++)_n((b=y[D]).obsSet,a.mutatedParts)&&(T(w,b),b.subscribers.forEach((function(t){return o.add(t)})));else if(0<d.length){l.optimisticOps=l.optimisticOps.filter((function(t){return t.trans!==a}));for(var v=0,g=Object.values(l.queries.query);v<g.length;v++)for(var w,b,F,E=0,A=(w=g[v]).slice();E<A.length;E++)null!=(b=A[E]).res&&a.mutatedParts&&(u&&!b.dirty?(F=Object.isFrozen(b.res),F=Hn(b.res,b.req,d,h,b,F),b.dirty?(T(w,b),b.subscribers.forEach((function(t){return o.add(t)}))):F!==b.res&&(b.res=F,b.promise=Ft.resolve({result:F}))):(b.dirty&&T(w,b),b.subscribers.forEach((function(t){return o.add(t)}))))}}}o.forEach((function(t){return t()}))}}},a.addEventListener("abort",u(!1),{signal:o}),a.addEventListener("error",u(!1),{signal:o}),a.addEventListener("complete",u(!0),{signal:o})),a},table:function(r){var u=t.table(r),i=u.schema.primaryKey;return e(e({},u),{mutate:function(t){var o=vt.trans;if(i.outbound||"disabled"===o.db._options.cache||o.explicit)return u.mutate(t);var a=Nn["idb://".concat(n,"/").concat(r)];return a?(o=u.mutate(t),"add"!==t.type&&"put"!==t.type||!(50<=t.values.length||Kn(i,t).some((function(t){return null==t})))?(a.optimisticOps.push(t),t.mutatedParts&&On(t.mutatedParts),o.then((function(e){0<e.numFailures&&(T(a.optimisticOps,t),(e=Wn(0,t,e))&&a.optimisticOps.push(e),t.mutatedParts&&On(t.mutatedParts))})),o.catch((function(){T(a.optimisticOps,t),t.mutatedParts&&On(t.mutatedParts)}))):o.then((function(n){var r=Wn(0,e(e({},t),{values:t.values.map((function(t,r){var u;return F(t=null!==(u=i.keyPath)&&void 0!==u&&u.includes(".")?N(t):e({},t),i.keyPath,n.results[r]),t}))}),n);a.optimisticOps.push(r),queueMicrotask((function(){return t.mutatedParts&&On(t.mutatedParts)}))})),o):u.mutate(t)},query:function(t){if(!Vn(vt,u)||!Zn("query",t))return u.query(t);var e="immutable"===(null===(a=vt.trans)||void 0===a?void 0:a.db._options.cache),i=(c=vt).requery,o=c.signal,a=function(t,e,n,r){var u=Nn["idb://".concat(t,"/").concat(e)];if(!u)return[];if(!(e=u.queries[n]))return[null,!1,u,null];var i=e[(r.query?r.query.index.name:null)||""];if(!i)return[null,!1,u,null];switch(n){case"query":var o=i.find((function(t){return t.req.limit===r.limit&&t.req.values===r.values&&Xn(t.req.query.range,r.query.range)}));return o?[o,!0,u,i]:[i.find((function(t){return("limit"in t.req?t.req.limit:1/0)>=r.limit&&(!r.values||t.req.values)&&Gn(t.req.query.range,r.query.range)})),!1,u,i];case"count":return o=i.find((function(t){return Xn(t.req.query.range,r.query.range)})),[o,!!o,u,i]}}(n,r,"query",t),s=a[0],c=a[1],f=a[2],l=a[3];return s&&c?s.obsSet=t.obsSet:(c=u.query(t).then((function(t){var n=t.result;if(s&&(s.res=n),e){for(var r=0,u=n.length;r<u;++r)Object.freeze(n[r]);Object.freeze(n)}else t.result=N(n);return t})).catch((function(t){return l&&s&&T(l,s),Promise.reject(t)})),s={obsSet:t.obsSet,promise:c,subscribers:new Set,type:"query",req:t,dirty:!1},l?l.push(s):(l=[s],(f=f||(Nn["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[t.query.index.name||""]=l)),Qn(s,l,i,o),s.promise.then((function(n){return{result:Hn(n.result,t,null==f?void 0:f.optimisticOps,u,s,e)}}))}})}})}};function tr(t,e){return new Proxy(t,{get:function(t,n,r){return"db"===n?e:Reflect.get(t,n,r)}})}var er=(nr.prototype.version=function(t){if(isNaN(t)||t<.1)throw new $.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new $.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(rn),n.stores({}),this._state.autoSchema=!1,n)},nr.prototype._whenReady=function(t){var e=this;return this.idbdb&&(this._state.openComplete||vt.letThrough||this._vip)?t():new Ft((function(t,n){if(e._state.openComplete)return n(new $.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return void n(new $.DatabaseClosed);e.open().catch(H)}e._state.dbReadyPromise.then(t,n)})).then(t)},nr.prototype.use=function(t){var e=t.stack,n=t.create,r=t.level,u=t.name;return u&&this.unuse({stack:e,name:u}),(t=this._middlewares[e]||(this._middlewares[e]=[])).push({stack:e,create:n,level:null==r?10:r,name:u}),t.sort((function(t,e){return t.level-e.level})),this},nr.prototype.unuse=function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return r?t.create!==r:!!n&&t.name!==n}))),this},nr.prototype.open=function(){var t=this;return Yt(yt,(function(){return In(t)}))},nr.prototype._close=function(){var t=this._state,e=ee.indexOf(this);if(0<=e&&ee.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new Ft((function(e){t.dbReadyResolve=e})),t.openCanceller=new Ft((function(e,n){t.cancelOpen=n})))},nr.prototype.close=function(t){var e=(void 0===t?{disableAutoOpen:!0}:t).disableAutoOpen;t=this._state,e?(t.isBeingOpened&&t.cancelOpen(new $.DatabaseClosed),this._close(),t.autoOpen=!1,t.dbOpenError=new $.DatabaseClosed):(this._close(),t.autoOpen=this._options.autoOpen||t.isBeingOpened,t.openComplete=!1,t.dbOpenError=null)},nr.prototype.delete=function(t){var e=this;void 0===t&&(t={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new Ft((function(u,i){function o(){e.close(t);var n=e._deps.indexedDB.deleteDatabase(e.name);n.onsuccess=Tt((function(){var t,n,r;t=e._deps,n=e.name,r=t.indexedDB,t=t.IDBKeyRange,yn(r)||n===ne||Dn(r,t).delete(n).catch(H),u()})),n.onerror=je(i),n.onblocked=e._fireOnBlocked}if(n)throw new $.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()}))},nr.prototype.backendDB=function(){return this.idbdb},nr.prototype.isOpen=function(){return null!==this.idbdb},nr.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name},nr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},nr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nr.prototype,"tables",{get:function(){var t=this;return i(this._allTables).map((function(e){return t._allTables[e]}))},enumerable:!1,configurable:!0}),nr.prototype.transaction=function(){var t=function(t,e,n){var r=arguments.length;if(r<2)throw new $.InvalidArgument("Too few arguments");for(var u=new Array(r-1);--r;)u[r-1]=arguments[r];return n=u.pop(),[t,C(u),n]}.apply(this,arguments);return this._transaction.apply(this,t)},nr.prototype._transaction=function(t,e,n){var r=this,u=vt.trans;u&&u.db===this&&-1===t.indexOf("!")||(u=null);var i,o,a=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(o=e.map((function(t){if("string"!=typeof(t=t instanceof r.Table?t.name:t))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==t||t===re)i=re;else{if("rw"!=t&&t!=ue)throw new $.InvalidArgument("Invalid transaction mode: "+t);i=ue}if(u){if(u.mode===re&&i===ue){if(!a)throw new $.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u=null}u&&o.forEach((function(t){if(u&&-1===u.storeNames.indexOf(t)){if(!a)throw new $.SubTransaction("Table "+t+" not included in parent transaction.");u=null}})),a&&u&&!u.active&&(u=null)}}catch(n){return u?u._promise(null,(function(t,e){e(n)})):Gt(n)}var s=function t(e,n,r,u,i){return Ft.resolve().then((function(){var o=vt.transless||vt,a=e._createTransaction(n,r,e._dbSchema,u);if(a.explicit=!0,o={trans:a,transless:o},u)a.idbtrans=u.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,e._state.PR1398_maxLoop=3}catch(o){return o.name===V.InvalidState&&e.isOpen()&&0<--e._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then((function(){return t(e,n,r,null,i)}))):Gt(o)}var s,c=j(i);return c&&Lt(),o=Ft.follow((function(){var t;(s=i.call(a,a))&&(c?(t=Ut.bind(null,null),s.then(t,t)):"function"==typeof s.next&&"function"==typeof s.throw&&(s=Pn(s)))}),o),(s&&"function"==typeof s.then?Ft.resolve(s).then((function(t){return a.active?t:Gt(new $.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):o.then((function(){return s}))).then((function(t){return u&&a._resolve(),a._completion.then((function(){return t}))})).catch((function(t){return a._reject(t),Gt(t)}))}))}.bind(null,this,i,o,u,n);return u?u._promise(i,s,"lock"):vt.trans?Yt(vt.transless,(function(){return r._whenReady(s)})):this._whenReady(s)},nr.prototype.table=function(t){if(!f(this._allTables,t))throw new $.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},nr);function nr(t,n){var r=this;this._middlewares={},this.verno=0;var u=nr.dependencies;this._options=n=e({addons:nr.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},u=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i,o,a,s,c,f={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:H,dbReadyPromise:null,cancelOpen:H,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};f.dbReadyPromise=new Ft((function(t){f.dbReadyResolve=t})),f.openCanceller=new Ft((function(t,e){f.cancelOpen=e})),this._state=f,this.name=t,this.on=pe(this,"populate","blocked","versionchange","close",{ready:[rt,H]}),this.on.ready.subscribe=v(this.on.ready.subscribe,(function(t){return function(e,n){nr.vip((function(){var u,i=r._state;i.openComplete?(i.dbOpenError||Ft.resolve().then(e),n&&t(e)):i.onReadyBeingFired?(i.onReadyBeingFired.push(e),n&&t(e)):(t(e),u=r,n||t((function t(){u.on.ready.unsubscribe(e),u.on.ready.unsubscribe(t)})))}))}})),this.Collection=(i=this,me(Ce.prototype,(function(t,e){this.db=i;var n=oe,r=null;if(e)try{n=e()}catch(t){r=t}var u=t._ctx;t=(e=u.table).hook.reading.fire,this._ctx={table:e,index:u.index,isPrimKey:!u.index||e.schema.primKey.keyPath&&u.index===e.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:u.or,valueMapper:t!==X?t:null}}))),this.Table=(o=this,me(he.prototype,(function(t,e,n){this.db=o,this._tx=n,this.name=t,this.schema=e,this.hook=o._allTables[t]?o._allTables[t].hook:pe(null,{creating:[J,H],reading:[G,X],updating:[et,H],deleting:[tt,H]})}))),this.Transaction=(a=this,me(Le.prototype,(function(t,e,n,r,u){var i=this;this.db=a,this.mode=t,this.storeNames=e,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=pe(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ft((function(t,e){i._resolve=t,i._reject=e})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(t){var e=i.active;return i.active=!1,i.on.error.fire(t),i.parent?i.parent._reject(t):e&&i.idbtrans&&i.idbtrans.abort(),Gt(t)}))}))),this.Version=(s=this,me(pn.prototype,(function(t){this.db=s,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(c=this,me(Ie.prototype,(function(t,e,n){if(this.db=c,this._ctx={table:t,index:":id"===e?null:e,or:n},this._cmp=this._ascending=ce,this._descending=function(t,e){return ce(e,t)},this._max=function(t,e){return 0<ce(t,e)?t:e},this._min=function(t,e){return ce(t,e)<0?t:e},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new $.MissingAPI}))),this.on("versionchange",(function(t){0<t.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(t.oldVersion/10))})),this._maxKey=We(n.IDBKeyRange),this._createTransaction=function(t,e,n,u){return new r.Transaction(t,e,n,r._options.chromeTransactionDurability,u)},this._fireOnBlocked=function(t){r.on("blocked").fire(t),ee.filter((function(t){return t.name===r.name&&t!==r&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(Un),this.use(Jn),this.use($n),this.use(qn),this.use(zn);var l=new Proxy(this,{get:function(t,e,n){if("_vip"===e)return!0;if("table"===e)return function(t){return tr(r.table(t),l)};var u=Reflect.get(t,e,n);return u instanceof he?tr(u,l):"tables"===e?u.map((function(t){return tr(t,l)})):"_createTransaction"===e?function(){return tr(u.apply(this,arguments),l)}:u}});this.vip=l,u.forEach((function(t){return t(r)}))}q="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var rr,ur=(ir.prototype.subscribe=function(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})},ir.prototype[q]=function(){return this},ir);function ir(t){this._subscribe=t}try{rr={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch(x){rr={indexedDB:null,IDBKeyRange:null}}function or(t){var e,n=!1,r=new ur((function(r){var u,i=j(t),o=!1,a={},s={},c={get closed(){return o},unsubscribe:function(){o||(o=!0,u&&u.abort(),l&&ze.storagemutated.unsubscribe(d))}};r.start&&r.start(c);var l=!1,h=function(){return Xt(p)},d=function(t){Bn(a,t),_n(s,a)&&h()},p=function(){var c,p,m;!o&&rr.indexedDB&&(a={},c={},u&&u.abort(),u=new AbortController,m=function(e){var n=Mt();try{i&&Lt();var r=zt(t,e);return r=i?r.finally(Ut):r}finally{n&&kt()}}(p={subscr:c,signal:u.signal,requery:h,querier:t,trans:null}),Promise.resolve(m).then((function(t){n=!0,e=t,o||p.signal.aborted||(a={},function(t){for(var e in t)if(f(t,e))return;return 1}(s=c)||l||(ze(Re,d),l=!0),Xt((function(){return!o&&r.next&&r.next(t)})))}),(function(t){n=!1,["DatabaseClosedError","AbortError"].includes(null==t?void 0:t.name)||o||Xt((function(){o||r.error&&r.error(t)}))})))};return setTimeout(h,0),c}));return r.hasValue=function(){return n},r.getValue=function(){return e},r}var ar=er;function sr(t){var e=fr;try{fr=!0,ze.storagemutated.fire(t),Sn(t,!0)}finally{fr=e}}l(ar,e(e({},Y),{delete:function(t){return new ar(t,{addons:[]}).delete()},exists:function(t){return new ar(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){try{return n=(e=ar.dependencies).indexedDB,e=e.IDBKeyRange,(yn(n)?Promise.resolve(n.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return t!==ne}))})):Dn(n,e).toCollection().primaryKeys()).then(t)}catch(t){return Gt(new $.MissingAPI)}var e,n},defineClass:function(){return function(t){a(this,t)}},ignoreTransaction:function(t){return vt.trans?Yt(vt.transless,t):t()},vip:vn,async:function(t){return function(){try{var e=Pn(t.apply(this,arguments));return e&&"function"==typeof e.then?e:Ft.resolve(e)}catch(e){return Gt(e)}}},spawn:function(t,e,n){try{var r=Pn(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:Ft.resolve(r)}catch(t){return Gt(t)}},currentTransaction:{get:function(){return vt.trans||null}},waitFor:function(t,e){return e=Ft.resolve("function"==typeof t?ar.ignoreTransaction(t):t).timeout(e||6e4),vt.trans?vt.trans.waitFor(e):e},Promise:Ft,debug:{get:function(){return ut},set:function(t){it(t)}},derive:p,extend:a,props:l,override:v,Events:pe,on:ze,liveQuery:or,extendObservabilitySet:Bn,getByKeyPath:b,setByKeyPath:F,delByKeyPath:function(t,e){"string"==typeof e?F(t,e,void 0):"length"in e&&[].map.call(e,(function(e){F(t,e,void 0)}))},shallowClone:E,deepClone:N,getObjectDiff:Rn,cmp:ce,asap:w,minKey:-1/0,addons:[],connections:ee,errnames:V,dependencies:rr,cache:Nn,semVer:"4.0.7",version:"4.0.7".split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)}))})),ar.maxKey=We(ar.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(ze(Re,(function(t){fr||(t=new CustomEvent(Ke,{detail:t}),fr=!0,dispatchEvent(t),fr=!1)})),addEventListener(Ke,(function(t){t=t.detail,fr||sr(t)})));var cr,fr=!1,lr=function(){};return"undefined"!=typeof BroadcastChannel&&((lr=function(){(cr=new BroadcastChannel(Ke)).onmessage=function(t){return t.data&&sr(t.data)}})(),"function"==typeof cr.unref&&cr.unref(),ze(Re,(function(t){fr||cr.postMessage(t)}))),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",(function(t){if(!er.disableBfCache&&t.persisted){ut&&console.debug("Dexie: handling persisted pagehide"),null!=cr&&cr.close();for(var e=0,n=ee;e<n.length;e++)n[e].close({disableAutoOpen:!1})}})),addEventListener("pageshow",(function(t){!er.disableBfCache&&t.persisted&&(ut&&console.debug("Dexie: handling persisted pageshow"),lr(),sr({all:new wn(-1/0,[[]])}))}))),Ft.rejectionMapper=function(t,e){return!t||t instanceof K||t instanceof TypeError||t instanceof SyntaxError||!t.name||!W[t.name]?t:(e=new W[t.name](e||t.message,t),"stack"in t&&d(e,"stack",{get:function(){return this.inner.stack}}),e)},it(ut),e(er,Object.freeze({__proto__:null,Dexie:er,liveQuery:or,Entity:se,cmp:ce,PropModSymbol:x,PropModification:Ee,replacePrefix:function(t,e){return new Ee({replacePrefix:[t,e]})},add:function(t){return new Ee({add:t})},remove:function(t){return new Ee({remove:t})},default:er,RangeSet:wn,mergeRanges:Fn,rangesOverlap:En}),{default:er}),er}()},880:function(t){t.exports=function t(e,n){"use strict";var r,u,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,c=/^0/,f=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},l=f(e).replace(o,"")||"",h=f(n).replace(o,"")||"",d=l.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=h.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(l.match(s),16)||1!==d.length&&l.match(a)&&Date.parse(l),D=parseInt(h.match(s),16)||m&&h.match(a)&&Date.parse(h)||null;if(D){if(m<D)return-1;if(m>D)return 1}for(var y=0,v=Math.max(d.length,p.length);y<v;y++){if(r=!(d[y]||"").match(c)&&parseFloat(d[y])||d[y]||0,u=!(p[y]||"").match(c)&&parseFloat(p[y])||p[y]||0,isNaN(r)!==isNaN(u))return isNaN(r)?1:-1;if(typeof r!=typeof u&&(r+="",u+=""),r<u)return-1;if(r>u)return 1}return 0}},377:function(t){!function(e){"use strict";var n={s:1,n:0,d:1};function r(t,e){if(isNaN(t=parseInt(t,10)))throw f();return t*e}function u(t,e){if(0===e)throw c();var n=Object.create(s.prototype);n.s=t<0?-1:1;var r=a(t=t<0?-t:t,e);return n.n=t/r,n.d=e/r,n}function i(t){for(var e={},n=t,r=2,u=4;u<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;u+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var o=function(t,e){var u,i=0,o=1,a=1,s=0,h=0,d=0,p=1,m=1,D=0,y=1,v=1,g=1,w=1e7;if(null==t);else if(void 0!==e){if(a=(i=t)*(o=e),i%1!=0||o%1!=0)throw l()}else switch(typeof t){case"object":if("d"in t&&"n"in t)i=t.n,o=t.d,"s"in t&&(i*=t.s);else{if(!(0 in t))throw f();i=t[0],1 in t&&(o=t[1])}a=i*o;break;case"number":if(t<0&&(a=t,t=-t),t%1==0)i=t;else if(t>0){for(t>=1&&(t/=m=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));y<=w&&g<=w;){if(t===(u=(D+v)/(y+g))){y+g<=w?(i=D+v,o=y+g):g>y?(i=v,o=g):(i=D,o=y);break}t>u?(D+=v,y+=g):(v+=D,g+=y),y>w?(i=v,o=g):(i=D,o=y)}i*=m}else(isNaN(t)||isNaN(e))&&(o=i=NaN);break;case"string":if(null===(y=t.match(/\d+|./g)))throw f();if("-"===y[D]?(a=-1,D++):"+"===y[D]&&D++,y.length===D+1?h=r(y[D++],a):"."===y[D+1]||"."===y[D]?("."!==y[D]&&(s=r(y[D++],a)),(++D+1===y.length||"("===y[D+1]&&")"===y[D+3]||"'"===y[D+1]&&"'"===y[D+3])&&(h=r(y[D],a),p=Math.pow(10,y[D].length),D++),("("===y[D]&&")"===y[D+2]||"'"===y[D]&&"'"===y[D+2])&&(d=r(y[D+1],a),m=Math.pow(10,y[D+1].length)-1,D+=3)):"/"===y[D+1]||":"===y[D+1]?(h=r(y[D],a),p=r(y[D+2],1),D+=3):"/"===y[D+3]&&" "===y[D+1]&&(s=r(y[D],a),h=r(y[D+2],a),p=r(y[D+4],1),D+=5),y.length<=D){a=i=d+(o=p*m)*s+m*h;break}default:throw f()}if(0===o)throw c();n.s=a<0?-1:1,n.n=Math.abs(i),n.d=Math.abs(o)};function a(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function s(t,e){if(o(t,e),!(this instanceof s))return u(n.s*n.n,n.d);t=a(n.d,n.n),this.s=n.s,this.n=n.n/t,this.d=n.d/t}var c=function(){return new Error("Division by Zero")},f=function(){return new Error("Invalid argument")},l=function(){return new Error("Parameters must be integer")};s.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(t,e){return o(t,e),u(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,e){return o(t,e),u(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,e){return o(t,e),u(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,e){return o(t,e),u(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(void 0===t)return u(this.s*this.n%this.d,1);if(o(t,e),0===n.n&&0===this.d)throw c();return u(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(t,e){return o(t,e),u(a(n.n,this.n)*a(n.d,this.d),n.d*this.d)},lcm:function(t,e){return o(t,e),0===n.n&&0===this.n?u(0,1):u(n.n*this.n,a(n.n,this.n)*a(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):u(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(t,e){if(o(t,e),1===n.d)return n.s<0?u(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):u(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=i(this.n),a=i(this.d),s=1,c=1;for(var f in r)if("1"!==f){if("0"===f){s=0;break}if(r[f]*=n.n,r[f]%n.d!=0)return null;r[f]/=n.d,s*=Math.pow(f,r[f])}for(var f in a)if("1"!==f){if(a[f]*=n.n,a[f]%n.d!=0)return null;a[f]/=n.d,c*=Math.pow(f,a[f])}return n.s<0?u(c,s):u(s,c)},equals:function(t,e){return o(t,e),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(t,e){o(t,e);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var i=u(n[r-1],1),o=r-2;o>=0;o--)i=i.inverse().add(n[o]);if(Math.abs(i.sub(e).valueOf())<t)return i.mul(this.s)}return this},divisible:function(t,e){return o(t,e),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,u=this.d;return this.s<0&&(n+="-"),1===u?n+=r:(t&&(e=Math.floor(r/u))>0&&(n+=e,n+=" ",r%=u),n+=r,n+="/",n+=u),n},toLatex:function(t){var e,n="",r=this.n,u=this.d;return this.s<0&&(n+="-"),1===u?n+=r:(t&&(e=Math.floor(r/u))>0&&(n+=e,r%=u),n+="\\frac{",n+=r,n+="}{",n+=u,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,n),u=function(t,e,n){for(var r=1,u=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),i=0;i<300;i++){if(r===u)return i;r=10*r%e,u=10*u%e}return 0}(0,n,r),i=this.s<0?"-":"";if(i+=e/n|0,e%=n,(e*=10)&&(i+="."),r){for(var o=u;o--;)i+=e/n|0,e%=n,e*=10;i+="(";for(o=r;o--;)i+=e/n|0,e%=n,e*=10;i+=")"}else for(o=t;e&&o--;)i+=e/n|0,e%=n,e*=10;return i}},Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,t.exports=s}()},391:function(t,e,n){var r=n(180),u=n(181),i=n(31),o=n(67),a=n(833),s=n(717),c=n(801);c.alea=r,c.xor128=u,c.xorwow=i,c.xorshift7=o,c.xor4096=a,c.tychei=s,t.exports=c},180:function(t,e,n){var r;!function(t,u,i){function o(t){var e=this,n=function(){var t=4022871197,e=function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)};return e}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function s(t,e){var n=new o(t),r=e&&e.state,u=n.next;return u.int32=function(){return 4294967296*n.next()|0},u.double=function(){return u()+11102230246251565e-32*(2097152*u()|0)},u.quick=u,r&&("object"==typeof r&&a(r,n),u.state=function(){return a(n,{})}),u}u&&u.exports?u.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,u))||(u.exports=r):this.alea=s}(0,t=n.nmd(t),n.amdD)},717:function(t,e,n){var r;!function(t,u,i){function o(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,u=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^u,u=u-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^u,e.a=u-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function s(t,e){var n=new o(t),r=e&&e.state,u=function(){return(n.next()>>>0)/4294967296};return u.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=n.next,u.quick=u,r&&("object"==typeof r&&a(r,n),u.state=function(){return a(n,{})}),u}u&&u.exports?u.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,u))||(u.exports=r):this.tychei=s}(0,t=n.nmd(t),n.amdD)},181:function(t,e,n){var r;!function(t,u,i){function o(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function s(t,e){var n=new o(t),r=e&&e.state,u=function(){return(n.next()>>>0)/4294967296};return u.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=n.next,u.quick=u,r&&("object"==typeof r&&a(r,n),u.state=function(){return a(n,{})}),u}u&&u.exports?u.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,u))||(u.exports=r):this.xor128=s}(0,t=n.nmd(t),n.amdD)},833:function(t,e,n){var r;!function(t,u,i){function o(t){var e=this;e.next=function(){var t,n,r=e.w,u=e.X,i=e.i;return e.w=r=r+1640531527|0,n=u[i+34&127],t=u[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=u[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,u,i,o,a=[],s=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,s=Math.max(s,e.length)),u=0,i=-32;i<s;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,u=0==(n=a[127&i]^=r+o)?u+1:0);for(u>=128&&(a[127&(e&&e.length||0)]=-1),u=127,i=512;i>0;--i)r=a[u+34&127],n=a[u=u+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[u]=r^n;t.w=o,t.X=a,t.i=u}(e,t)}function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function s(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,u=function(){return(n.next()>>>0)/4294967296};return u.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=n.next,u.quick=u,r&&(r.X&&a(r,n),u.state=function(){return a(n,{})}),u}u&&u.exports?u.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,u))||(u.exports=r):this.xor4096=s}(0,t=n.nmd(t),n.amdD)},67:function(t,e,n){var r;!function(t,u,i){function o(t){var e=this;e.next=function(){var t,n,r=e.x,u=e.i;return t=r[u],n=(t^=t>>>7)^t<<24,n^=(t=r[u+1&7])^t>>>10,n^=(t=r[u+3&7])^t>>>3,n^=(t=r[u+4&7])^t<<7,t=r[u+7&7],n^=(t^=t<<13)^t<<9,r[u]=n,e.i=u+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function s(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,u=function(){return(n.next()>>>0)/4294967296};return u.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=n.next,u.quick=u,r&&(r.x&&a(r,n),u.state=function(){return a(n,{})}),u}u&&u.exports?u.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,u))||(u.exports=r):this.xorshift7=s}(0,t=n.nmd(t),n.amdD)},31:function(t,e,n){var r;!function(t,u,i){function o(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function s(t,e){var n=new o(t),r=e&&e.state,u=function(){return(n.next()>>>0)/4294967296};return u.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=n.next,u.quick=u,r&&("object"==typeof r&&a(r,n),u.state=function(){return a(n,{})}),u}u&&u.exports?u.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,u))||(u.exports=r):this.xorwow=s}(0,t=n.nmd(t),n.amdD)},801:function(t,e,n){var r;!function(u,i,o){var a,s=256,c=o.pow(s,6),f=o.pow(2,52),l=2*f,h=s-1;function d(t,e,n){var r=[],h=y(D((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(i)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(s):(t=new Uint8Array(s),(u.crypto||u.msCrypto).getRandomValues(t)),v(t)}catch(r){var e=u.navigator,n=e&&e.plugins;return[+new Date,u,n,u.screen,v(i)]}}():t,3),r),d=new p(r),g=function(){for(var t=d.g(6),e=c,n=0;t<f;)t=(t+n)*s,e*=s,n=d.g(1);for(;t>=l;)t/=2,e/=2,n>>>=1;return(t+n)/e};return g.int32=function(){return 0|d.g(4)},g.quick=function(){return d.g(4)/4294967296},g.double=g,y(v(d.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&m(r,d),t.state=function(){return m(d,{})}),n?(o.random=t,e):t})(g,h,"global"in e?e.global:this==o,e.state)}function p(t){var e,n=t.length,r=this,u=0,i=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);u<s;)o[u]=u++;for(u=0;u<s;u++)o[u]=o[i=h&i+t[u%n]+(e=o[u])],o[i]=e;(r.g=function(t){for(var e,n=0,u=r.i,i=r.j,o=r.S;t--;)e=o[u=h&u+1],n=n*s+o[h&(o[u]=o[i=h&i+e])+(o[i]=e)];return r.i=u,r.j=i,n})(s)}function m(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function D(t,e){var n,r=[],u=typeof t;if(e&&"object"==u)for(n in t)try{r.push(D(t[n],e-1))}catch(i){}return r.length?r:"string"==u?t:t+"\0"}function y(t,e){for(var n,r=t+"",u=0;u<r.length;)e[h&u]=h&(n^=19*e[h&u])+r.charCodeAt(u++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(y(o.random(),i),t.exports){t.exports=d;try{a=n(234)}catch(g){}}else void 0===(r=function(){return d}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:this,[],Math)},234:function(){},693:function(t,e,n){var r=n(736);t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},634:function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},45:function(t,e,n){var r=n(738).default;t.exports=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var u=n.call(t,e||"default");if("object"!=r(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},736:function(t,e,n){var r=n(738).default,u=n(45);t.exports=function(t){var e=u(t,"string");return"symbol"==r(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},738:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},369:function(t){t.exports=function(){"use strict";function t(){return!0}function e(){return!1}function n(){}const r="Argument is not a typed-function.";function u(){function i(t){return"object"==typeof t&&null!==t&&t.constructor===Object}const o=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:i},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],a={name:"any",test:t,isAny:!0};let s,c,f=0,l={createCount:0};function h(t){const e=s.get(t);if(e)return e;let n='Unknown type "'+t+'"';const r=t.toLowerCase();let u;for(u of c)if(u.toLowerCase()===r){n+='. Did you mean "'+u+'" ?';break}throw new TypeError(n)}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=e?h(e).index:c.length,r=[];for(let i=0;i<t.length;++i){if(!t[i]||"string"!=typeof t[i].name||"function"!=typeof t[i].test)throw new TypeError("Object with properties {name: string, test: function} expected");const e=t[i].name;if(s.has(e))throw new TypeError('Duplicate type name "'+e+'"');r.push(e),s.set(e,{name:e,test:t[i].test,isAny:t[i].isAny,index:n+i,conversionsTo:[]})}const u=c.slice(n);c=c.slice(0,n).concat(r).concat(u);for(let i=n+r.length;i<c.length;++i)s.get(c[i]).index=i}function p(){s=new Map,c=[],f=0,d([a],!1)}function m(){let t;for(t of c)s.get(t).conversionsTo=[];f=0}function D(t){const e=c.filter((e=>{const n=s.get(e);return!n.isAny&&n.test(t)}));return e.length?e:["any"]}function y(t){return t&&"function"==typeof t&&"_typedFunctionData"in t}function v(t,e,n){if(!y(t))throw new TypeError(r);const u=n&&n.exact,i=C(Array.isArray(e)?e.join(","):e),o=b(i);if(!u||o in t.signatures){const e=t._typedFunctionData.signatureMap.get(o);if(e)return e}const a=i.length;let s,c;if(u){let e;for(e in s=[],t.signatures)s.push(t._typedFunctionData.signatureMap.get(e))}else s=t._typedFunctionData.signatures;for(let r=0;r<a;++r){const t=i[r],e=[];let n;for(n of s){const u=N(n.params,r);if(u&&(!t.restParam||u.restParam)){if(!u.hasAny){const e=A(u);if(t.types.some((t=>!e.has(t.name))))continue}e.push(n)}}if(s=e,0===s.length)break}for(c of s)if(c.params.length<=a)return c;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+b(i,", ")+"))")}function g(t,e,n){return v(t,e,n).implementation}function w(t,e){const n=h(e);if(n.test(t))return t;const r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+e+" defined.");for(let u=0;u<r.length;u++)if(h(r[u].from).test(t))return r[u].convert(t);throw new Error("Cannot convert "+t+" to "+e)}function b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.map((t=>t.name)).join(e)}function F(t){const e=0===t.indexOf("..."),n=(e?t.length>3?t.slice(3):"any":t).split("|").map((t=>h(t.trim())));let r=!1,u=e?"...":"";return{types:n.map((function(t){return r=t.isAny||r,u+=t.name+"|",{name:t.name,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:null,conversionIndex:-1}})),name:u.slice(0,-1),hasAny:r,hasConversion:!1,restParam:e}}function E(t){const e=q(t.types.map((t=>t.name)));let n=t.hasAny,r=t.name;const u=e.map((function(t){const e=h(t.from);return n=e.isAny||n,r+="|"+t.from,{name:t.from,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:t,conversionIndex:t.index}}));return{types:t.types.concat(u),name:r,hasAny:n,hasConversion:u.length>0,restParam:t.restParam}}function A(t){return t.typeSet||(t.typeSet=new Set,t.types.forEach((e=>t.typeSet.add(e.name)))),t.typeSet}function C(t){const e=[];if("string"!=typeof t)throw new TypeError("Signatures must be strings");const n=t.trim();if(""===n)return e;const r=n.split(",");for(let u=0;u<r.length;++u){const t=F(r[u].trim());if(t.restParam&&u!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[u]+'": only allowed for the last parameter');if(0===t.types.length)return null;e.push(t)}return e}function x(t){const e=X(t);return!!e&&e.restParam}function B(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){const t=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(e){return t(e)||n(e)}}{const t=e.types.map((function(t){return h(t.name).test}));return function(e){for(let n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}}return t}function _(t){let e,n,r;if(x(t)){e=H(t).map(B);const n=e.length,r=B(X(t)),u=function(t){for(let e=n;e<t.length;e++)if(!r(t[e]))return!1;return!0};return function(t){for(let n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return u(t)&&t.length>=n+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=B(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=B(t[0]),r=B(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(B),function(t){for(let n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function N(t,e){return e<t.length?t[e]:x(t)?X(t):null}function M(t,e){const n=N(t,e);return n?A(n):new Set}function k(t){return null===t.conversion||void 0===t.conversion}function O(t,e){const n=new Set;return t.forEach((t=>{const r=M(t.params,e);let u;for(u of r)n.add(u)})),n.has("any")?["any"]:Array.from(n)}function S(t,e,n){let r,u;const i=t||"unnamed";let o,a=n;for(o=0;o<e.length;o++){const t=[];if(a.forEach((n=>{const r=B(N(n.params,o));(o<n.params.length||x(n.params))&&r(e[o])&&t.push(n)})),0===t.length){if(u=O(a,o),u.length>0){const t=D(e[o]);return r=new TypeError("Unexpected type of argument in function "+i+" (expected: "+u.join(" or ")+", actual: "+t.join(" | ")+", index: "+o+")"),r.data={category:"wrongType",fn:i,index:o,actual:t,expected:u},r}}else a=t}const s=a.map((function(t){return x(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,s))return u=O(a,o),r=new TypeError("Too few arguments in function "+i+" (expected: "+u.join(" or ")+", index: "+e.length+")"),r.data={category:"tooFewArgs",fn:i,index:e.length,expected:u},r;const c=Math.max.apply(null,s);if(e.length>c)return r=new TypeError("Too many arguments in function "+i+" (expected: "+c+", actual: "+e.length+")"),r.data={category:"tooManyArgs",fn:i,index:e.length,expectedLength:c},r;const f=[];for(let l=0;l<e.length;++l)f.push(D(e[l]).join("|"));return r=new TypeError('Arguments of type "'+f.join(", ")+'" do not match any of the defined signatures of function '+i+"."),r.data={category:"mismatch",actual:f},r}function T(t){let e=c.length+1;for(let n=0;n<t.types.length;n++)k(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function I(t){let e=f+1;for(let n=0;n<t.types.length;n++)k(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function P(t,e){if(t.hasAny){if(!e.hasAny)return 1}else if(e.hasAny)return-1;if(t.restParam){if(!e.restParam)return 1}else if(e.restParam)return-1;if(t.hasConversion){if(!e.hasConversion)return 1}else if(e.hasConversion)return-1;const n=T(t)-T(e);if(n<0)return-1;if(n>0)return 1;const r=I(t)-I(e);return r<0?-1:r>0?1:0}function j(t,e){const n=t.params,r=e.params,u=X(n),i=X(r),o=x(n),a=x(r);if(o&&u.hasAny){if(!a||!i.hasAny)return 1}else if(a&&i.hasAny)return-1;let s,c=0,f=0;for(s of n)s.hasAny&&++c,s.hasConversion&&++f;let l=0,h=0;for(s of r)s.hasAny&&++l,s.hasConversion&&++h;if(c!==l)return c-l;if(o&&u.hasConversion){if(!a||!i.hasConversion)return 1}else if(a&&i.hasConversion)return-1;if(f!==h)return f-h;if(o){if(!a)return 1}else if(a)return-1;const d=(n.length-r.length)*(o?-1:1);if(0!==d)return d;const p=[];let m,D=0;for(let y=0;y<n.length;++y){const t=P(n[y],r[y]);p.push(t),D+=t}if(0!==D)return D;for(m of p)if(0!==m)return m;return 0}function q(t){if(0===t.length)return[];const e=t.map(h);t.length>1&&e.sort(((t,e)=>t.index-e.index));let n=e[0].conversionsTo;if(1===t.length)return n;n=n.concat([]);const r=new Set(t);for(let u=1;u<e.length;++u){let t;for(t of e[u].conversionsTo)r.has(t.from)||(n.push(t),r.add(t.from))}return n}function R(t,e){let n=e;if(t.some((t=>t.hasConversion))){const r=x(t),u=t.map(K);n=function(){const t=[],n=r?arguments.length-1:arguments.length;for(let e=0;e<n;e++)t[e]=u[e](arguments[e]);return r&&(t[n]=arguments[n].map(u[n])),e.apply(this,t)}}let r=n;if(x(t)){const e=t.length-1;r=function(){return n.apply(this,G(arguments,0,e).concat([G(arguments,e)]))}}return r}function K(t){let e,n,r,u;const i=[],o=[];switch(t.types.forEach((function(t){t.conversion&&(i.push(h(t.conversion.from).test),o.push(t.conversion.convert))})),o.length){case 0:return function(t){return t};case 1:return e=i[0],r=o[0],function(t){return e(t)?r(t):t};case 2:return e=i[0],n=i[1],r=o[0],u=o[1],function(t){return e(t)?r(t):n(t)?u(t):t};default:return function(t){for(let e=0;e<o.length;e++)if(i[e](t))return o[e](t);return t}}}function z(t){function e(t,n,r){if(n<t.length){const u=t[n];let i=[];if(u.restParam){const t=u.types.filter(k);t.length<u.types.length&&i.push({types:t,name:"..."+t.map((t=>t.name)).join("|"),hasAny:t.some((t=>t.isAny)),hasConversion:!1,restParam:!0}),i.push(u)}else i=u.types.map((function(t){return{types:[t],name:t.name,hasAny:t.isAny,hasConversion:t.conversion,restParam:!1}}));return J(i,(function(u){return e(t,n+1,r.concat([u]))}))}return[r]}return e(t,0,[])}function L(t,e){const n=Math.max(t.length,e.length);for(let a=0;a<n;a++){const n=M(t,a),r=M(e,a);let u,i=!1;for(u of r)if(n.has(u)){i=!0;break}if(!i)return!1}const r=t.length,u=e.length,i=x(t),o=x(e);return i?o?r===u:u>=r:o?r>=u:r===u}function U(t){return t.map((t=>ut(t)?nt(t.referToSelf.callback):rt(t)?et(t.referTo.references,t.referTo.callback):t))}function V(t,e,n){const r=[];let u;for(u of t){let t=n[u];if("number"!=typeof t)throw new TypeError('No definition for referenced signature "'+u+'"');if(t=e[t],"function"!=typeof t)return!1;r.push(t)}return r}function Z(t,e,n){const r=U(t),u=new Array(r.length).fill(!1);let i=!0;for(;i;){i=!1;let t=!0;for(let o=0;o<r.length;++o){if(u[o])continue;const a=r[o];if(ut(a))r[o]=a.referToSelf.callback(n),r[o].referToSelf=a.referToSelf,u[o]=!0,t=!1;else if(rt(a)){const n=V(a.referTo.references,r,e);n?(r[o]=a.referTo.callback.apply(this,n),r[o].referTo=a.referTo,u[o]=!0,t=!1):i=!0}}if(t&&i)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function $(t){const e=/\bthis(\(|\.signatures\b)/;Object.keys(t).forEach((n=>{const r=t[n];if(e.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function W(t,r){if(l.createCount++,0===Object.keys(r).length)throw new SyntaxError("No signatures provided");l.warnAgainstDeprecatedThis&&$(r);const u=[],i=[],o={},a=[];let s;for(s in r){if(!Object.prototype.hasOwnProperty.call(r,s))continue;const t=C(s);if(!t)continue;u.forEach((function(e){if(L(e,t))throw new TypeError('Conflicting signatures "'+b(e)+'" and "'+b(t)+'".')})),u.push(t);const e=i.length;i.push(r[s]);const n=t.map(E);let c;for(c of z(n)){const t=b(c);a.push({params:c,name:t,fn:e}),c.every((t=>!t.hasConversion))&&(o[t]=e)}}a.sort(j);const c=Z(i,o,st);let f;for(f in o)Object.prototype.hasOwnProperty.call(o,f)&&(o[f]=c[o[f]]);const h=[],d=new Map;for(f of a)d.has(f.name)||(f.fn=c[f.fn],h.push(f),d.set(f.name,f));const p=h[0]&&h[0].params.length<=2&&!x(h[0].params),m=h[1]&&h[1].params.length<=2&&!x(h[1].params),D=h[2]&&h[2].params.length<=2&&!x(h[2].params),y=h[3]&&h[3].params.length<=2&&!x(h[3].params),v=h[4]&&h[4].params.length<=2&&!x(h[4].params),g=h[5]&&h[5].params.length<=2&&!x(h[5].params),w=p&&m&&D&&y&&v&&g;for(let e=0;e<h.length;++e)h[e].test=_(h[e].params);const F=p?B(h[0].params[0]):e,A=m?B(h[1].params[0]):e,N=D?B(h[2].params[0]):e,M=y?B(h[3].params[0]):e,k=v?B(h[4].params[0]):e,O=g?B(h[5].params[0]):e,S=p?B(h[0].params[1]):e,T=m?B(h[1].params[1]):e,I=D?B(h[2].params[1]):e,P=y?B(h[3].params[1]):e,q=v?B(h[4].params[1]):e,K=g?B(h[5].params[1]):e;for(let e=0;e<h.length;++e)h[e].implementation=R(h[e].params,h[e].fn);const U=p?h[0].implementation:n,V=m?h[1].implementation:n,W=D?h[2].implementation:n,Y=y?h[3].implementation:n,H=v?h[4].implementation:n,X=g?h[5].implementation:n,G=p?h[0].params.length:-1,Q=m?h[1].params.length:-1,J=D?h[2].params.length:-1,tt=y?h[3].params.length:-1,et=v?h[4].params.length:-1,nt=g?h[5].params.length:-1,rt=w?6:0,ut=h.length,it=h.map((t=>t.test)),ot=h.map((t=>t.implementation)),at=function(){for(let t=rt;t<ut;t++)if(it[t](arguments))return ot[t].apply(this,arguments);return l.onMismatch(t,arguments,h)};function st(t,e){return arguments.length===G&&F(t)&&S(e)?U.apply(this,arguments):arguments.length===Q&&A(t)&&T(e)?V.apply(this,arguments):arguments.length===J&&N(t)&&I(e)?W.apply(this,arguments):arguments.length===tt&&M(t)&&P(e)?Y.apply(this,arguments):arguments.length===et&&k(t)&&q(e)?H.apply(this,arguments):arguments.length===nt&&O(t)&&K(e)?X.apply(this,arguments):at.apply(this,arguments)}try{Object.defineProperty(st,"name",{value:t})}catch(ct){}return st.signatures=o,st._typedFunctionData={signatures:h,signatureMap:d},st}function Y(t,e,n){throw S(t,e,n)}function H(t){return G(t,0,t.length-1)}function X(t){return t[t.length-1]}function G(t,e,n){return Array.prototype.slice.call(t,e,n)}function Q(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return t[n]}function J(t,e){return Array.prototype.concat.apply([],t.map(e))}function tt(){const t=H(arguments).map((t=>b(C(t)))),e=X(arguments);if("function"!=typeof e)throw new TypeError("Callback function expected as last argument");return et(t,e)}function et(t,e){return{referTo:{references:t,callback:e}}}function nt(t){if("function"!=typeof t)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:t}}}function rt(t){return t&&"object"==typeof t.referTo&&Array.isArray(t.referTo.references)&&"function"==typeof t.referTo.callback}function ut(t){return t&&"object"==typeof t.referToSelf&&"function"==typeof t.referToSelf.callback}function it(t,e){if(!t)return e;if(e&&e!==t){const n=new Error("Function names do not match (expected: "+t+", actual: "+e+")");throw n.data={actual:e,expected:t},n}return t}function ot(t){let e;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y(t[n])||"string"==typeof t[n].signature)&&(e=it(e,t[n].name));return e}function at(t,e){let n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n in t&&e[n]!==t[n]){const r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:e[n],destFunction:t[n]},r}t[n]=e[n]}}p(),d(o);const st=l;function ct(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(t.to===t.from)throw new SyntaxError('Illegal to define conversion from "'+t.from+'" to itself.')}return l=function(t){const e="string"==typeof t;let n=e?t:"";const r={};for(let u=e?1:0;u<arguments.length;++u){const t=arguments[u];let o,a={};if("function"==typeof t?(o=t.name,"string"==typeof t.signature?a[t.signature]=t:y(t)&&(a=t.signatures)):i(t)&&(a=t,e||(o=ot(t))),0===Object.keys(a).length){const e=new TypeError("Argument to 'typed' at index "+u+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw e.data={index:u,argument:t},e}e||(n=it(n,o)),at(r,a)}return W(n||"",r)},l.create=u,l.createCount=st.createCount,l.onMismatch=Y,l.throwMismatchError=Y,l.createError=S,l.clear=p,l.clearConversions=m,l.addTypes=d,l._findType=h,l.referTo=tt,l.referToSelf=nt,l.convert=w,l.findSignature=v,l.find=g,l.isTypedFunction=y,l.warnAgainstDeprecatedThis=!0,l.addType=function(t,e){let n="any";!1!==e&&s.has("Object")&&(n="Object"),l.addTypes([t],n)},l.addConversion=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};ct(t);const n=h(t.to),r=n.conversionsTo.find((e=>e.from===t.from));if(r){if(!e||!e.override)throw new Error('There is already a conversion from "'+t.from+'" to "'+n.name+'"');l.removeConversion({from:r.from,to:t.to,convert:r.convert})}n.conversionsTo.push({from:t.from,convert:t.convert,index:f++})},l.addConversions=function(t,e){t.forEach((t=>l.addConversion(t,e)))},l.removeConversion=function(t){ct(t);const e=h(t.to),n=Q(e.conversionsTo,(e=>e.from===t.from));if(!n)throw new Error("Attempt to remove nonexistent conversion from "+t.from+" to "+t.to);if(n.convert!==t.convert)throw new Error("Conversion to remove does not match existing conversion");const r=e.conversionsTo.indexOf(n);e.conversionsTo.splice(r,1)},l.resolve=function(t,e){if(!y(t))throw new TypeError(r);const n=t._typedFunctionData.signatures;for(let r=0;r<n.length;++r)if(n[r].test(e))return n[r];return null},l}return u()}()}},e={};function n(r){var u=e[r];if(void 0!==u)return u.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){"use strict";var t=n(634),e={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},r=["Matrix","Array"],u=["number","BigNumber","Fraction"];var i=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(e)};t(i,e,{MATRIX_OPTIONS:r,NUMBER_OPTIONS:u});var o,a,s=9e15,c=1e9,f="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-s,maxE:s,crypto:!1},p=!0,m="[DecimalError] ",D=m+"Invalid argument: ",y=m+"Precision limit exceeded",v=m+"crypto unavailable",g="[object Decimal]",w=Math.floor,b=Math.pow,F=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,E=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,A=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,C=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=1e7,B=7,_=l.length-1,N=h.length-1,M={toStringTag:g};function k(t){var e,n,r,u=t.length-1,i="",o=t[0];if(u>0){for(i+=o,e=1;e<u;e++)r=t[e]+"",(n=B-r.length)&&(i+=L(n)),i+=r;o=t[e],(n=B-(r=o+"").length)&&(i+=L(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return i+o}function O(t,e,n){if(t!==~~t||t<e||t>n)throw Error(D+t)}function S(t,e,n,r){var u,i,o,a;for(i=t[0];i>=10;i/=10)--e;return--e<0?(e+=B,u=0):(u=Math.ceil((e+1)/B),e%=B),i=b(10,B-e),a=t[u]%i|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),o=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):o=(n<4&&a+1==i||n>3&&a+1==i/2)&&(t[u+1]/i/100|0)==b(10,e-2)-1||(a==i/2||0==a)&&!(t[u+1]/i/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),o=(r||n<4)&&9999==a||!r&&n>3&&4999==a):o=((r||n<4)&&a+1==i||!r&&n>3&&a+1==i/2)&&(t[u+1]/i/1e3|0)==b(10,e-3)-1,o}function T(t,e,n){for(var r,u,i=[0],o=0,a=t.length;o<a;){for(u=i.length;u--;)i[u]*=e;for(i[0]+=f.indexOf(t.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),P(t)},M.ceil=function(){return P(new this.constructor(this),this.e+1,2)},M.clampedTo=M.clamp=function(t,e){var n=this,r=n.constructor;if(t=new r(t),e=new r(e),!t.s||!e.s)return new r(NaN);if(t.gt(e))throw Error(D+e);return n.cmp(t)<0?t:n.cmp(e)>0?e:new r(n)},M.comparedTo=M.cmp=function(t){var e,n,r,u,i=this,o=i.d,a=(t=new i.constructor(t)).d,s=i.s,c=t.s;if(!o||!a)return s&&c?s!==c?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-c:0;if(s!==c)return s;if(i.e!==t.e)return i.e>t.e^s<0?1:-1;for(e=0,n=(r=o.length)<(u=a.length)?r:u;e<n;++e)if(o[e]!==a[e])return o[e]>a[e]^s<0?1:-1;return r===u?0:r>u^s<0?1:-1},M.cosine=M.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+B,r.rounding=1,n=function(t,e){var n,r,u;if(e.isZero())return e;r=e.d.length,r<32?u=(1/Q(4,n=Math.ceil(r/3))).toString():(n=16,u="2.3283064365386962890625e-10");t.precision+=n,e=G(t,1,e.times(u),new t(1));for(var i=n;i--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}(r,J(r,n)),r.precision=t,r.rounding=e,P(2==a||3==a?n.neg():n,t,e,!0)):new r(1):new r(NaN)},M.cubeRoot=M.cbrt=function(){var t,e,n,r,u,i,o,a,s,c,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(p=!1,(i=f.s*b(f.s*f,1/3))&&Math.abs(i)!=1/0?r=new l(i.toString()):(n=k(f.d),(i=((t=f.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=b(n,1/3),t=w((t+1)/3)-(t%3==(t<0?-1:2)),(r=new l(n=i==1/0?"5e"+t:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=f.s),o=(t=l.precision)+3;;)if(c=(s=(a=r).times(a).times(a)).plus(f),r=I(c.plus(f).times(a),c.plus(s),o+2,1),k(a.d).slice(0,o)===(n=k(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(u||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(P(r,t+1,1),e=!r.times(r).times(r).eq(f));break}if(!u&&(P(a,t+1,0),a.times(a).times(a).eq(f))){r=a;break}o+=4,u=1}return p=!0,P(r,t,l.rounding,e)},M.decimalPlaces=M.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-w(this.e/B))*B,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},M.dividedBy=M.div=function(t){return I(this,new this.constructor(t))},M.dividedToIntegerBy=M.divToInt=function(t){var e=this.constructor;return P(I(this,new e(t),0,1,1),e.precision,e.rounding)},M.equals=M.eq=function(t){return 0===this.cmp(t)},M.floor=function(){return P(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(t){return this.cmp(t)>0},M.greaterThanOrEqualTo=M.gte=function(t){var e=this.cmp(t);return 1==e||0===e},M.hyperbolicCosine=M.cosh=function(){var t,e,n,r,u,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(i.e,i.sd())+4,o.rounding=1,(u=i.d.length)<32?e=(1/Q(4,t=Math.ceil(u/3))).toString():(t=16,e="2.3283064365386962890625e-10"),i=G(o,1,i.times(e),new o(1),!0);for(var s,c=t,f=new o(8);c--;)s=i.times(i),i=a.minus(s.times(f.minus(s.times(f))));return P(i,o.precision=n,o.rounding=r,!0)},M.hyperbolicSine=M.sinh=function(){var t,e,n,r,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(e=i.precision,n=i.rounding,i.precision=e+Math.max(u.e,u.sd())+4,i.rounding=1,(r=u.d.length)<3)u=G(i,2,u,u,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,u=G(i,2,u=u.times(1/Q(5,t)),u,!0);for(var o,a=new i(5),s=new i(16),c=new i(20);t--;)o=u.times(u),u=u.times(a.plus(o.times(s.times(o).plus(c))))}return i.precision=e,i.rounding=n,P(u,e,n,!0)},M.hyperbolicTangent=M.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,I(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},M.inverseCosine=M.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),u=n.precision,i=n.rounding;return-1!==r?0===r?e.isNeg()?K(n,u,i):new n(0):new n(NaN):e.isZero()?K(n,u+4,i).times(.5):(n.precision=u+6,n.rounding=1,e=e.asin(),t=K(n,u+4,i).times(.5),n.precision=u,n.rounding=i,t.minus(e))},M.inverseHyperbolicCosine=M.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},M.inverseHyperbolicSine=M.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,r.precision=t,r.rounding=e,n.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var t,e,n,r,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(t=i.precision,e=i.rounding,r=u.sd(),Math.max(r,t)<2*-u.e-1?P(new i(u),t,e,!0):(i.precision=n=r-u.e,u=I(u.plus(1),new i(1).minus(u),n+t,1),i.precision=t+4,i.rounding=1,u=u.ln(),i.precision=t,i.rounding=e,u.times(.5))):new i(NaN)},M.inverseSine=M.asin=function(){var t,e,n,r,u=this,i=u.constructor;return u.isZero()?new i(u):(e=u.abs().cmp(1),n=i.precision,r=i.rounding,-1!==e?0===e?((t=K(i,n+4,r).times(.5)).s=u.s,t):new i(NaN):(i.precision=n+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,u.times(2)))},M.inverseTangent=M.atan=function(){var t,e,n,r,u,i,o,a,s,c=this,f=c.constructor,l=f.precision,h=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&l+4<=N)return(o=K(f,l+4,h).times(.25)).s=c.s,o}else{if(!c.s)return new f(NaN);if(l+4<=N)return(o=K(f,l+4,h).times(.5)).s=c.s,o}for(f.precision=a=l+10,f.rounding=1,t=n=Math.min(28,a/B+2|0);t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(p=!1,e=Math.ceil(a/B),r=1,s=c.times(c),o=new f(c),u=c;-1!==t;)if(u=u.times(s),i=o.minus(u.div(r+=2)),u=u.times(s),void 0!==(o=i.plus(u.div(r+=2))).d[e])for(t=e;o.d[t]===i.d[t]&&t--;);return n&&(o=o.times(2<<n-1)),p=!0,P(o,f.precision=l,f.rounding=h,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&w(this.e/B)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return this.s>0},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(t){return this.cmp(t)<0},M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1},M.logarithm=M.log=function(t){var e,n,r,u,i,o,a,s,c=this,f=c.constructor,l=f.precision,h=f.rounding;if(null==t)t=new f(10),e=!0;else{if(n=(t=new f(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new f(NaN);e=t.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new f(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(e)if(n.length>1)i=!0;else{for(u=n[0];u%10==0;)u/=10;i=1!==u}if(p=!1,o=W(c,a=l+5),r=e?R(f,a+10):W(t,a),S((s=I(o,r,a,1)).d,u=l,h))do{if(o=W(c,a+=10),r=e?R(f,a+10):W(t,a),s=I(o,r,a,1),!i){+k(s.d).slice(u+1,u+15)+1==1e14&&(s=P(s,l+1,0));break}}while(S(s.d,u+=10,h));return p=!0,P(s,l,h)},M.minus=M.sub=function(t){var e,n,r,u,i,o,a,s,c,f,l,h,d=this,m=d.constructor;if(t=new m(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new m(t.d||d.s!==t.s?d:NaN):t=new m(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(c=d.d,h=t.d,a=m.precision,s=m.rounding,!c[0]||!h[0]){if(h[0])t.s=-t.s;else{if(!c[0])return new m(3===s?-0:0);t=new m(d)}return p?P(t,a,s):t}if(n=w(t.e/B),f=w(d.e/B),c=c.slice(),i=f-n){for((l=i<0)?(e=c,i=-i,o=h.length):(e=h,n=f,o=c.length),i>(r=Math.max(Math.ceil(a/B),o)+2)&&(i=r,e.length=1),e.reverse(),r=i;r--;)e.push(0);e.reverse()}else{for((l=(r=c.length)<(o=h.length))&&(o=r),r=0;r<o;r++)if(c[r]!=h[r]){l=c[r]<h[r];break}i=0}for(l&&(e=c,c=h,h=e,t.s=-t.s),o=c.length,r=h.length-o;r>0;--r)c[o++]=0;for(r=h.length;r>i;){if(c[--r]<h[r]){for(u=r;u&&0===c[--u];)c[u]=x-1;--c[u],c[r]+=x}c[r]-=h[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=q(c,n),p?P(t,a,s):t):new m(3===s?-0:0)},M.modulo=M.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?P(new r(n),r.precision,r.rounding):(p=!1,9==r.modulo?(e=I(n,t.abs(),0,3,1)).s*=t.s:e=I(n,t,0,r.modulo,1),e=e.times(t),p=!0,n.minus(e))},M.naturalExponential=M.exp=function(){return $(this)},M.naturalLogarithm=M.ln=function(){return W(this)},M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s,P(t)},M.plus=M.add=function(t){var e,n,r,u,i,o,a,s,c,f,l=this,h=l.constructor;if(t=new h(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new h(t.d||l.s===t.s?l:NaN)):t=new h(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(c=l.d,f=t.d,a=h.precision,s=h.rounding,!c[0]||!f[0])return f[0]||(t=new h(l)),p?P(t,a,s):t;if(i=w(l.e/B),r=w(t.e/B),c=c.slice(),u=i-r){for(u<0?(n=c,u=-u,o=f.length):(n=f,r=i,o=c.length),u>(o=(i=Math.ceil(a/B))>o?i+1:o+1)&&(u=o,n.length=1),n.reverse();u--;)n.push(0);n.reverse()}for((o=c.length)-(u=f.length)<0&&(u=o,n=f,f=c,c=n),e=0;u;)e=(c[--u]=c[u]+f[u]+e)/x|0,c[u]%=x;for(e&&(c.unshift(e),++r),o=c.length;0==c[--o];)c.pop();return t.d=c,t.e=q(c,r),p?P(t,a,s):t},M.precision=M.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(D+t);return n.d?(e=z(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},M.round=function(){var t=this,e=t.constructor;return P(new e(t),t.e+1,e.rounding)},M.sine=M.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+B,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:G(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(1/Q(5,n)),e=G(t,2,e,e);for(var u,i=new t(5),o=new t(16),a=new t(20);n--;)u=e.times(e),e=e.times(i.plus(u.times(o.times(u).minus(a))));return e}(r,J(r,n)),r.precision=t,r.rounding=e,P(a>2?n.neg():n,t,e,!0)):new r(NaN)},M.squareRoot=M.sqrt=function(){var t,e,n,r,u,i,o=this,a=o.d,s=o.e,c=o.s,f=o.constructor;if(1!==c||!a||!a[0])return new f(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(p=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=k(a)).length+s)%2==0&&(e+="0"),c=Math.sqrt(e),s=w((s+1)/2)-(s<0||s%2),r=new f(e=c==1/0?"5e"+s:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+s)):r=new f(c.toString()),n=(s=f.precision)+3;;)if(r=(i=r).plus(I(o,i,n+2,1)).times(.5),k(i.d).slice(0,n)===(e=k(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(u||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(P(r,s+1,1),t=!r.times(r).eq(o));break}if(!u&&(P(i,s+1,0),i.times(i).eq(o))){r=i;break}n+=4,u=1}return p=!0,P(r,s,f.rounding,t)},M.tangent=M.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=I(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,P(2==a||4==a?n.neg():n,t,e,!0)):new r(NaN)},M.times=M.mul=function(t){var e,n,r,u,i,o,a,s,c,f=this,l=f.constructor,h=f.d,d=(t=new l(t)).d;if(t.s*=f.s,!(h&&h[0]&&d&&d[0]))return new l(!t.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*t.s:t.s/0);for(n=w(f.e/B)+w(t.e/B),(s=h.length)<(c=d.length)&&(i=h,h=d,d=i,o=s,s=c,c=o),i=[],r=o=s+c;r--;)i.push(0);for(r=c;--r>=0;){for(e=0,u=s+r;u>r;)a=i[u]+d[r]*h[u-r-1]+e,i[u--]=a%x|0,e=a/x|0;i[u]=(i[u]+e)%x|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=q(i,n),p?P(t,l.precision,l.rounding):t},M.toBinary=function(t,e){return tt(this,2,t,e)},M.toDecimalPlaces=M.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(O(t,0,c),void 0===e?e=r.rounding:O(e,0,8),P(n,t+n.e+1,e))},M.toExponential=function(t,e){var n,r=this,u=r.constructor;return void 0===t?n=j(r,!0):(O(t,0,c),void 0===e?e=u.rounding:O(e,0,8),n=j(r=P(new u(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},M.toFixed=function(t,e){var n,r,u=this,i=u.constructor;return void 0===t?n=j(u):(O(t,0,c),void 0===e?e=i.rounding:O(e,0,8),n=j(r=P(new i(u),t+u.e+1,e),!1,t+r.e+1)),u.isNeg()&&!u.isZero()?"-"+n:n},M.toFraction=function(t){var e,n,r,u,i,o,a,s,c,f,l,h,d=this,m=d.d,y=d.constructor;if(!m)return new y(d);if(c=n=new y(1),r=s=new y(0),o=(i=(e=new y(r)).e=z(m)-d.e-1)%B,e.d[0]=b(10,o<0?B+o:o),null==t)t=i>0?e:c;else{if(!(a=new y(t)).isInt()||a.lt(c))throw Error(D+a);t=a.gt(e)?i>0?e:c:a}for(p=!1,a=new y(k(m)),f=y.precision,y.precision=i=m.length*B*2;l=I(a,e,0,1,1),1!=(u=n.plus(l.times(r))).cmp(t);)n=r,r=u,u=c,c=s.plus(l.times(u)),s=u,u=e,e=a.minus(l.times(u)),a=u;return u=I(t.minus(n),r,0,1,1),s=s.plus(u.times(c)),n=n.plus(u.times(r)),s.s=c.s=d.s,h=I(c,r,i,1).minus(d).abs().cmp(I(s,n,i,1).minus(d).abs())<1?[c,r]:[s,n],y.precision=f,p=!0,h},M.toHexadecimal=M.toHex=function(t,e){return tt(this,16,t,e)},M.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:O(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(p=!1,n=I(n,t,0,e,1).times(t),p=!0,P(n)):(t.s=n.s,n=t),n},M.toNumber=function(){return+this},M.toOctal=function(t,e){return tt(this,8,t,e)},M.toPower=M.pow=function(t){var e,n,r,u,i,o,a=this,s=a.constructor,c=+(t=new s(t));if(!(a.d&&t.d&&a.d[0]&&t.d[0]))return new s(b(+a,c));if((a=new s(a)).eq(1))return a;if(r=s.precision,i=s.rounding,t.eq(1))return P(a,r,i);if((e=w(t.e/B))>=t.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return u=U(s,a,n,r),t.s<0?new s(1).div(u):P(u,r,i);if((o=a.s)<0){if(e<t.d.length-1)return new s(NaN);if(1&t.d[e]||(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(e=0!=(n=b(+a,c))&&isFinite(n)?new s(n+"").e:w(c*(Math.log("0."+k(a.d))/Math.LN10+a.e+1)))>s.maxE+1||e<s.minE-1?new s(e>0?o/0:0):(p=!1,s.rounding=a.s=1,n=Math.min(12,(e+"").length),(u=$(t.times(W(a,r+n)),r)).d&&S((u=P(u,r+5,1)).d,r,i)&&(e=r+10,+k((u=P($(t.times(W(a,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(u=P(u,r+1,0))),u.s=o,p=!0,s.rounding=i,P(u,r,i))},M.toPrecision=function(t,e){var n,r=this,u=r.constructor;return void 0===t?n=j(r,r.e<=u.toExpNeg||r.e>=u.toExpPos):(O(t,1,c),void 0===e?e=u.rounding:O(e,0,8),n=j(r=P(new u(r),t,e),t<=r.e||r.e<=u.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},M.toSignificantDigits=M.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(O(t,1,c),void 0===e?e=n.rounding:O(e,0,8)),P(new n(this),t,e)},M.toString=function(){var t=this,e=t.constructor,n=j(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},M.truncated=M.trunc=function(){return P(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var t=this,e=t.constructor,n=j(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var I=function(){function t(t,e,n){var r,u=0,i=t.length;for(t=t.slice();i--;)r=t[i]*e+u,t[i]=r%n|0,u=r/n|0;return u&&t.unshift(u),t}function e(t,e,n,r){var u,i;if(n!=r)i=n>r?1:-1;else for(u=i=0;u<n;u++)if(t[u]!=e[u]){i=t[u]>e[u]?1:-1;break}return i}function n(t,e,n,r){for(var u=0;n--;)t[n]-=u,u=t[n]<e[n]?1:0,t[n]=u*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,u,i,a,s,c){var f,l,h,d,p,m,D,y,v,g,b,F,E,A,C,_,N,M,k,O,S=r.constructor,T=r.s==u.s?1:-1,I=r.d,j=u.d;if(!(I&&I[0]&&j&&j[0]))return new S(r.s&&u.s&&(I?!j||I[0]!=j[0]:j)?I&&0==I[0]||!j?0*T:T/0:NaN);for(c?(p=1,l=r.e-u.e):(c=x,p=B,l=w(r.e/p)-w(u.e/p)),k=j.length,N=I.length,g=(v=new S(T)).d=[],h=0;j[h]==(I[h]||0);h++);if(j[h]>(I[h]||0)&&l--,null==i?(A=i=S.precision,a=S.rounding):A=s?i+(r.e-u.e)+1:i,A<0)g.push(1),m=!0;else{if(A=A/p+2|0,h=0,1==k){for(d=0,j=j[0],A++;(h<N||d)&&A--;h++)C=d*c+(I[h]||0),g[h]=C/j|0,d=C%j|0;m=d||h<N}else{for((d=c/(j[0]+1)|0)>1&&(j=t(j,d,c),I=t(I,d,c),k=j.length,N=I.length),_=k,F=(b=I.slice(0,k)).length;F<k;)b[F++]=0;(O=j.slice()).unshift(0),M=j[0],j[1]>=c/2&&++M;do{d=0,(f=e(j,b,k,F))<0?(E=b[0],k!=F&&(E=E*c+(b[1]||0)),(d=E/M|0)>1?(d>=c&&(d=c-1),1==(f=e(D=t(j,d,c),b,y=D.length,F=b.length))&&(d--,n(D,k<y?O:j,y,c))):(0==d&&(f=d=1),D=j.slice()),(y=D.length)<F&&D.unshift(0),n(b,D,F,c),-1==f&&(f=e(j,b,k,F=b.length))<1&&(d++,n(b,k<F?O:j,F,c)),F=b.length):0===f&&(d++,b=[0]),g[h++]=d,f&&b[0]?b[F++]=I[_]||0:(b=[I[_]],F=1)}while((_++<N||void 0!==b[0])&&A--);m=void 0!==b[0]}g[0]||g.shift()}if(1==p)v.e=l,o=m;else{for(h=1,d=g[0];d>=10;d/=10)h++;v.e=h+l*p-1,P(v,s?i+v.e+1:i,a,m)}return v}}();function P(t,e,n,r){var u,i,o,a,s,c,f,l,h,d=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(u=1,a=l[0];a>=10;a/=10)u++;if((i=e-u)<0)i+=B,o=e,s=(f=l[h=0])/b(10,u-o-1)%10|0;else if((h=Math.ceil((i+1)/B))>=(a=l.length)){if(!r)break t;for(;a++<=h;)l.push(0);f=s=0,u=1,o=(i%=B)-B+1}else{for(f=a=l[h],u=1;a>=10;a/=10)u++;s=(o=(i%=B)-B+u)<0?0:f/b(10,u-o-1)%10|0}if(r=r||e<0||void 0!==l[h+1]||(o<0?f:f%b(10,u-o-1)),c=n<4?(s||r)&&(0==n||n==(t.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(i>0?o>0?f/b(10,u-o):0:l[h-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,c?(e-=t.e+1,l[0]=b(10,(B-e%B)%B),t.e=-e||0):l[0]=t.e=0,t;if(0==i?(l.length=h,a=1,h--):(l.length=h+1,a=b(10,B-i),l[h]=o>0?(f/b(10,u-o)%b(10,o)|0)*a:0),c)for(;;){if(0==h){for(i=1,o=l[0];o>=10;o/=10)i++;for(o=l[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(t.e++,l[0]==x&&(l[0]=1));break}if(l[h]+=a,l[h]!=x)break;l[h--]=0,a=1}for(i=l.length;0===l[--i];)l.pop()}return p&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function j(t,e,n){if(!t.isFinite())return Y(t);var r,u=t.e,i=k(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+L(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(t.e<0?"e":"e+")+t.e):u<0?(i="0."+L(-u-1)+i,n&&(r=n-o)>0&&(i+=L(r))):u>=o?(i+=L(u+1-o),n&&(r=n-u-1)>0&&(i=i+"."+L(r))):((r=u+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(u+1===o&&(i+="."),i+=L(r))),i}function q(t,e){var n=t[0];for(e*=B;n>=10;n/=10)e++;return e}function R(t,e,n){if(e>_)throw p=!0,n&&(t.precision=n),Error(y);return P(new t(l),e,1,!0)}function K(t,e,n){if(e>N)throw Error(y);return P(new t(h),e,n,!0)}function z(t){var e=t.length-1,n=e*B+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function L(t){for(var e="";t--;)e+="0";return e}function U(t,e,n,r){var u,i=new t(1),o=Math.ceil(r/B+4);for(p=!1;;){if(n%2&&et((i=i.times(e)).d,o)&&(u=!0),0===(n=w(n/2))){n=i.d.length-1,u&&0===i.d[n]&&++i.d[n];break}et((e=e.times(e)).d,o)}return p=!0,i}function V(t){return 1&t.d[t.d.length-1]}function Z(t,e,n){for(var r,u=new t(e[0]),i=0;++i<e.length;){if(!(r=new t(e[i])).s){u=r;break}u[n](r)&&(u=r)}return u}function $(t,e){var n,r,u,i,o,a,s,c=0,f=0,l=0,h=t.constructor,d=h.rounding,m=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(p=!1,s=m):s=e,a=new h(.03125);t.e>-2;)t=t.times(a),l+=5;for(s+=r=Math.log(b(2,l))/Math.LN10*2+5|0,n=i=o=new h(1),h.precision=s;;){if(i=P(i.times(t),s,1),n=n.times(++f),k((a=o.plus(I(i,n,s,1))).d).slice(0,s)===k(o.d).slice(0,s)){for(u=l;u--;)o=P(o.times(o),s,1);if(null!=e)return h.precision=m,o;if(!(c<3&&S(o.d,s-r,d,c)))return P(o,h.precision=m,d,p=!0);h.precision=s+=10,n=i=a=new h(1),f=0,c++}o=a}}function W(t,e){var n,r,u,i,o,a,s,c,f,l,h,d=1,m=t,D=m.d,y=m.constructor,v=y.rounding,g=y.precision;if(m.s<0||!D||!D[0]||!m.e&&1==D[0]&&1==D.length)return new y(D&&!D[0]?-1/0:1!=m.s?NaN:D?0:m);if(null==e?(p=!1,f=g):f=e,y.precision=f+=10,r=(n=k(D)).charAt(0),!(Math.abs(i=m.e)<15e14))return c=R(y,f+2,g).times(i+""),m=W(new y(r+"."+n.slice(1)),f-10).plus(c),y.precision=g,null==e?P(m,g,v,p=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=k((m=m.times(t)).d)).charAt(0),d++;for(i=m.e,r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1)),l=m,s=o=m=I(m.minus(1),m.plus(1),f,1),h=P(m.times(m),f,1),u=3;;){if(o=P(o.times(h),f,1),k((c=s.plus(I(o,new y(u),f,1))).d).slice(0,f)===k(s.d).slice(0,f)){if(s=s.times(2),0!==i&&(s=s.plus(R(y,f+2,g).times(i+""))),s=I(s,new y(d),f,1),null!=e)return y.precision=g,s;if(!S(s.d,f-10,v,a))return P(s,y.precision=g,v,p=!0);y.precision=f+=10,c=o=m=I(l.minus(1),l.plus(1),f,1),h=P(m.times(m),f,1),u=a=1}s=c,u+=2}}function Y(t){return String(t.s*t.s/0)}function H(t,e){var n,r,u;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(u=e.length;48===e.charCodeAt(u-1);--u);if(e=e.slice(r,u)){if(u-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%B,n<0&&(r+=B),r<u){for(r&&t.d.push(+e.slice(0,r)),u-=B;r<u;)t.d.push(+e.slice(r,r+=B));e=e.slice(r),r=B-e.length}else r-=u;for(;r--;)e+="0";t.d.push(+e),p&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function X(t,e){var n,r,u,i,o,a,s,c,f;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),C.test(e))return H(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(E.test(e))n=16,e=e.toLowerCase();else if(F.test(e))n=2;else{if(!A.test(e))throw Error(D+e);n=8}for((i=e.search(/p/i))>0?(s=+e.slice(i+1),e=e.substring(2,i)):e=e.slice(2),o=(i=e.indexOf("."))>=0,r=t.constructor,o&&(i=(a=(e=e.replace(".","")).length)-i,u=U(r,new r(n),i,2*i)),i=f=(c=T(e,n,x)).length-1;0===c[i];--i)c.pop();return i<0?new r(0*t.s):(t.e=q(c,f),t.d=c,p=!1,o&&(t=I(t,u,4*a)),s&&(t=t.times(Math.abs(s)<54?b(2,s):Lt.pow(2,s))),p=!0,t)}function G(t,e,n,r,u){var i,o,a,s,c=t.precision,f=Math.ceil(c/B);for(p=!1,s=n.times(n),a=new t(r);;){if(o=I(a.times(s),new t(e++*e++),c,1),a=u?r.plus(o):r.minus(o),r=I(o.times(s),new t(e++*e++),c,1),void 0!==(o=a.plus(r)).d[f]){for(i=f;o.d[i]===a.d[i]&&i--;);if(-1==i)break}i=a,a=r,r=o,o=i}return p=!0,o.d.length=f+1,o}function Q(t,e){for(var n=t;--e;)n*=t;return n}function J(t,e){var n,r=e.s<0,u=K(t,t.precision,1),i=u.times(.5);if((e=e.abs()).lte(i))return a=r?4:1,e;if((n=e.divToInt(u)).isZero())a=r?3:2;else{if((e=e.minus(n.times(u))).lte(i))return a=V(n)?r?2:3:r?4:1,e;a=V(n)?r?1:4:r?3:2}return e.minus(u).abs()}function tt(t,e,n,r){var u,i,a,s,l,h,d,p,m,D=t.constructor,y=void 0!==n;if(y?(O(n,1,c),void 0===r?r=D.rounding:O(r,0,8)):(n=D.precision,r=D.rounding),t.isFinite()){for(y?(u=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):u=e,(a=(d=j(t)).indexOf("."))>=0&&(d=d.replace(".",""),(m=new D(1)).e=d.length-a,m.d=T(j(m),10,u),m.e=m.d.length),i=l=(p=T(d,10,u)).length;0==p[--l];)p.pop();if(p[0]){if(a<0?i--:((t=new D(t)).d=p,t.e=i,p=(t=I(t,m,n,r,0,u)).d,i=t.e,h=o),a=p[n],s=u/2,h=h||void 0!==p[n+1],h=r<4?(void 0!==a||h)&&(0===r||r===(t.s<0?3:2)):a>s||a===s&&(4===r||h||6===r&&1&p[n-1]||r===(t.s<0?8:7)),p.length=n,h)for(;++p[--n]>u-1;)p[n]=0,n||(++i,p.unshift(1));for(l=p.length;!p[l-1];--l);for(a=0,d="";a<l;a++)d+=f.charAt(p[a]);if(y){if(l>1)if(16==e||8==e){for(a=16==e?4:3,--l;l%a;l++)d+="0";for(l=(p=T(d,u,e)).length;!p[l-1];--l);for(a=1,d="1.";a<l;a++)d+=f.charAt(p[a])}else d=d.charAt(0)+"."+d.slice(1);d=d+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)d="0"+d;d="0."+d}else if(++i>l)for(i-=l;i--;)d+="0";else i<l&&(d=d.slice(0,i)+"."+d.slice(i))}else d=y?"0p+0":"0";d=(16==e?"0x":2==e?"0b":8==e?"0o":"")+d}else d=Y(t);return t.s<0?"-"+d:d}function et(t,e){if(t.length>e)return t.length=e,!0}function nt(t){return new this(t).abs()}function rt(t){return new this(t).acos()}function ut(t){return new this(t).acosh()}function it(t,e){return new this(t).plus(e)}function ot(t){return new this(t).asin()}function at(t){return new this(t).asinh()}function st(t){return new this(t).atan()}function ct(t){return new this(t).atanh()}function ft(t,e){t=new this(t),e=new this(e);var n,r=this.precision,u=this.rounding,i=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?K(this,r,u):new this(0)).s=t.s:!t.d||e.isZero()?(n=K(this,i,1).times(.5)).s=t.s:e.s<0?(this.precision=i,this.rounding=1,n=this.atan(I(t,e,i,1)),e=K(this,i,1),this.precision=r,this.rounding=u,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(I(t,e,i,1)):(n=K(this,i,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function lt(t){return new this(t).cbrt()}function ht(t){return P(t=new this(t),t.e+1,2)}function dt(t,e,n){return new this(t).clamp(e,n)}function pt(t){if(!t||"object"!=typeof t)throw Error(m+"Object expected");var e,n,r,u=!0===t.defaults,i=["precision",1,c,"rounding",0,8,"toExpNeg",-s,0,"toExpPos",0,s,"maxE",0,s,"minE",-s,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(n=i[e],u&&(this[n]=d[n]),void 0!==(r=t[n])){if(!(w(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(D+n+": "+r);this[n]=r}if(n="crypto",u&&(this[n]=d[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(D+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[n]=!0}else this[n]=!1}return this}function mt(t){return new this(t).cos()}function Dt(t){return new this(t).cosh()}function yt(t,e){return new this(t).div(e)}function vt(t){return new this(t).exp()}function gt(t){return P(t=new this(t),t.e+1,3)}function wt(){var t,e,n=new this(0);for(p=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return p=!0,new this(1/0);n=e}return p=!0,n.sqrt()}function bt(t){return t instanceof Lt||t&&t.toStringTag===g||!1}function Ft(t){return new this(t).ln()}function Et(t,e){return new this(t).log(e)}function At(t){return new this(t).log(2)}function Ct(t){return new this(t).log(10)}function xt(){return Z(this,arguments,"lt")}function Bt(){return Z(this,arguments,"gt")}function _t(t,e){return new this(t).mod(e)}function Nt(t,e){return new this(t).mul(e)}function Mt(t,e){return new this(t).pow(e)}function kt(t){var e,n,r,u,i=0,o=new this(1),a=[];if(void 0===t?t=this.precision:O(t,1,c),r=Math.ceil(t/B),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));i<r;)(u=e[i])>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=u%1e7;else{if(!crypto.randomBytes)throw Error(v);for(e=crypto.randomBytes(r*=4);i<r;)(u=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((127&e[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,i):(a.push(u%1e7),i+=4);i=r/4}else for(;i<r;)a[i++]=1e7*Math.random()|0;for(r=a[--i],t%=B,r&&t&&(u=b(10,B-t),a[i]=(r/u|0)*u);0===a[i];i--)a.pop();if(i<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=B)a.shift();for(r=1,u=a[0];u>=10;u/=10)r++;r<B&&(n-=B-r)}return o.e=n,o.d=a,o}function Ot(t){return P(t=new this(t),t.e+1,this.rounding)}function St(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Tt(t){return new this(t).sin()}function It(t){return new this(t).sinh()}function Pt(t){return new this(t).sqrt()}function jt(t,e){return new this(t).sub(e)}function qt(){var t=0,e=arguments,n=new this(e[t]);for(p=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return p=!0,P(n,this.precision,this.rounding)}function Rt(t){return new this(t).tan()}function Kt(t){return new this(t).tanh()}function zt(t){return P(t=new this(t),t.e+1,1)}M[Symbol.for("nodejs.util.inspect.custom")]=M.toString,M[Symbol.toStringTag]="Decimal";var Lt=M.constructor=function t(e){var n,r,u;function i(t){var e,n,r,u=this;if(!(u instanceof i))return new i(t);if(u.constructor=i,bt(t))return u.s=t.s,void(p?!t.d||t.e>i.maxE?(u.e=NaN,u.d=null):t.e<i.minE?(u.e=0,u.d=[0]):(u.e=t.e,u.d=t.d.slice()):(u.e=t.e,u.d=t.d?t.d.slice():t.d));if("number"===(r=typeof t)){if(0===t)return u.s=1/t<0?-1:1,u.e=0,void(u.d=[0]);if(t<0?(t=-t,u.s=-1):u.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(p?e>i.maxE?(u.e=NaN,u.d=null):e<i.minE?(u.e=0,u.d=[0]):(u.e=e,u.d=[t]):(u.e=e,u.d=[t]))}return 0*t!=0?(t||(u.s=NaN),u.e=NaN,void(u.d=null)):H(u,t.toString())}if("string"!==r)throw Error(D+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),u.s=-1):(43===n&&(t=t.slice(1)),u.s=1),C.test(t)?H(u,t):X(u,t)}if(i.prototype=M,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=pt,i.clone=t,i.isDecimal=bt,i.abs=nt,i.acos=rt,i.acosh=ut,i.add=it,i.asin=ot,i.asinh=at,i.atan=st,i.atanh=ct,i.atan2=ft,i.cbrt=lt,i.ceil=ht,i.clamp=dt,i.cos=mt,i.cosh=Dt,i.div=yt,i.exp=vt,i.floor=gt,i.hypot=wt,i.ln=Ft,i.log=Et,i.log10=Ct,i.log2=At,i.max=xt,i.min=Bt,i.mod=_t,i.mul=Nt,i.pow=Mt,i.random=kt,i.round=Ot,i.sign=St,i.sin=Tt,i.sinh=It,i.sqrt=Pt,i.sub=jt,i.sum=qt,i.tan=Rt,i.tanh=Kt,i.trunc=zt,void 0===e&&(e={}),e&&!0!==e.defaults)for(u=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<u.length;)e.hasOwnProperty(r=u[n++])||(e[r]=this[r]);return i.config(e),i}(d);l=new Lt(l),h=new Lt(h);var Ut=Lt;function Vt(t){return"number"==typeof t}function Zt(t){return!(!t||"object"!=typeof t||"function"!=typeof t.constructor)&&(!0===t.isBigNumber&&"object"==typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"==typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function $t(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Wt(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function Yt(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Ht(t){return"string"==typeof t}var Xt=Array.isArray;function Gt(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Qt(t){return Array.isArray(t)||Gt(t)}function Jt(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function te(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function ee(t){return t&&!0===t.constructor.prototype.isRange||!1}function ne(t){return t&&!0===t.constructor.prototype.isIndex||!1}function re(t){return"boolean"==typeof t}function ue(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function ie(t){return t&&!0===t.constructor.prototype.isHelp||!1}function oe(t){return"function"==typeof t}function ae(t){return t instanceof Date}function se(t){return t instanceof RegExp}function ce(t){return!(!t||"object"!=typeof t||t.constructor!==Object||$t(t)||Wt(t))}function fe(t){return null===t}function le(t){return void 0===t}function he(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function de(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function pe(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function me(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function De(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function ye(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function ve(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function ge(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function we(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function be(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function Fe(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function Ee(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function Ae(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function Ce(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function xe(t){return t&&!0===t.isRelationalNode&&!0===t.constructor.prototype.isNode||!1}function Be(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function _e(t){return t&&!0===t.constructor.prototype.isChain||!1}function Ne(t){var e=typeof t;return"object"===e?null===t?"null":Zt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Me(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return Me(t)}));if(t instanceof Date)return new Date(t.valueOf());if(Zt(t))return t;if(ce(t))return function(t,e){var n={};for(var r in t)Oe(t,r)&&(n[r]=e(t[r]));return n}(t,Me);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function ke(t,e){var n,r,u;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,u=t.length;r<u;r++)if(!ke(t[r],e[r]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!ke(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}return t===e}function Oe(t,e){return t&&Object.hasOwnProperty.call(t,e)}function Se(t,e,n,r){function u(r){var u=function(t,e){for(var n={},r=0;r<e.length;r++){var u=e[r],i=t[u];void 0!==i&&(n[u]=i)}return n}(r,e.map(Te));return function(t,e,n){var r=e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==n[t]));if(!r){var u=e.filter((t=>void 0===n[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(u.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,r),n(u)}return u.isFactory=!0,u.fn=t,u.dependencies=e.slice().sort(),r&&(u.meta=r),u}function Te(t){return t&&"?"===t[0]?t.slice(1):t}var Ie=Se("BigNumber",["?on","config"],(t=>{var{on:e,config:n}=t,r=Ut.clone({precision:n.precision,modulo:Ut.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),Pe=n(716);function je(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}var qe=Math.sign||function(t){return t>0?1:t<0?-1:0},Re=Math.log2||function(t){return Math.log(t)/Math.LN2},Ke=Math.log10||function(t){return Math.log(t)/Math.LN10},ze=(Math.log1p,Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,n?-e:e}),Le=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function Ue(t,e,n){var r={2:"0b",8:"0o",16:"0x"}[e],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!je(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!je(t))throw new Error("Value must be an integer");t<0&&(t+=2**n),u="i".concat(n)}var i="";return t<0&&(t=-t,i="-"),"".concat(i).concat(r).concat(t.toString(e)).concat(u)}function Ve(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:n,precision:r,wordSize:u}=Ze(e);switch(n){case"fixed":return We(t,r);case"exponential":return Ye(t,r);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=$e(t),r=He(n,e),u=r.exponent,i=r.coefficients,o=u%3==0?u:u<0?u-3-u%3:u-u%3;if(Vt(e))for(;e>i.length||u-o+1>i.length;)i.push(0);else for(var a=Math.abs(u-o)-(i.length-1),s=0;s<a;s++)i.push(0);var c=Math.abs(u-o),f=1;for(;c>0;)f++,c--;var l=i.slice(f).join(""),h=Vt(e)&&l.length||l.match(/[1-9]/)?"."+l:"",d=i.slice(0,f).join("")+h+"e"+(u>=0?"+":"")+o.toString();return r.sign+d}(t,r);case"bin":return Ue(t,2,u);case"oct":return Ue(t,8,u);case"hex":return Ue(t,16,u);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=un(null==n?void 0:n.lowerExp,-3),u=un(null==n?void 0:n.upperExp,5),i=$e(t),o=e?He(i,e):i;if(o.exponent<r||o.exponent>=u)return Ye(t,e);var a=o.coefficients,s=o.exponent;a.length<e&&(a=a.concat(Xe(e-a.length))),a=a.concat(Xe(s-a.length+1+(a.length<e?e-a.length:0)));var c=s>0?s:0;return c<(a=Xe(-s).concat(a)).length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}(t,r,e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ze(t){var e,n,r="auto";if(void 0!==t)if(Vt(t))e=t;else if(Zt(t))e=t.toNumber();else{if(!ce(t))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==t.precision&&(e=rn(t.precision,(()=>{throw new Error('Option "precision" must be a number or BigNumber')}))),void 0!==t.wordSize&&(n=rn(t.wordSize,(()=>{throw new Error('Option "wordSize" must be a number or BigNumber')}))),t.notation&&(r=t.notation)}return{notation:r,precision:e,wordSize:n}}function $e(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],u=parseFloat(e[4]||"0"),i=r.indexOf(".");u+=-1!==i?i-1:r.length-1;var o=r.replace(".","").replace(/^0*/,(function(t){return u-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===o.length&&(o.push(0),u++),{sign:n,coefficients:o,exponent:u}}function We(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=$e(t),r="number"==typeof e?He(n,n.exponent+1+e):n,u=r.coefficients,i=r.exponent+1,o=i+(e||0);return u.length<o&&(u=u.concat(Xe(o-u.length))),i<0&&(u=Xe(1-i).concat(u),i=1),i<u.length&&u.splice(i,0,0===i?"0.":"."),r.sign+u.join("")}function Ye(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=$e(t),r=e?He(n,e):n,u=r.coefficients,i=r.exponent;u.length<e&&(u=u.concat(Xe(e-u.length)));var o=u.shift();return r.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function He(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var u=e-1;for(r[u]++;10===r[u];)r.pop(),0===u&&(r.unshift(0),n.exponent++,u++),r[--u]++}return n}function Xe(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var Ge=Number.EPSILON||2220446049250313e-31;function Qe(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<=Ge||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}var Je=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},tn=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},en=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},nn=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function rn(t,e){return Vt(t)?t:Zt(t)?t.toNumber():void e()}function un(t,e){return Vt(t)?t:Zt(t)?t.toNumber():e}var on=Se("Complex",[],(()=>(Object.defineProperty(Pe,"name",{value:"Complex"}),Pe.prototype.constructor=Pe,Pe.prototype.type="Complex",Pe.prototype.isComplex=!0,Pe.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Pe.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Pe.prototype.format=function(t){var e=this.im,n=this.re,r=Ve(this.re,t),u=Ve(this.im,t),i=Vt(t)?t:t?t.precision:null;if(null!==i){var o=Math.pow(10,-i);Math.abs(n/e)<o&&(n=0),Math.abs(e/n)<o&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":u+"i":e<0?-1===e?r+" - i":r+" - "+u.substring(1)+"i":1===e?r+" + i":r+" + "+u+"i"},Pe.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Pe(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(Vt(n)){if(Yt(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Vt(r))return new Pe({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Pe.prototype.valueOf=Pe.prototype.toString,Pe.fromJSON=function(t){return new Pe(t)},Pe.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Pe)),{isClass:!0});function an(t){var e=0,n=1,r=Object.create(null),u=Object.create(null),i=0,o=function(t){var o=u[t];if(o&&(delete r[o],delete u[t],--e,n===o)){if(!e)return i=0,void(n=1);for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return t=Math.abs(t),{hit:function(a){var s=u[a],c=++i;if(r[c]=a,u[a]=c,!s){if(++e<=t)return;return a=r[n],o(a),a}if(delete r[s],n===s)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:o,clear:function(){e=i=0,n=1,r=Object.create(null),u=Object.create(null)}}}function sn(t){var{hasher:e,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,e=null==e?JSON.stringify:e,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:an(n||Number.POSITIVE_INFINITY)});for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];var o=e(u);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var a=t.apply(t,u);return r.cache.values.set(o,a),r.cache.values.delete(r.cache.lru.hit(o)),a}}function cn(t){return Object.keys(t.signatures||{}).reduce((function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)}),-1)}sn((function(t){return new t(1).exp()}),{hasher:ln}),sn((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:ln});var fn=sn((function(t){return t.acos(-1)}),{hasher:ln});sn((function(t){return fn(t).times(2)}),{hasher:ln});function ln(t){return t[0].precision}Math.PI,Math.PI,Math.E;hn("fineStructure",.0072973525693),hn("weakMixingAngle",.2229),hn("efimovFactor",22.7),hn("sackurTetrode",-1.16487052358);function hn(t,e){return Se(t,["config","BigNumber"],(t=>{var{config:n,BigNumber:r}=t;return"BigNumber"===n.number?new r(e):e}))}var dn=n(377),pn=Se("Fraction",[],(()=>(Object.defineProperty(dn,"name",{value:"Fraction"}),dn.prototype.constructor=dn,dn.prototype.type="Fraction",dn.prototype.isFraction=!0,dn.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},dn.fromJSON=function(t){return new dn(t)},dn)),{isClass:!0}),mn=Se("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});function Dn(t,e,n){var r=new(0,t.constructor)(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!je(n))throw new Error("size must be an integer");if(t.greaterThan(r.pow(n-1).sub(1))||t.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(r.pow(n))),u="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(u);case 8:return"".concat(t.toOctal()).concat(u);case 16:return"".concat(t.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(e," not supported "))}}function yn(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:u}=Ze(e);switch(n){case"fixed":return function(t,e){return t.toFixed(e)}(t,r);case"exponential":return vn(t,r);case"engineering":return function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,u=t.mul(Math.pow(10,-r)),i=u.toPrecision(e);if(i.includes("e")){i=new(0,t.constructor)(i).toFixed()}return i+"e"+(n>=0?"+":"")+r.toString()}(t,r);case"bin":return Dn(t,2,u);case"oct":return Dn(t,8,u);case"hex":return Dn(t,16,u);case"auto":var i=gn(null==e?void 0:e.lowerExp,-3),o=gn(null==e?void 0:e.upperExp,5);if(t.isZero())return"0";var a=t.toSignificantDigits(r),s=a.e;return(s>=i&&s<o?a.toFixed():vn(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function vn(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function gn(t,e){return Vt(t)?t:Zt(t)?t.toNumber():e}function wn(t,e){var n=function(t,e){if("number"==typeof t)return Ve(t,e);if(Zt(t))return yn(t,e);if(function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return En(t,e);if(Ht(t))return bn(t);if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t){return"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((n=>bn(n)+": "+wn(t[n],e))).join(", ")+"}"}return String(t)}(t,e);return e&&"object"==typeof e&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function bn(t){for(var e=String(t),n="",r=0;r<e.length;){var u=e.charAt(r);n+=u in Fn?Fn[u]:u,r++}return'"'+n+'"'}var Fn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function En(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,u=0;u<r;u++)0!==u&&(n+=", "),n+=En(t[u],e);return n+="]"}return wn(t,e)}function An(t,e){if(!Ht(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ne(t)+", index: 0)");if(!Ht(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ne(e)+", index: 1)");return t===e?0:t>e?1:-1}function Cn(t,e,n){if(!(this instanceof Cn))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function xn(t,e,n){if(!(this instanceof xn))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Bn(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function _n(t,e,n){var r,u=t.length;if(u!==e[n])throw new Cn(u,e[n]);if(n<e.length-1){var i=n+1;for(r=0;r<u;r++){var o=t[r];if(!Array.isArray(o))throw new Cn(e.length-1,e.length,"<");_n(t[r],e,i)}}else for(r=0;r<u;r++)if(Array.isArray(t[r]))throw new Cn(e.length+1,e.length,">")}function Nn(t,e){if(0===e.length){if(Array.isArray(t))throw new Cn(t.length,0)}else _n(t,e,0)}function Mn(t,e){if(void 0!==t){if(!Vt(t)||!je(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new xn(t,e)}}function kn(t,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Vt(t)||!je(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+wn(e)+")")})),(Vt(t)||Zt(t))&&(t=[t]),On(t,e,0,void 0!==n?n:0),t}function On(t,e,n,r){var u,i,o=t.length,a=e[n],s=Math.min(o,a);if(t.length=a,n<e.length-1){var c=n+1;for(u=0;u<s;u++)i=t[u],Array.isArray(i)||(i=[i],t[u]=i),On(i,e,c,r);for(u=s;u<a;u++)i=[],t[u]=i,On(i,e,c,r)}else{for(u=0;u<s;u++)for(;Array.isArray(t[u]);)t[u]=t[u][0];for(u=s;u<a;u++)t[u]=r}}function Sn(t,e){var n=qn(t),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Cn(0,r,"!=");var u=In(e=Tn(e,r));if(r!==u)throw new Cn(u,r,"!=");try{return function(t,e){for(var n,r=t,u=e.length-1;u>0;u--){var i=e[u];n=[];for(var o=r.length/i,a=0;a<o;a++)n.push(r.slice(a*i,(a+1)*i));r=n}return r}(n,e)}catch(i){if(i instanceof Cn)throw new Cn(u,r,"!=");throw i}}function Tn(t,e){var n=In(t),r=t.slice(),u=t.indexOf(-1);if(t.indexOf(-1,u+1)>=0)throw new Error("More than one wildcard in sizes");if(u>=0){if(!(e%n==0))throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);r[u]=-e/n}return r}function In(t){return t.reduce(((t,e)=>t*e),1)}function Pn(t,e,n,r){var u=r||Bn(t);if(n)for(var i=0;i<n;i++)t=[t],u.unshift(1);for(t=jn(t,e,0);u.length<e;)u.push(1);return t}function jn(t,e,n){var r,u;if(Array.isArray(t)){var i=n+1;for(r=0,u=t.length;r<u;r++)t[r]=jn(t[r],e,i)}else for(var o=n;o<e;o++)t=[t];return t}function qn(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}function Rn(t,e){for(var n,r=0,u=0;u<t.length;u++){var i=t[u],o=Array.isArray(i);if(0===u&&o&&(r=i.length),o&&i.length!==r)return;var a=o?Rn(i,e):e(i);if(void 0===n)n=a;else if(n!==a)return"mixed"}return n}function Kn(t,e,n,r){if(r<n){if(t.length!==e.length)throw new Cn(t.length,e.length);for(var u=[],i=0;i<t.length;i++)u[i]=Kn(t[i],e[i],n,r+1);return u}return t.concat(e)}function zn(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(1===t.length)return t[0];if(t.length>1)return t.slice(1).reduce((function(t,n){return Kn(t,n,e,0)}),t[0]);throw new Error("Wrong number of arguments in function concat")}function Ln(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.map((t=>t.length)),u=Math.max(...r),i=new Array(u).fill(null),o=0;o<e.length;o++)for(var a=e[o],s=r[o],c=0;c<s;c++){var f=u-s+c;a[c]>i[f]&&(i[f]=a[c])}for(var l=0;l<e.length;l++)Un(e[l],i);return i}function Un(t,e){for(var n=e.length,r=t.length,u=0;u<r;u++){var i=n-r+u;if(t[u]<e[i]&&t[u]>1||t[u]>e[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(r," with size ").concat(t[u]," to size ").concat(e[i]))}}function Vn(e,n){var r=Bn(e);if(ke(r,n))return e;Un(r,n);var u,i,o,a=Ln(r,n),s=a.length,c=[...Array(s-r.length).fill(1),...r],f=function(e){return t([],e)}(e);r.length<s&&(r=Bn(f=Sn(f,c)));for(var l=0;l<s;l++)r[l]<a[l]&&(u=f,i=a[l],o=l,r=Bn(f=zn(...Array(i).fill(u),o)));return f}Cn.prototype=new RangeError,Cn.prototype.constructor=RangeError,Cn.prototype.name="DimensionError",Cn.prototype.isDimensionError=!0,xn.prototype=new RangeError,xn.prototype.constructor=RangeError,xn.prototype.name="IndexError",xn.prototype.isIndexError=!0;var Zn=Se("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Ht(e))throw new Error("Invalid datatype: "+e);if(Gt(t))"DenseMatrix"===t.type?(this._data=Me(t._data),this._size=Me(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&Xt(t.data)&&Xt(t.size))this._data=t.data,this._size=t.size,Nn(this._data,this._size),this._datatype=e||t.datatype;else if(Xt(t))this._data=a(t),this._size=Bn(this._data),Nn(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+Ne(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e,n,u){var i=u===n-1,o=e.dimension(u);return i?o.map((function(e){return Mn(e,t.length),t[e]})).valueOf():o.map((function(i){return Mn(i,t.length),r(t[i],e,n,u+1)})).valueOf()}function u(t,e,n,r,i){var o=i===r-1,a=e.dimension(i);o?a.forEach((function(e,r){Mn(e),t[e]=n[r[0]]})):a.forEach((function(o,a){Mn(o),u(t[o],e,n[a[0]],r,i+1)}))}function i(t,e,n){if(0===e.length){for(var r=t._data;Xt(r);)r=r[0];return r}return t._size=e.slice(0),t._data=kn(t._data,t._size,n),t}function o(t,e,n){for(var r=t._size.slice(0),u=!1;r.length<e.length;)r.push(0),u=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],u=!0);u&&i(t,r,n)}function a(t){return Gt(t)?a(t.valueOf()):Xt(t)?t.map(a):t}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Rn(this._data,Ne)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,i){switch(arguments.length){case 1:return function(t,e){if(!ne(e))throw new TypeError("Invalid index");var u=e.isScalar();if(u)return t.get(e.min());var i=e.size();if(i.length!==t._size.length)throw new Cn(i.length,t._size.length);for(var o=e.min(),a=e.max(),s=0,c=t._size.length;s<c;s++)Mn(o[s],t._size[s]),Mn(a[s],t._size[s]);return new n(r(t._data,e,i.length,0),t._datatype)}(this,t);case 2:case 3:return function(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,a=e.size(),s=e.isScalar();Gt(n)?(i=n.size(),n=n.valueOf()):i=Bn(n);if(s){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(!ke(i,a))try{i=Bn(n=0===i.length?Vn([n],a):Vn(n,a))}catch(p){}if(a.length<t._size.length)throw new Cn(a.length,t._size.length,"<");if(i.length<a.length){for(var c=0,f=0;1===a[c]&&1===i[c];)c++;for(;1===a[c];)f++,c++;n=Pn(n,a.length,f,i)}if(!ke(a,i))throw new Cn(a,i,">");var l=e.max().map((function(t){return t+1}));o(t,l,r);var h=a.length,d=0;u(t._data,e,n,h,d)}return t}(this,t,e,i);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!Xt(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Cn(t.length,this._size.length);for(var e=0;e<t.length;e++)Mn(t[e],this._size[e]);for(var n=this._data,r=0,u=t.length;r<u;r++){var i=t[r];Mn(i,n.length),n=n[i]}return n},n.prototype.set=function(t,e,n){if(!Xt(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Cn(t.length,this._size.length,"<");var r,u,i,a=t.map((function(t){return t+1}));o(this,a,n);var s=this._data;for(r=0,u=t.length-1;r<u;r++)Mn(i=t[r],s.length),s=s[i];return Mn(i=t[t.length-1],s.length),s[i]=e,this},n.prototype.resize=function(t,e,n){if(!Qt(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return i(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;n._data=Sn(n._data,t);var r=n._size.reduce(((t,e)=>t*e));return n._size=Tn(t,r),n},n.prototype.clone=function(){return new n({data:Me(this._data),size:Me(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=cn(t),u=function n(u,i){return Xt(u)?u.map((function(t,e){return n(t,i.concat(e))})):1===r?t(u):2===r?t(u,i):t(u,i,e)}(this._data,[]);return new n(u,void 0!==this._datatype?Rn(u,Ne):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,u){Xt(r)?r.forEach((function(t,e){n(t,u.concat(e))})):t(r,u,e)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*t(e,n){if(Xt(e))for(var r=0;r<e.length;r++)yield*t(e[r],n.concat(r));else yield{value:e,index:n}}(this._data,[])},n.prototype.rows=function(){var t=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var e=this._data;for(var r of e)t.push(new n([r],this._datatype));return t},n.prototype.columns=function(){var t=this,e=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var u=this._data,i=function(r){var i=u.map((t=>[t[r]]));e.push(new n(i,t._datatype))},o=0;o<r[1];o++)i(o);return e},n.prototype.toArray=function(){return Me(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return wn(this._data,t)},n.prototype.toString=function(){return wn(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(Zt(t)&&(t=t.toNumber()),!Vt(t)||!je(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,u=this._size[0],i=this._size[1],o=Math.min(u-r,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+r][s+e];return new n({data:a,size:[o],datatype:this._datatype})},n.diagonal=function(t,e,r,u){if(!Xt(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(Zt(t)&&(t=t.toNumber()),!Vt(t)||!je(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(Zt(r)&&(r=r.toNumber()),!Vt(r)||!je(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var i,o=r>0?r:0,a=r<0?-r:0,s=t[0],c=t[1],f=Math.min(s-a,c-o);if(Xt(e)){if(e.length!==f)throw new Error("Invalid value array length");i=function(t){return e[t]}}else if(Gt(e)){var l=e.size();if(1!==l.length||l[0]!==f)throw new Error("Invalid matrix length");i=function(t){return e.get([t])}}else i=function(){return e};u||(u=Zt(i(0))?i(0).mul(0):0);var h=[];if(t.length>0){h=kn(h,t,u);for(var d=0;d<f;d++)h[d+a][d+o]=i(d)}return new n({data:h,size:[s,c]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(Vt(t)&&je(t)&&Vt(e)&&je(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Mn(t,this._size[0]),Mn(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0}),$n=n(369);function Wn(t,e){if(Gn(t)&&Hn(t,e))return t[e];if("function"==typeof t[e]&&Xn(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function Yn(t,e,n){if(Gn(t)&&Hn(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function Hn(t,e){return!(!t||"object"!=typeof t)&&(!!Oe(Qn,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function Xn(t,e){return null!=t&&"function"==typeof t[e]&&(!(Oe(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!Oe(Jn,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function Gn(t){return"object"==typeof t&&t&&t.constructor===Object}var Qn={length:!0,name:!0},Jn={toString:!0,valueOf:!0,toLocaleString:!0};class tr{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return Wn(this.wrappedObject,t)}set(t,e){return Yn(this.wrappedObject,t,e),this}has(t){return e=this.wrappedObject,t in e;var e}entries(){return er(this.keys(),(t=>[t,this.get(t)]))}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function er(t,e){return{next:()=>{var n=t.next();return n.done?n:{value:e(n.value),done:!1}}}}function nr(t){return!!t&&(t instanceof Map||t instanceof tr||"function"==typeof t.set&&"function"==typeof t.get&&"function"==typeof t.keys&&"function"==typeof t.has)}var rr=function(){return rr=$n.create,$n},ur=Se("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:n,DenseMatrix:r,Fraction:u}=t,i=rr();return i.clear(),i.addTypes([{name:"number",test:Vt},{name:"Complex",test:$t},{name:"BigNumber",test:Zt},{name:"Fraction",test:Wt},{name:"Unit",test:Yt},{name:"identifier",test:t=>Ht&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(t)},{name:"string",test:Ht},{name:"Chain",test:_e},{name:"Array",test:Xt},{name:"Matrix",test:Gt},{name:"DenseMatrix",test:Jt},{name:"SparseMatrix",test:te},{name:"Range",test:ee},{name:"Index",test:ne},{name:"boolean",test:re},{name:"ResultSet",test:ue},{name:"Help",test:ie},{name:"function",test:oe},{name:"Date",test:ae},{name:"RegExp",test:se},{name:"null",test:fe},{name:"undefined",test:le},{name:"AccessorNode",test:he},{name:"ArrayNode",test:de},{name:"AssignmentNode",test:pe},{name:"BlockNode",test:me},{name:"ConditionalNode",test:De},{name:"ConstantNode",test:ye},{name:"FunctionNode",test:ge},{name:"FunctionAssignmentNode",test:ve},{name:"IndexNode",test:we},{name:"Node",test:be},{name:"ObjectNode",test:Fe},{name:"OperatorNode",test:Ee},{name:"ParenthesisNode",test:Ae},{name:"RangeNode",test:Ce},{name:"RelationalNode",test:xe},{name:"SymbolNode",test:Be},{name:"Map",test:nr},{name:"Object",test:ce}]),i.addConversions([{from:"number",to:"BigNumber",convert:function(t){if(e||ir(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||or(t),new n(t,0)}},{from:"BigNumber",to:"Complex",convert:function(t){return n||or(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||or(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){u||ar(t);var e=new u(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||ir(t);try{return new e(t)}catch(n){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){u||ar(t);try{return new u(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||or(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||ir(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return u||ar(t),new u(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}]),i.onMismatch=(t,e,n)=>{var r=i.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&Qt(e[0])&&n.some((t=>!t.params.includes(",")))){var u=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw u.data=r.data,u}throw r},i.onMismatch=(t,e,n)=>{var r=i.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&Qt(e[0])&&n.some((t=>!t.params.includes(",")))){var u=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw u.data=r.data,u}throw r},i}));function ir(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function or(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function ar(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var sr="number",cr="number, number";function fr(t){return Math.abs(t)}function lr(t,e){return t+e}function hr(t,e){return t-e}function dr(t,e){return t*e}function pr(t){return-t}function mr(t){return t}function Dr(t){return ze(t)}function yr(t){return t*t*t}function vr(t){return Math.exp(t)}function gr(t){return Le(t)}function wr(t,e){if(!je(t)||!je(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var n,r=t*e;0!==e;)e=t%(n=e),t=n;return Math.abs(r/t)}function br(t){return Ke(t)}function Fr(t){return Re(t)}function Er(t){return qe(t)}function Ar(t){return t*t}function Cr(t,e){var n,r,u,i=0,o=1,a=1,s=0;if(!je(t)||!je(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)u=t-(r=Math.floor(t/e))*e,n=i,i=o-r*i,o=n,n=a,a=s-r*a,s=n,t=e,e=u;return t<0?[-t,-o,-s]:[t,t?o:0,s]}function xr(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}fr.signature=sr,lr.signature=cr,hr.signature=cr,dr.signature=cr,pr.signature=sr,mr.signature=sr,Dr.signature=sr,yr.signature=sr,vr.signature=sr,gr.signature=sr,wr.signature=cr,br.signature=sr,Fr.signature=sr,Er.signature=sr,Ar.signature=sr,Cr.signature=cr,xr.signature=cr;var Br="number";function _r(t){return Je(t)}function Nr(t){return Math.atan(1/t)}function Mr(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function kr(t){return Math.asin(1/t)}function Or(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function Sr(t){return Math.acos(1/t)}function Tr(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}function Ir(t){return tn(t)}function Pr(t){return en(t)}function jr(t){return 1/Math.tan(t)}function qr(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function Rr(t){return 1/Math.sin(t)}function Kr(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*qe(t)}function zr(t){return 1/Math.cos(t)}function Lr(t){return 2/(Math.exp(t)+Math.exp(-t))}function Ur(t){return nn(t)}_r.signature=Br,Nr.signature=Br,Mr.signature=Br,kr.signature=Br,Or.signature=Br,Sr.signature=Br,Tr.signature=Br,Ir.signature=Br,Pr.signature=Br,jr.signature=Br,qr.signature=Br,Rr.signature=Br,Kr.signature=Br,zr.signature=Br,Lr.signature=Br,Ur.signature=Br;var Vr="number, number";function Zr(t,e){if(!je(t)||!je(e))throw new Error("Integers expected in function bitAnd");return t&e}function $r(t){if(!je(t))throw new Error("Integer expected in function bitNot");return~t}function Wr(t,e){if(!je(t)||!je(e))throw new Error("Integers expected in function bitOr");return t|e}function Yr(t,e){if(!je(t)||!je(e))throw new Error("Integers expected in function bitXor");return t^e}function Hr(t,e){if(!je(t)||!je(e))throw new Error("Integers expected in function leftShift");return t<<e}function Xr(t,e){if(!je(t)||!je(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function Gr(t,e){if(!je(t)||!je(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Zr.signature=Vr,$r.signature="number",Wr.signature=Vr,Yr.signature=Vr,Hr.signature=Vr,Xr.signature=Vr,Gr.signature=Vr;function Qr(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return Qr(t,n)*Qr(n+1,e)}function Jr(t,e){if(!je(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!je(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var n=t-e,r=1,u=2,i=e<n?e:n,o=e<n?n+1:e+1;o<=t;++o)for(r*=o;u<=i&&r%u==0;)r/=u,++u;return u<=i&&(r/=Qr(u,i)),r}Jr.signature="number, number";var tu="equalScalar";Se(tu,["typed","config"],(t=>{var{typed:e,config:n}=t;return e(tu,{"number, number":function(t,e){return Qe(t,e,n.epsilon)}})})),Math.pow(2,53);Se("hex",["typed","format"],(t=>{var{typed:e,format:n}=t;return e("hex",{"number | BigNumber":function(t){return n(t,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(t,e){return n(t,{notation:"hex",wordSize:e})}})}));var eu="number";function nu(t){return t<0}function ru(t){return t>0}function uu(t){return 0===t}function iu(t){return Number.isNaN(t)}nu.signature=eu,ru.signature=eu,uu.signature=eu,iu.signature=eu;function ou(t){var e;if(je(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Qr(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*ou(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,r=n*t,u=r*t,i=u*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*r)-571/(2488320*u)+163879/(209018880*i)+5246819/(75246796800*i*t))}--t,e=su[0];for(var o=1;o<su.length;++o)e+=su[o]/(t+o);var a=t+au+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,t+.5)*Math.exp(-a)*e}ou.signature="number";var au=4.7421875,su=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],cu=.9189385332046728,fu=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function lu(t){if(t<0)return NaN;if(0===t)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-lu(1-t);for(var e=(t-=1)+5+.5,n=fu[0],r=6;r>=1;r--)n+=fu[r]/(t+r);return cu+(t+.5)*Math.log(e)-e+Math.log(n)}lu.signature="number";var hu="number, number";function du(t){return!t}function pu(t,e){return!(!t&&!e)}function mu(t,e){return!!t!=!!e}function Du(t,e){return!(!t||!e)}du.signature="number",pu.signature=hu,mu.signature=hu,Du.signature=hu;Se("oct",["typed","format"],(t=>{var{typed:e,format:n}=t;return e("oct",{"number | BigNumber":function(t){return n(t,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(t,e){return n(t,{notation:"oct",wordSize:e})}})}));var yu=n(391),vu=yu(Date.now());function gu(t){var e,n;return e=null===(n=t)?vu:yu(String(n)),function(){return e()}}function wu(t,e){var n=[];if((t=t.slice(0)).length>1)for(var r=0,u=t.shift();r<u;r++)n.push(wu(t,e));else for(var i=0,o=t.shift();i<o;i++)n.push(e());return n}Se("bin",["typed","format"],(t=>{var{typed:e,format:n}=t;return e("bin",{"number | BigNumber":function(t){return n(t,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(t,e){return n(t,{notation:"bin",wordSize:e})}})}));var bu="randomInt",Fu=Se(bu,["typed","config","?on"],(t=>{var{typed:e,config:n,on:r}=t,u=gu(n.randomSeed);return r&&r("config",(function(t,e){t.randomSeed!==e.randomSeed&&(u=gu(t.randomSeed))})),e(bu,{"":()=>o(0,1),number:t=>o(0,t),"number, number":(t,e)=>o(t,e),"Array | Matrix":t=>i(t,0,1),"Array | Matrix, number":(t,e)=>i(t,0,e),"Array | Matrix, number, number":(t,e,n)=>i(t,e,n)});function i(t,e,n){var r=wu(t.valueOf(),(()=>o(e,n)));return Gt(t)?t.create(r):r}function o(t,e){return Math.floor(t+u()*(e-t))}}));var Eu="equal";Se(Eu,["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return e(Eu,{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})}));function Au(t,e,n,r){if(!(this instanceof Au))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}Au.prototype=new Error,Au.prototype.constructor=Error,Au.prototype.name="ArgumentsError",Au.prototype.isArgumentsError=!0;var Cu="unequal";Se(Cu,["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return e(Cu,{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!n(t,e)}})}));An.signature="any, any";var xu="number | BigNumber | Fraction | Matrix | Array";"".concat(xu,", ").concat(xu,", ...").concat(xu);n(880);n(693);var Bu=Ie({config:i}),_u=on({}),Nu=pn({}),Mu=mn({}),ku=Zn({Matrix:Mu}),Ou=ur({BigNumber:Bu,Complex:_u,DenseMatrix:ku,Fraction:Nu}),Su=Fu({config:i,typed:Ou});function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tu(t,e)}var Iu=n(744);const Pu=Symbol.for("Dexie"),ju=globalThis[Pu]||(globalThis[Pu]=Iu);if(Iu.semVer!==ju.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Iu.semVer} and ${ju.semVer}`);const{liveQuery:qu,mergeRanges:Ru,rangesOverlap:Ku,RangeSet:zu,cmp:Lu,Entity:Uu,PropModSymbol:Vu,PropModification:Zu,replacePrefix:$u,add:Wu,remove:Yu}=ju;var Hu=ju;function Xu(t,e,n){try{if("function"==typeof n){var r=[];return String.prototype.replace.call(t,e,(function(){return r.push(n.apply(void 0,arguments)),""})),Promise.all(r).then((function(n){return String.prototype.replace.call(t,e,(function(){return n.shift()}))}))}return Promise.resolve(String.prototype.replace.call(t,e,n))}catch(u){return Promise.reject(u)}}let Gu=function(){function t(){this.db=new Hu("Biomebot-0.11"),this.db.version(1).stores({botModules:"[data.botId+data.moduleName]",scripts:"++id,[botModuleId+doc]",memory:"[botId+moduleName+key]",wordTag:"++id, &word, tag"})}return t.prototype.getDir=async function(t){const e=await this.db.mains.where({botId:t}).first(),n=await this.db.parts.where({botId:t}).first();return!(!e||!n)},t}();new Gu;const Qu=/^(\{[a-zA-Z0-9_]+\}) (.+)$/,Ju=/^\{([a-zA-Z_][a-zA-Z0-9_]*)\}/,ti=/\{([0-9]+)\}/,ei="abcdefghijklmnopqrstuvwxyz".split("");let ni=function(t){function e(){var e;return(e=t.call(this)||this).getModuleNames=e.getModuleNames.bind(e),e.uploadDxScheme=e.uploadDxScheme.bind(e),e.downloadDxScheme=e.downloadDxScheme.bind(e),e.touchDxScheme=e.touchDxScheme.bind(e),e.downloadDxModule=e.downloadDxModule.bind(e),e.downloadDxScript=e.downloadDxScript.bind(e),e.downloadDxMemory=e.downloadDxMemory.bind(e),e.updateTagValue=e.updateTagValue.bind(e),e.decodeTag=e.decodeTag.bind(e),e.readTag=e.readTag.bind(e),e.pickTag=e.pickTag.bind(e),e._findTag=e._findTag.bind(e),e.writeTag=e.writeTag.bind(e),e.deleteTag=e.deleteTag.bind(e),e.expand=e.expand.bind(e),e.expandWordTag=e.expandWordTag.bind(e),e.memorizeLine=e.memorizeLine.bind(e),e.uploadDxWordToTagList=e.uploadDxWordToTagList.bind(e),e.downloadDxWordToTagList=e.downloadDxWordToTagList.bind(e),e}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,Tu(n,r);var u=e.prototype;return u.getModuleNames=async function(t){const e=await this.db.botModules.where("data.botId").equals(t).toArray(),n=[];for(const r of e)n.push(r.data.moduleName);return n},u.uploadDxScheme=async function(t){for(const e of t.botModules){await this.db.botModules.put({fsId:e.fsId,data:{...e.data,script:"on script db/memory db"}}),this.db.scripts.where("[botModuleId+doc]").equals([e.fsId,"origin"]).delete(),this.db.memory.where("botId").equals(e.fsId).delete();for(const t of e.data.script){const n=t.text.match(Qu);n?await this.db.memory.put({botId:e.data.botId,moduleName:e.data.moduleName,key:n[1],value:n[2].split(","),doc:"origin"}):await this.db.scripts.add({botModuleId:e.fsId,...t,doc:"origin"})}}},u.touchDxScheme=async function(t,e){await this.db.botModules.where("[data.botId+data.moduleName]").equals([t,e]).modify((t=>{t.data.updatedAt=new Date}))},u.downloadDxScheme=async function(t){const e={updatedAt:new Date(0),botModules:[]},n=await this.db.botModules.where(["data.botId","data.moduleName"]).between([t,Hu.minKey],[t,Hu.maxKey]).toArray();for(const r of n){if(r.fsId){const e=r.fsId;r.data.script=await this.downloadDxScript(e),r.data.memory=await this.downloadDxMemory(t,r.moduleName)}e.botModules.push(r),"[object Date]"!==toString.call(r.data.updatedAt)&&(r.data.updatedAt=new Date(1e3*r.data.updatedAt.seconds)),e.updatedAt<r.data.updatedAt&&(e.updatedAt=r.data.updatedAt)}return e},u.downloadDxModule=async function(t,e){return await this.db.botModules.where(["data.botId","data.moduleName"]).equals([t,e]).first()},u.findUserDxModule=async function(t,e){const n=await this.db.botModules.where(["data.botId","data.moduleName"]).equals([`bot${t}`,"main"]).toArray();if(e){for(const t of n)if(t.data.schemeName===e)return{botId:t.data.botId,schemeName:e};return null}for(const r of n)return{botId:r.data.botId,schemeName:r.data.schemeName};return{botId:null,schemeName:null}},u.downloadDxScript=async function(t){return await this.db.scripts.where("[botModuleId+doc]").between([t,Hu.minKey],[t,Hu.maxKey]).sortBy("id")},u.downloadDxMemory=async function(t,e){const n=await this.db.memory.filter((e=>{e.botId===t&&e.moduleName})).toArray(),r={};for(const u of n)r[u.key]=u.value;return r},u.updateTagValue=async function(t,e,n,r){void 0===r&&(r={});const u=r.moduleName||"main",i=r.overwrite||!1,o=Array.isArray(e)?e:[e];return await this.db.memory.where(["botId","moduleName","key"]).equals([n,u,t]).modify((t=>{t.value=i?o:t.value.push(e)}))},u.decodeTag=async function(t,e,n){void 0===n&&(n="main");const r=this.db;const u=await this.readTag(t,e,n),i=u[Su(u.length)];return await Xu(i,Ju,(async function t(u){let i=await r.memory.where(["botId","moduleName","key"]).equals([e,n,u]).first();return i||"main"===n||(i=await r.memory.where(["botId","moduleName","key"]).equals([e,"main",u]).first()),i?Xu(i.value[Su(i.value.length)],Ju,t):u}))},u.writeTag=async function(t,e,n,r){return void 0===r&&(r="main"),await this.db.memory.put({key:t,botId:n,moduleName:r,value:e})},u.deleteTag=async function(t,e,n){return void 0===n&&(n="main"),await this.db.memory.where(["botId","moduleName","key"]).equals([e,n,t]).delete()},u.readTag=async function(t,e,n,r){return void 0===n&&(n=""),void 0===r&&(r="main"),await this._findTag(t,e,n,r)},u.pickTag=async function(t,e,n,r){void 0===n&&(n=null),void 0===r&&(r="main");const u=await this._findTag(t,e,null,r);return u?u[Su(u.length)]:n},u.readCondTags=async function(t,e){const n=Object.keys(t);return await Promise.all(n.map((async t=>({key:t,value:await this.db.memory.where(["botId","moduleName","key"]).equals([e,"main",t]).first()?1:0}))))},u.clearSessionTags=async function(t){await this.db.memory.filter((t=>t.key.startsWith(ei))).delete()},u.uploadDxWordToTagList=async function(t){await this.db.wordTag.toCollection().delete();for(const e of t){const t=e.word,n=await this.db.wordTag.where("word").equals(t).first();n?(console.warning("wordTag duplicated, overwrited",n),await this.db.wordTag.update(n.id,{word:t,tag:e.tag})):await this.db.wordTag.add({tag:e.tag,word:e.word})}},u.downloadDxWordToTagList=async function(){return await this.db.wordTag.toCollection().sortBy("word",(t=>t.sort(((t,e)=>e.word.length-t.word.length))))},u._findTag=async function(t,e,n,r){let u;var i;if(void 0===n&&(n=null),void 0===r&&(r=null),r)return u=await this.db.memory.where(["botId","moduleName","key"]).equals([e,r,t]).first(),u||(u=await this.db.memory.where(["botId","moduleName","key"]).equals([e,"main",t]).first()),(null===(i=u)||void 0===i?void 0:i.value)||n},u.expand=function(t,e,n){const r=this.db;return Xu(t,Ju,(async function t(u){let i=await r.memory.where(["botId","moduleName","key"]).equals([e,n,u]).first();return i||(i=await r.memory.where(["botId","moduleName","key"]).equals([e,"main",u]).first()),i?Xu(i.value[Su(i.value.length)],Ju,t):u}))},u.expandWordTag=function(t){const e=this.db.wordTag;return Xu(t,ti,(async function t(n){const r=await e.wordTag.where("tag").equals(n).first();return r?Xu(r.value[Su(r.value.length)],ti,t):n}))},u.memorizeLine=async function(t,e,n){if(""!==t.text&&""!==e.text){const r=(new Date).valueOf();console.log(t,e),await this.db.scripts.add({botModuleId:n,head:"user",text:`${t.text}\t${r}`,doc:"page0"}),await this.db.scripts.add({botModuleId:n,head:"bot",doc:"page0",text:e.text})}},e}(Gu);const ri=new ni;let ui=function(){function t(t,e){let{user:n,bot:r,cue:u,ecosys:i,timestamp:o}=e;t?"object"==typeof t?(this.text=t.text,this.kind=t.kind,this.avatarDir=t.avatarDir,this.ownerId=t.uid,this.backgroundColor=t.backgroundColor,this.displayName=t.displayName,this.ecoState=t.ecoState,this.timestamp=t.timestamp):(this.timestamp=o||new Date,this.text=t,r?(this.kind="bot",this.avatarDir=r.avatarDir,this.ownerId=r.ownerId,this.avatar=r.avatar,this.displayName=r.displayName,this.backgroundColor=r.backgroundColor,this.ecoState=i||null):n?(this.kind="user",this.avatarDir=n.avatarDir,this.avatar=n.avatar,this.ownerId=n.uid,this.backgroundColor=n.backgroundColor,this.displayName=n.displayName,this.ecoState=i||null):!0===u?(this.kind="cue",this.avatarDir=null,this.ownerId=null,this.avatar=null,this.backgroundColor=null,this.displayName=null,this.ecoState=null):(this.kind="system",this.avatarDir=null,this.ownerId=null,this.avatar=null,this.backgroundColor=null,this.displayName=null,this.ecoState=null)):(this.text="",this.kind="",this.avatarDir=null,this.backgroundColor=null,this.displayName=null,this.ecoState=null,this.timestamp=new Date)}return t.prototype.toObject=function(){return{text:this.text,kind:this.kind,avatarDir:this.avatarDir,ownerId:this.ownerId,avatar:this.avatar,backgroundColor:this.backgroundColor,displayName:this.displayName,ecoState:this.ecoState,timestamp:this.timestamp}},t}();const ii={botId:null,schemeName:null,avatarDir:null,backgroundColor:"#cccccc",channel:new BroadcastChannel("biomebot"),deploy:async t=>{let{worker:e,botId:n,summon:r}=t;const u=(await ri.downloadDxModule(n,"main")).data;return ii.worker=e,ii.botId=n,ii.summon=r,ii.schemeName=u.schemeName,ii.author=u.author,ii.updatedAt=u.updatedAt,ii.description=u.descrption,ii.alarms=u.alarms,ii.avatarDir=u.avatarDir,ii.backgroundColor=u.backgroundColor,ii.responseIntervals=await ri.readTag("{RESPONSE_INTERVALS}",n),ii.responsePrecision=Number(await ri.pickTag("{RESPONSE_PRECISION}",n,.3)),ii.proposalSpool=[],ii.channel.onmessage=t=>{const e=t.data;switch(e.type){case"propose":console.log("main get",e),e.score>ii.responsePrecision&&(ii.proposalSpool.push({moduleName:e.moduleName,score:e.score,index:e.index}),ii.worker.postMessage({type:"replying"}));break;case"reply":ii.reply(e)}},ii.botName=await ri.decodeTag("{BOT_NAME}",n),"undefined"===ii.botName&&(ii.botName=await ri.decodeTag("{BOT_NAME_GENERATOR}",n),await ri.updateTagValue("{BOT_NAME}",ii.botName,n,{overwrite:!0})),await ri.clearSessionTags(n),ii.botRepr={ownerId:ii.botId,displayName:ii.botName,avatarDir:ii.avatarDir,backgroundColor:ii.backgroundColor,ecoState:null},{botRepr:{...ii.botRepr,avatar:"emerged"}}},run:async t=>{let e;ii._loop(),e=ii.summon?"greeting":await ri.decodeTag("{ON_START}",ii.botId),ii.channel.postMessage({type:"start",moduleName:e,user:t.user})},_loop:()=>{ii.integrate();const t=ii.responseIntervals,e=t[Su(t.length)];setTimeout(ii._loop,e)},userKeyTouch:async t=>{},recieve:async t=>{ii.currentInput={...t.message},ii.channel.postMessage({type:"input",message:t.message})},integrate:t=>{if(0!==ii.proposalSpool.length){let t,e=0;for(let n=0;n<ii.proposalSpool.length;n++){const r=ii.proposalSpool[n];e<=r.score&&(e=r.score,t=r)}ii.channel.postMessage({type:"approve",...t}),ii.proposalSpool=[]}},reply:t=>{const e=new ui(t.text,{bot:{...ii.botRepr,avatar:t.avatar}});ii.worker.postMessage({type:"reply",message:e.toObject()})},pause:async t=>{},kill:()=>{ii.channel.postMessage({type:"kill"}),ii.channel.close()}};self.onmessage=t=>{const e=t.data;switch(e.type){case"deploy":ii.deploy({...e,worker:self}).then((t=>{self.postMessage({type:"deployed",startingPart:t.startingPart,botRepr:t.botRepr})}));break;case"run":ii.run(e);break;case"input":ii.recieve(e);break;case"kill":ii.kill(),self.close();break;default:throw new Error(`mainWorker: invalid action ${e.type}`)}}}()}();
//# sourceMappingURL=main.worker-144628662cfe1b86d094.worker.js.map