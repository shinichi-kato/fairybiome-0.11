/*! For license information please see component---src-pages-index-js-1ca9e7fe1f1c0664a5a6.js.LICENSE.txt */
(self.webpackChunkfairybiome=self.webpackChunkfairybiome||[]).push([[293],{6743:function(e,t,n){"use strict";n.d(t,{Am:function(){return k},FA:function(){return C},Fy:function(){return m},I9:function(){return M},Im:function(){return S},Ku:function(){return R},T9:function(){return h},Tj:function(){return l},Uj:function(){return a},XA:function(){return d},ZQ:function(){return g},bD:function(){return B},cY:function(){return p},eX:function(){return E},g:function(){return x},hp:function(){return I},jZ:function(){return v},lT:function(){return D},lV:function(){return b},nr:function(){return w},sr:function(){return y},tD:function(){return _},u:function(){return u},yU:function(){return f},zW:function(){return A}});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,a=i?e[o+1]:0,u=o+2<e.length,s=u?e[o+2]:0,c=t>>2,l=(3&t)<<4|a>>4;let f=(15&a)<<2|s>>6,h=63&s;u||(h=64,i||(f=64)),r.push(n[c],n[l],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const u=o<e.length?n[e.charAt(o)]:64;++o;const s=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==a||null==u||null==s)throw new i;const c=t<<2|a>>4;if(r.push(c),64!==u){const e=a<<4&240|u>>2;if(r.push(e),64!==s){const e=u<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},u=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const s=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return s()||(()=>{if("undefined"==typeof process||void 0==={})return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},l=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},f=e=>{const t=l(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},d=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(i)),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function D(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){try{return"object"==typeof indexedDB}catch(e){return!1}}function E(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class x extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(F,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new x(r,a,n)}}const F=/\{\$([^}]+)}/g;function S(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function B(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(N(n)&&N(i)){if(!B(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function N(e){return null!==e&&"object"==typeof e}function k(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function M(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function I(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _(e,t){const n=new O(e,t);return n.subscribe.bind(n)}class O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function T(){}function R(e){return e&&e._delegate?e._delegate:e}},790:function(e,t,n){"use strict";var r=n(4994);t.A=void 0;var o=r(n(2032)),i=n(4848);t.A=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},5858:function(e,t,n){"use strict";var r=n(4994);t.A=void 0;var o=r(n(2032)),i=n(4848);t.A=(0,o.default)((0,i.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")},4017:function(e,t,n){"use strict";var r=n(4994);t.A=void 0;var o=r(n(2032)),i=n(4848);t.A=(0,o.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")},1845:function(e,t,n){"use strict";var r=n(4994);t.A=void 0;var o=r(n(2032)),i=n(4848);t.A=(0,o.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},3246:function(e,t,n){"use strict";var r=n(4994);t.A=void 0;var o=r(n(2032)),i=n(4848);t.A=(0,o.default)((0,i.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key")},5012:function(e,t,n){"use strict";var r=n(4994);t.A=void 0;var o=r(n(2032)),i=n(4848);t.A=(0,o.default)((0,i.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined")},443:function(e,t,n){"use strict";var r=n(4994);t.A=void 0;var o=r(n(2032)),i=n(4848);t.A=(0,o.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},2032:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(6525)},5003:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var r=n(8168),o=n(6540),i=n(8587),a=n(4164),u=n(4111),s=n(8466),c=n(3541),l=n(1848),f=n(7553),h=n(7245);function d(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,f.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(4848);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,l.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,s.A)(n.color)}`],t[`fontSize${(0,s.A)(n.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var n,r,o,i,a,u,s,c,l,f,h,d,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(o=e.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(i=e.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(u=e.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=e.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[t.fontSize],color:null!=(f=null==(h=(e.vars||e).palette)||null==(h=h[t.color])?void 0:h.main)?f:{action:null==(d=(e.vars||e).palette)||null==(d=d.action)?void 0:d.active,disabled:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0}[t.color]}})),v=o.forwardRef((function(e,t){const n=(0,c.A)({props:e,name:"MuiSvgIcon"}),{children:l,className:f,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:D=!1,titleAccess:w,viewBox:A="0 0 24 24"}=n,E=(0,i.A)(n,m),x=o.isValidElement(l)&&"svg"===l.type,C=(0,r.A)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:D,viewBox:A,hasSvgAsChild:x}),F={};D||(F.viewBox=A);const S=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&`color${(0,s.A)(t)}`,`fontSize${(0,s.A)(n)}`]};return(0,u.A)(o,d,r)})(C);return(0,p.jsxs)(g,(0,r.A)({as:v,className:(0,a.A)(S.root,f),focusable:"false",color:b,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},F,E,x&&l.props,{ownerState:C,children:[x?l.props.children:l,w?(0,p.jsx)("title",{children:w}):null]}))}));v.muiName="SvgIcon";var y=v;function b(e,t){function n(n,o){return(0,p.jsx)(y,(0,r.A)({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return n.muiName=y.muiName,o.memo(o.forwardRef(n))}},6525:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return o.A},createChainedFunction:function(){return i},createSvgIcon:function(){return a.A},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return c.A},ownerDocument:function(){return l},ownerWindow:function(){return f},requirePropFactory:function(){return h},setRef:function(){return d},unstable_ClassNameGenerator:function(){return A},unstable_useEnhancedEffect:function(){return p.A},unstable_useId:function(){return m},unsupportedProp:function(){return g},useControlled:function(){return y},useEventCallback:function(){return b.A},useForkRef:function(){return D.A},useIsFocusVisible:function(){return w.A}});var r=n(2067),o=n(8466),i=n(9941).A,a=n(5003),u=n(4965).A;var s=function(e,t){return()=>null},c=n(5602),l=n(6249).A,f=n(1489).A;n(8168);var h=function(e,t){return()=>null},d=n(6102).A,p=n(2778),m=n(4953).A;var g=function(e,t,n,r,o){return null},v=n(6540);var y=function({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=v.useRef(void 0!==e),[i,a]=v.useState(t);return[o?e:i,v.useCallback((e=>{o||a(e)}),[])]},b=n(3034),D=n(6852),w=n(873);const A={configure:e=>{r.A.configure(e)}}},5602:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(6540);var o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},2778:function(e,t,n){"use strict";var r=n(173);t.A=r.A},3034:function(e,t,n){"use strict";var r=n(6111);t.A=r.A},6852:function(e,t,n){"use strict";var r=n(4871);t.A=r.A},873:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(6540),o=n(2640);let i=!0,a=!1;const u=new o.E,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function l(){i=!1}function f(){"hidden"===this.visibilityState&&a&&(i=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var d=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,u.start(100,(()=>{a=!1})),t.current=!1,!0)},ref:e}}},9941:function(e,t,n){"use strict";function r(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))}n.d(t,{A:function(){return r}})},4965:function(e,t,n){"use strict";function r(e,t=166){let n;function r(...r){clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}return r.clear=()=>{clearTimeout(n)},r}n.d(t,{A:function(){return r}})},6249:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:function(){return r}})},1489:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(6249);function o(e){return(0,r.A)(e).defaultView||window}},6102:function(e,t,n){"use strict";function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,{A:function(){return r}})},173:function(e,t,n){"use strict";var r=n(6540);const o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.A=o},6111:function(e,t,n){"use strict";var r=n(6540),o=n(173);t.A=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef(((...e)=>(0,t.current)(...e))).current}},4871:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(6540),o=n(6102);function i(...e){return r.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{(0,o.A)(e,t)}))}),e)}},4953:function(e,t,n){"use strict";var r;n.d(t,{A:function(){return u}});var o=n(6540);let i=0;const a=(r||(r=n.t(o,2)))["useId".toString()];function u(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n(`mui-${i}`))}),[t]),r}(e)}},2640:function(e,t,n){"use strict";n.d(t,{E:function(){return a},A:function(){return u}});var r=n(6540);const o={};const i=[];class a{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new a}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function u(){const e=function(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}(a.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},5716:function(e,t){var n;!function(r){"use strict";var o=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},i=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},a=function(){throw SyntaxError("Invalid Param")};function u(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):(e/=2,t/=2,.5*Math.log(e*e+t*t)+Math.LN2)}function s(e,t){if(!(this instanceof s))return new s(e,t);var n=function(e,t){var n={re:0,im:0};if(null==e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return s.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return s.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):a();break;case"string":n.im=n.re=0;var r=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,i=0;null===r&&a();for(var u=0;u<r.length;u++){var c=r[u];" "===c||"\t"===c||"\n"===c||("+"===c?o++:"-"===c?i++:"i"===c||"I"===c?(o+i===0&&a()," "===r[u+1]||isNaN(r[u+1])?n.im+=parseFloat((i%2?"-":"")+"1"):(n.im+=parseFloat((i%2?"-":"")+r[u+1]),u++),o=i=0):((o+i===0||isNaN(c))&&a(),"i"===r[u+1]||"I"===r[u+1]?(n.im+=parseFloat((i%2?"-":"")+c),u++):n.re+=parseFloat((i%2?"-":"")+c),o=i=0))}o+i>0&&a();break;case"number":n.im=0,n.re=e;break;default:a()}return isNaN(n.re)||isNaN(n.im),n}(e,t);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var e=this.abs();return new s(this.re/e,this.im/e)},add:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:0===n.im&&0===this.im?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new s(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;e=this.re,t=this.im;var r,o,i=n.re,a=n.im;return 0===a?new s(e/i,t/i):Math.abs(i)<Math.abs(a)?new s((e*(o=i/a)+t)/(r=i*o+a),(t*o-e)/r):new s((e+t*(o=a/i))/(r=a*o+i),(t-e*o)/r)},pow:function(e,t){var n=new s(e,t);if(e=this.re,t=this.im,n.isZero())return s.ONE;if(0===n.im){if(0===t&&e>0)return new s(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new s(Math.pow(t,n.re),0);case 1:return new s(0,Math.pow(t,n.re));case 2:return new s(-Math.pow(t,n.re),0);case 3:return new s(0,-Math.pow(t,n.re))}}if(0===e&&0===t&&n.re>0&&n.im>=0)return s.ZERO;var r=Math.atan2(t,e),o=u(e,t);return e=Math.exp(n.re*o-n.im*r),t=n.im*o+n.re*r,new s(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,r=this.im,o=this.abs();if(n>=0){if(0===r)return new s(Math.sqrt(n),0);e=.5*Math.sqrt(2*(o+n))}else e=Math.abs(r)/Math.sqrt(2*(o-n));return t=n<=0?.5*Math.sqrt(2*(o-n)):Math.abs(r)/Math.sqrt(2*(o+n)),new s(e,r<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new s(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new s(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new s(u(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,n=Math.abs(e),r=Math.abs(t),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=e/t):r=t/e,n*Math.sqrt(1+r*r));var e,t,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new s(Math.sin(e)*o(t),Math.cos(e)*i(t))},cos:function(){var e=this.re,t=this.im;return new s(Math.cos(e)*o(t),-Math.sin(e)*i(t))},tan:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)+o(t);return new s(Math.sin(e)/n,i(t)/n)},cot:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)-o(t);return new s(-Math.sin(e)/n,i(t)/n)},sec:function(){var e=this.re,t=this.im,n=.5*o(2*t)+.5*Math.cos(2*e);return new s(Math.cos(e)*o(t)/n,Math.sin(e)*i(t)/n)},csc:function(){var e=this.re,t=this.im,n=.5*o(2*t)-.5*Math.cos(2*e);return new s(Math.sin(e)*o(t)/n,-Math.cos(e)*i(t)/n)},asin:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),r=new s(n.re-t,n.im+e).log();return new s(r.im,-r.re)},acos:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),r=new s(n.re-t,n.im+e).log();return new s(Math.PI/2-r.im,r.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new s(0,1/0);if(-1===t)return new s(0,-1/0)}var n=e*e+(1-t)*(1-t),r=new s((1-t*t-e*e)/n,-2*e/n).log();return new s(-.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new s(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).atan():new s(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(0,1/0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).acos():new s(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).asin():new s(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new s(i(e)*Math.cos(t),o(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new s(o(e)*Math.cos(t),i(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,n=o(e)+Math.cos(t);return new s(i(e)/n,Math.sin(t)/n)},coth:function(){var e=2*this.re,t=2*this.im,n=o(e)-Math.cos(t);return new s(i(e)/n,-Math.sin(t)/n)},csch:function(){var e=this.re,t=this.im,n=Math.cos(2*t)-o(2*e);return new s(-2*i(e)*Math.cos(t)/n,2*o(e)*Math.sin(t)/n)},sech:function(){var e=this.re,t=this.im,n=Math.cos(2*t)+o(2*e);return new s(2*o(e)*Math.cos(t)/n,-2*i(e)*Math.sin(t)/n)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,r=1-e,o=1+e,i=r*r+t*t,a=0!==i?new s((o*r-t*t)/i,(t*r+o*t)/i):new s(-1!==e?e/0:0,0!==t?t/0:0),c=a.re;return a.re=u(a.re,a.im)/2,a.im=Math.atan2(a.im,c)/2,n&&(a.im=-a.im),a},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(0,Math.PI/2);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).atanh():new s(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new s(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).asinh():new s(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return s.INFINITY;var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).acosh():new s(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new s(e/n,-t/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new s(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new s(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new s(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new s(e,t);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<s.EPSILON&&(e=0),Math.abs(t)<s.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},3744:function(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,i=Object.keys,a=Array.isArray;function u(e,t){return"object"!=typeof t||i(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||o.Promise||(o.Promise=Promise);var s=Object.getPrototypeOf,c={}.hasOwnProperty;function l(e,t){return c.call(e,t)}function f(e,t){"function"==typeof t&&(t=t(s(e))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(t).forEach((function(n){d(e,n,t[n])}))}var h=Object.defineProperty;function d(e,t,n,r){h(e,t,u(n&&l(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),d(e.prototype,"constructor",e),{extend:f.bind(null,e.prototype)}}}}var m=Object.getOwnPropertyDescriptor,g=[].slice;function v(e,t,n){return g.call(e,t,n)}function y(e,t){return t(e)}function b(e){if(!e)throw new Error("Assertion Failed")}function D(e){o.setImmediate?setImmediate(e):setTimeout(e,0)}function w(e,t){if("string"==typeof t&&l(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=w(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return null==u?void 0:w(u,t.substr(a+1))}}function A(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){b("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)A(e,t[r],n[r])}else{var i,u,s=t.indexOf(".");-1!==s?(i=t.substr(0,s),""===(u=t.substr(s+1))?void 0===n?a(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n:A(s=(s=e[i])&&l(e,i)?s:e[i]={},u,n)):void 0===n?a(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function E(e){var t,n={};for(t in e)l(e,t)&&(n[t]=e[t]);return n}var x=[].concat;function C(e){return x.apply([],e)}var F="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(C([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return o[e]})),S=new Set(F.map((function(e){return o[e]}))),B=null;function N(e){return B=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=B.get(t);if(n)return n;if(a(t)){n=[],B.set(t,n);for(var r=0,o=t.length;r<o;++r)n.push(e(t[r]))}else if(S.has(t.constructor))n=t;else{var i,u=s(t);for(i in n=u===Object.prototype?{}:Object.create(u),B.set(t,n),t)l(t,i)&&(n[i]=e(t[i]))}return n}(e),B=null,e}var k={}.toString;function M(e){return k.call(e).slice(8,-1)}var I="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",_="symbol"==typeof I?function(e){var t;return null!=e&&(t=e[I])&&t.apply(e)}:function(){return null};function O(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var T={};function R(e){var t,n,r,o;if(1===arguments.length){if(a(e))return e.slice();if(this===T&&"string"==typeof e)return[e];if(o=_(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var P="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},j=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(se=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),L={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function z(e,t){this.name=e,this.message=t}function $(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function q(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=$(e,t)}function K(e,t){this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=$(e,this.failures)}p(z).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(q).from(z),p(K).from(z);var W=j.reduce((function(e,t){return e[t]=t+"Error",e}),{}),U=z,H=j.reduce((function(e,t){var n=t+"Error";function r(e,r){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=L[t]||n,this.inner=null)}return p(r).from(U),e[t]=r,e}),{});H.Syntax=SyntaxError,H.Type=TypeError,H.Range=RangeError;var V=se.reduce((function(e,t){return e[t+"Error"]=H[t],e}),{}),X=j.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=H[t]),e}),{});function Y(){}function G(e){return e}function Z(e,t){return null==e||e===G?t:function(n){return t(e(n))}}function J(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Q(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?J(r,this.onsuccess):r),o&&(this.onerror=this.onerror?J(o,this.onerror):o),void 0!==i?i:n}}function ee(e,t){return e===Y?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),r&&(this.onerror=this.onerror?J(r,this.onerror):r)}}function te(e,t){return e===Y?t:function(n){var r=e.apply(this,arguments);u(n,r);var o=this.onsuccess,i=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?J(o,this.onsuccess):o),i&&(this.onerror=this.onerror?J(i,this.onerror):i),void 0===r?void 0===n?void 0:n:u(r,n)}}function ne(e,t){return e===Y?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function re(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}X.ModifyError=q,X.DexieError=z,X.BulkError=K;var oe="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ie(e){oe=e}var ae={},ue=100,se=(F="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,s(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,s(t),e]}(),F[0]),ce=(j=F[1],F=F[2],j=j&&j.then,se&&se.constructor),le=!!F,fe=function(e,t){be.push([e,t]),de&&(queueMicrotask(Ne),de=!1)},he=!0,de=!0,pe=[],me=[],ge=G,ve={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Y,pgp:!1,env:{},finalize:Y},ye=ve,be=[],De=0,we=[];function Ae(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ye;if("function"!=typeof e){if(e!==ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ce(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n((function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&ke();n&&"function"==typeof n.then?e(t,(function(e,t){n instanceof Ae?n._then(e,t):n.then(e,t)})):(t._state=!0,t._value=n,Fe(t)),r&&Me()}}),Ce.bind(null,t))}catch(n){Ce(t,n)}}(this,e)}var Ee={get:function(){var e=ye,t=Le;function n(n,r){var o=this,i=!e.global&&(e!==ye||t!==Le),a=i&&!Ke(),u=new Ae((function(t,u){Se(o,new xe(Ye(n,e,i,a),Ye(r,e,i,a),t,u,e))}));return this._consoleTask&&(u._consoleTask=this._consoleTask),u}return n.prototype=ae,n},set:function(e){d(this,"then",e&&e.prototype===ae?Ee:{get:function(){return e},set:Ee.set})}};function xe(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function Ce(e,t){var n,r;me.push(t),null===e._state&&(n=e._lib&&ke(),t=ge(t),e._state=!1,e._value=t,r=e,pe.some((function(e){return e._value===r._value}))||pe.push(r),Fe(e),n&&Me())}function Fe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Se(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===De&&(++De,fe((function(){0==--De&&Ie()}),[]))}function Se(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++De,fe(Be,[n,e,t])}else e._listeners.push(t)}function Be(e,t,n){try{var r,o=t._value;!t._state&&me.length&&(me=[]),r=oe&&t._consoleTask?t._consoleTask.run((function(){return e(o)})):e(o),t._state||-1!==me.indexOf(o)||function(e){for(var t=pe.length;t;)if(pe[--t]._value===e._value)return pe.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--De&&Ie(),--n.psd.ref||n.psd.finalize()}}function Ne(){Xe(ve,(function(){ke()&&Me()}))}function ke(){var e=he;return de=he=!1,e}function Me(){var e,t,n;do{for(;0<be.length;)for(e=be,be=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<be.length);de=he=!0}function Ie(){var e=pe;pe=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=we.slice(0),n=t.length;n;)t[--n]()}function _e(e){return new Ae(ae,!1,e)}function Oe(e,t){var n=ye;return function(){var r=ke(),o=ye;try{return He(n,!0),e.apply(this,arguments)}catch(r){t&&t(r)}finally{He(o,!1),r&&Me()}}}f(Ae.prototype,{then:Ee,_then:function(e,t){Se(this,new xe(null,null,e,t,ye))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return(e instanceof t?n:_e)(e)})):this.then(null,(function(e){return(e&&e.name===t?n:_e)(e)}))},finally:function(e){return this.then((function(t){return Ae.resolve(e()).then((function(){return t}))}),(function(t){return Ae.resolve(e()).then((function(){return _e(t)}))}))},timeout:function(e,t){var n=this;return e<1/0?new Ae((function(r,o){var i=setTimeout((function(){return o(new H.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(Ae.prototype,Symbol.toStringTag,"Dexie.Promise"),ve.env=Ve(),f(Ae,{all:function(){var e=R.apply(null,arguments).map(We);return new Ae((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return Ae.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){return e instanceof Ae?e:e&&"function"==typeof e.then?new Ae((function(t,n){e.then(t,n)})):new Ae(ae,!0,e)},reject:_e,race:function(){var e=R.apply(null,arguments).map(We);return new Ae((function(t,n){e.map((function(e){return Ae.resolve(e).then(t,n)}))}))},PSD:{get:function(){return ye},set:function(e){return ye=e}},totalEchoes:{get:function(){return Le}},newPSD:$e,usePSD:Xe,scheduler:{get:function(){return fe},set:function(e){fe=e}},rejectionMapper:{get:function(){return ge},set:function(e){ge=e}},follow:function(e,t){return new Ae((function(n,r){return $e((function(t,n){var r=ye;r.unhandleds=[],r.onunhandled=n,r.finalize=J((function(){var e,r=this;e=function(){0===r.unhandleds.length?t():n(r.unhandleds[0])},we.push((function t(){e(),we.splice(we.indexOf(t),1)})),++De,fe((function(){0==--De&&Ie()}),[])}),r.finalize),e()}),t,n,r)}))}}),ce&&(ce.allSettled&&d(Ae,"allSettled",(function(){var e=R.apply(null,arguments).map(We);return new Ae((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return Ae.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),ce.any&&"undefined"!=typeof AggregateError&&d(Ae,"any",(function(){var e=R.apply(null,arguments).map(We);return new Ae((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return Ae.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var Te={awaits:0,echoes:0,id:0},Re=0,Pe=[],je=0,Le=0,ze=0;function $e(e,t,n,r){var o=ye,i=Object.create(o);return i.parent=o,i.ref=0,i.global=!1,i.id=++ze,ve.env,i.env=le?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,allSettled:Ae.allSettled,any:Ae.any,resolve:Ae.resolve,reject:Ae.reject}:{},t&&u(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Xe(i,e,n,r),0===i.ref&&i.finalize(),r}function qe(){return Te.id||(Te.id=++Re),++Te.awaits,Te.echoes+=ue,Te.id}function Ke(){return!!Te.awaits&&(0==--Te.awaits&&(Te.id=0),Te.echoes=Te.awaits*ue,!0)}function We(e){return Te.echoes&&e&&e.constructor===ce?(qe(),e.then((function(e){return Ke(),e}),(function(e){return Ke(),Ze(e)}))):e}function Ue(){var e=Pe[Pe.length-1];Pe.pop(),He(e,!1)}function He(e,t){var n,r=ye;(t?!Te.echoes||je++&&e===ye:!je||--je&&e===ye)||queueMicrotask(t?function(e){++Le,Te.echoes&&0!=--Te.echoes||(Te.echoes=Te.awaits=Te.id=0),Pe.push(ye),He(e,!0)}.bind(null,e):Ue),e!==ye&&(ye=e,r===ve&&(ve.env=Ve()),le&&(n=ve.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(o,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Ve(){var e=o.Promise;return le?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Xe(e,t,n,r,o){var i=ye;try{return He(e,!0),t(n,r,o)}finally{He(i,!1)}}function Ye(e,t,n,r){return"function"!=typeof e?e:function(){var o=ye;n&&qe(),He(t,!0);try{return e.apply(this,arguments)}finally{He(o,!1),r&&queueMicrotask(Ke)}}}function Ge(e){Promise===ce&&0===Te.echoes?0===je?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+j).indexOf("[native code]")&&(qe=Ke=Y);var Ze=Ae.reject,Je=String.fromCharCode(65535),Qe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",et="String expected.",tt=[],nt="__dbnames",rt="readonly",ot="readwrite";function it(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var at={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ut(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=N(t))[e],t}}function st(){throw H.Type()}function ct(e,t){try{var n=lt(e),r=lt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return n===r?0:n<r?-1:1}(ft(e),ft(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i){var a=ct(e[i],t[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function lt(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=M(e))?"binary":e}function ft(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var ht=(dt.prototype._trans=function(e,t,n){var r=this._tx||ye.trans,o=this.name,i=oe&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function a(e,n,r){if(!r.schema[o])throw new H.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}var u=ke();try{var s=r&&r.db._novip===this.db._novip?r===ye.trans?r._promise(e,a,n):$e((function(){return r._promise(e,a,n)}),{trans:r,transless:ye.transless||ye}):function t(n,r,o,i){if(n.idbdb&&(n._state.openComplete||ye.letThrough||n._vip)){var a=n._createTransaction(r,o,n._dbSchema);try{a.create(),n._state.PR1398_maxLoop=3}catch(e){return e.name===W.InvalidState&&n.isOpen()&&0<--n._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),n.close({disableAutoOpen:!1}),n.open().then((function(){return t(n,r,o,i)}))):Ze(e)}return a._promise(r,(function(e,t){return $e((function(){return ye.trans=a,i(e,t,a)}))})).then((function(e){if("readwrite"===r)try{a.idbtrans.commit()}catch(e){}return"readonly"===r?e:a._completion.then((function(){return e}))}))}if(n._state.openComplete)return Ze(new H.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return Ze(new H.DatabaseClosed);n.open().catch(Y)}return n._state.dbReadyPromise.then((function(){return t(n,r,o,i)}))}(this.db,e,[this.name],a);return i&&(s._consoleTask=i,s=s.catch((function(e){return console.trace(e),Ze(e)}))),s}finally{u&&Me()}},dt.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?Ze(new H.Type("Invalid argument to Table.get()")):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},dt.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(a(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){if(e.compound&&t.every((function(t){return 0<=e.keyPath.indexOf(t)}))){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort((function(e,t){return e.keyPath.length-t.keyPath.length}))[0];if(n&&this.db._maxKey!==Je){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map((function(t){return e[t]})))}!n&&oe&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var o=this.schema.idxByName,u=this.db._deps.indexedDB;function s(e,t){return 0===u.cmp(e,t)}var c=t.reduce((function(t,n){var r=t[0],i=t[1],u=(t=o[n],e[n]);return[r||t,r||!t?it(i,t&&t.multi?function(e){return e=w(e,n),a(e)&&e.some((function(e){return s(u,e)}))}:function(e){return s(u,w(e,n))}):i]}),[null,null]);return r=c[0],c=c[1],r?this.where(r.name).equals(e[r.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")},dt.prototype.filter=function(e){return this.toCollection().and(e)},dt.prototype.count=function(e){return this.toCollection().count(e)},dt.prototype.offset=function(e){return this.toCollection().offset(e)},dt.prototype.limit=function(e){return this.toCollection().limit(e)},dt.prototype.each=function(e){return this.toCollection().each(e)},dt.prototype.toArray=function(e){return this.toCollection().toArray(e)},dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,a(e)?"[".concat(e.join("+"),"]"):e))},dt.prototype.reverse=function(){return this.toCollection().reverse()},dt.prototype.mapToClass=function(t){var n,r=this.db,o=this.name;function i(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof st&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(i,n=t),Object.defineProperty(i.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),i.prototype.table=function(){return o},t=i);for(var a=new Set,u=t.prototype;u;u=s(u))Object.getOwnPropertyNames(u).forEach((function(e){return a.add(e)}));function c(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!a.has(n))try{r[n]=e[n]}catch(e){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),t},dt.prototype.defineClass=function(){return this.mapToClass((function(e){u(this,e)}))},dt.prototype.add=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=ut(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?Ae.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{A(e,i,t)}catch(t){}return t}))},dt.prototype.update=function(e,t){return"object"!=typeof e||a(e)?this.where(":id").equals(e).modify(t):void 0===(e=w(e,this.schema.primKey.keyPath))?Ze(new H.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},dt.prototype.put=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=ut(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Ae.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{A(e,i,t)}catch(t){}return t}))},dt.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Ae.reject(e.failures[0]):void 0}))},dt.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:at})})).then((function(e){return e.numFailures?Ae.reject(e.failures[0]):void 0}))},dt.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},dt.prototype.bulkAdd=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(u=r.schema.primKey).auto;if((u=u.keyPath)&&o)throw new H.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,u=u&&n?e.map(ut(u)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:u,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult;if(e=e.failures,0===t)return i?n:o;throw new K("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(a," operations failed"),e)}))}))},dt.prototype.bulkPut=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(u=r.schema.primKey).auto;if((u=u.keyPath)&&o)throw new H.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,u=u&&n?e.map(ut(u)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:u,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult;if(e=e.failures,0===t)return i?n:o;throw new K("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(a," operations failed"),e)}))}))},dt.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map((function(e){return e.key})),o=e.map((function(e){return e.changes})),i=[];return this._trans("readwrite",(function(a){return n.getMany({trans:a,keys:r,cache:"clone"}).then((function(u){var s=[],c=[];e.forEach((function(e,n){var r=e.key,o=e.changes,a=u[n];if(a){for(var l=0,f=Object.keys(o);l<f.length;l++){var h=f[l],d=o[h];if(h===t.schema.primKey.keyPath){if(0!==ct(d,r))throw new H.Constraint("Cannot update primary key in bulkUpdate()")}else A(a,h,d)}i.push(n),s.push(r),c.push(a)}}));var l=s.length;return n.mutate({trans:a,type:"put",keys:s,values:c,updates:{keys:r,changeSpecs:o}}).then((function(e){var n=e.numFailures,r=e.failures;if(0===n)return l;for(var o=0,a=Object.keys(r);o<a.length;o++){var u,s=a[o],c=i[Number(s)];null!=c&&(u=r[s],delete r[s],r[c]=u)}throw new K("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(l," operations failed"),r)}))}))}))},dt.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult;if(e=e.failures,0===r)return o;throw new K("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),e)}))},dt);function dt(){}function pt(e){function t(t,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return n[t].subscribe.apply(null,i),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=u;for(var r=1,o=arguments.length;r<o;++r)u(arguments[r]);return t;function u(e,r,o){if("object"!=typeof e){var s;r=r||ne;var c={subscribers:[],fire:o=o||Y,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=r(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter((function(t){return t!==e})),c.fire=c.subscribers.reduce(r,o)}};return n[e]=t[e]=c}i(s=e).forEach((function(e){var t=s[e];if(a(t))u(e,s[e][0],s[e][1]);else{if("asap"!==t)throw new H.InvalidArgument("Invalid event config");var n=u(e,G,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){D((function(){e.apply(null,t)}))}))}))}}))}}function mt(e,t){return p(t).from({prototype:e}),t}function gt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function vt(e,t){e.filter=it(e.filter,t)}function yt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return it(r(),t())}:t,e.justLimit=n&&!r}function bt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new H.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Dt(e,t,n){var r=bt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function wt(e,t,n,r){var o=e.replayFilter?it(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(e,n,r){var a,u;o&&!o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))||("[object ArrayBuffer]"==(u=""+(a=n.primaryKey))&&(u=""+new Uint8Array(a)),l(i,u)||(i[u]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(a,n),At(Dt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return At(Dt(e,r,n),it(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function At(e,t,n,r){var o=Oe(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=Y}),(function(t){e.fail(t),n=Y}))||o(e.value,e,(function(e){return n=e})),n()}))}))}F=Symbol();var Et=(xt.prototype.execute=function(e){if(void 0!==this.add){var t=this.add;if(a(t))return r(r([],a(e)?e:[],!0),t,!0).sort();if("number"==typeof t)return(Number(e)||0)+t;if("bigint"==typeof t)try{return BigInt(e)+t}catch(e){return BigInt(0)+t}throw new TypeError("Invalid term ".concat(t))}if(void 0!==this.remove){var n=this.remove;if(a(n))return a(e)?e.filter((function(e){return!n.includes(e)})).sort():[];if("number"==typeof n)return Number(e)-n;if("bigint"==typeof n)try{return BigInt(e)-n}catch(e){return BigInt(0)-n}throw new TypeError("Invalid subtrahend ".concat(n))}return(t=null===(t=this.replacePrefix)||void 0===t?void 0:t[0])&&"string"==typeof e&&e.startsWith(t)?this.replacePrefix[1]+e.substring(t.length):e},xt);function xt(e){Object.assign(this,e)}var Ct=(Ft.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Ze.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Ft.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ze.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Ft.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=it(t.algorithm,e)},Ft.prototype._iterate=function(e,t){return wt(this._ctx,e,t,this._ctx.table.core)},Ft.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&u(n,e),t._ctx=n,t},Ft.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ft.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return wt(t,e,n,t.table.core)}))},Ft.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(gt(n,!0))return r.count({trans:e,query:{index:bt(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return wt(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)},Ft.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){return(e=i(e,o))<(t=i(t,o))?-a:t<e?a:0}return this.toArray((function(e){return e.sort(u)})).then(t)},Ft.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&gt(n,!0)&&0<n.limit){var r=n.valueMapper,o=bt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){return e=e.result,r?e.map(r):e}))}var i=[];return wt(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)},Ft.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,gt(t)?yt(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n((function(){e.advance(t),t=0})),!1)}})):yt(t,(function(){var t=e;return function(){return--t<0}}))),this},Ft.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),yt(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}}),!0),this},Ft.prototype.until=function(e,t){return vt(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this},Ft.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},Ft.prototype.last=function(e){return this.reverse().first(e)},Ft.prototype.filter=function(e){var t;return vt(this._ctx,(function(t){return e(t.value)})),(t=this._ctx).isMatch=it(t.isMatch,e),this},Ft.prototype.and=function(e){return this.filter(e)},Ft.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Ft.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ft.prototype.desc=function(){return this.reverse()},Ft.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},Ft.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Ft.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},Ft.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},Ft.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&gt(t,!0)&&0<t.limit)return this._read((function(e){var n=bt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},Ft.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Ft.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},Ft.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Ft.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return vt(this._ctx,(function(e){var n=e.primaryKey.toString();return e=l(t,n),t[n]=!0,!e})),this},Ft.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var o,a,u;function s(e,t){var n=t.failures;t=t.numFailures,m+=e-t;for(var r=0,o=i(n);r<o.length;r++){var a=o[r];p.push(n[a])}}u="function"==typeof e?e:(o=i(e),a=o.length,function(t){for(var n=!1,r=0;r<a;++r){var i=o[r],u=e[i],s=w(t,i);u instanceof Et?(A(t,i,u.execute(s)),n=!0):s!==u&&(A(t,i,u),n=!0)}return n});var c=n.table.core,l=c.schema.primaryKey,f=l.outbound,h=l.extractKey,d=t.db._options.modifyChunkSize||200,p=[],m=0,g=[];return t.clone().primaryKeys().then((function(t){function o(n){var a=Math.min(d,t.length-n);return c.getMany({trans:r,keys:t.slice(n,n+a),cache:"immutable"}).then((function(l){for(var p=[],m=[],g=f?[]:null,v=[],y=0;y<a;++y){var b=l[y],D={value:N(b),primKey:t[n+y]};!1!==u.call(D,D.value,D)&&(null==D.value?v.push(t[n+y]):f||0===ct(h(b),h(D.value))?(m.push(D.value),f&&g.push(t[n+y])):(v.push(t[n+y]),p.push(D.value)))}return Promise.resolve(0<p.length&&c.mutate({trans:r,type:"add",values:p}).then((function(e){for(var t in e.failures)v.splice(parseInt(t),1);s(p.length,e)}))).then((function(){return(0<m.length||i&&"object"==typeof e)&&c.mutate({trans:r,type:"put",keys:g,values:m,criteria:i,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<n}).then((function(e){return s(m.length,e)}))})).then((function(){return(0<v.length||i&&e===St)&&c.mutate({trans:r,type:"delete",keys:v,criteria:i,isAdditionalChunk:0<n}).then((function(e){return s(v.length,e)}))})).then((function(){return t.length>n+a&&o(n+d)}))}))}var i=gt(n)&&n.limit===1/0&&("function"!=typeof e||e===St)&&{index:n.index,range:n.range};return o(0).then((function(){if(0<p.length)throw new q("Error modifying one or more objects",p,m,g);return t.length}))}))}))},Ft.prototype.delete=function(){var e=this._ctx,t=e.range;return gt(e)&&(e.isPrimKey||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures;if(e.lastResult,e.results,e=e.numFailures)throw new q("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-e);return t-e}))}))})):this.modify(St)},Ft);function Ft(){}var St=function(e,t){return t.value=null};function Bt(e,t){return e<t?-1:e===t?0:1}function Nt(e,t){return t<e?-1:e===t?0:1}function kt(e,t,n){return(e=e instanceof Tt?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function Mt(e){return new e.Collection(e,(function(){return Ot("")})).limit(0)}function It(e,t,n,r){var o,i,a,u,s,c,l,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return kt(e,et);function h(e){o="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},i="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},a="next"===e?Bt:Nt;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),l="next"===(c=e)?"":r}h("next"),(e=new e.Collection(e,(function(){return _t(u[0],s[f-1]+r)})))._ondirectionchange=function(e){h(e)};var d=0;return e._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var h=i(o);if(t(h,s,d))return!0;for(var p=null,m=d;m<f;++m){var g=function(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return o(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):o(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):0<=u?e.substr(0,u)+t[u]+n.substr(u+1):null;o(e[s],c)<0&&(u=s)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}(o,h,u[m],s[m],a,c);null===g&&null===p?d=m+1:(null===p||0<a(p,g))&&(p=g)}return n(null!==p?function(){e.continue(p+l)}:r),!1})),e}function _t(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ot(e){return{type:1,lower:e,upper:e}}var Tt=(Object.defineProperty(Rt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Mt(this):new this.Collection(this,(function(){return _t(e,t,!n,!r)}))}catch(e){return kt(this,Qe)}},Rt.prototype.equals=function(e){return null==e?kt(this,Qe):new this.Collection(this,(function(){return Ot(e)}))},Rt.prototype.above=function(e){return null==e?kt(this,Qe):new this.Collection(this,(function(){return _t(e,void 0,!0)}))},Rt.prototype.aboveOrEqual=function(e){return null==e?kt(this,Qe):new this.Collection(this,(function(){return _t(e,void 0,!1)}))},Rt.prototype.below=function(e){return null==e?kt(this,Qe):new this.Collection(this,(function(){return _t(void 0,e,!1,!0)}))},Rt.prototype.belowOrEqual=function(e){return null==e?kt(this,Qe):new this.Collection(this,(function(){return _t(void 0,e)}))},Rt.prototype.startsWith=function(e){return"string"!=typeof e?kt(this,et):this.between(e,e+Je,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):It(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Je)},Rt.prototype.equalsIgnoreCase=function(e){return It(this,(function(e,t){return e===t[0]}),[e],"")},Rt.prototype.anyOfIgnoreCase=function(){var e=R.apply(T,arguments);return 0===e.length?Mt(this):It(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var e=R.apply(T,arguments);return 0===e.length?Mt(this):It(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Je)},Rt.prototype.anyOf=function(){var e=this,t=R.apply(T,arguments),n=this._cmp;try{t.sort(n)}catch(r){return kt(this,Qe)}if(0===t.length)return Mt(this);var r=new this.Collection(this,(function(){return _t(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var a=e.key;0<n(a,t[o]);)if(++o===t.length)return r(i),!1;return 0===n(a,t[o])||(r((function(){e.continue(t[o])})),!1)})),r},Rt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var e=R.apply(T,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return kt(this,Qe)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===e.length)return Mt(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&o(e[0],e[1])<=0})))return kt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",H.InvalidArgument);var s,c=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers,f=o;function h(e,t){return f(e[0],t[0])}try{(s=e.reduce((function(e,t){for(var n=0,o=e.length;n<o;++n){var i=e[n];if(r(t[0],i[1])<0&&0<r(t[1],i[0])){i[0]=a(i[0],t[0]),i[1]=u(i[1],t[1]);break}}return n===o&&e.push(t),e}),[])).sort(h)}catch(e){return kt(this,Qe)}var d=0,p=l?function(e){return 0<o(e,s[d][1])}:function(e){return 0<=o(e,s[d][1])},m=c?function(e){return 0<i(e,s[d][0])}:function(e){return 0<=i(e,s[d][0])},g=p;return(e=new this.Collection(this,(function(){return _t(s[0][0],s[s.length-1][1],!c,!l)})))._ondirectionchange=function(e){f="next"===e?(g=p,o):(g=m,i),s.sort(h)},e._addAlgorithm((function(e,t,r){for(var i,a=e.key;g(a);)if(++d===s.length)return t(r),!1;return!p(i=a)&&!m(i)||(0===n._cmp(a,s[d][1])||0===n._cmp(a,s[d][0])||t((function(){f===o?e.continue(s[d][0]):e.continue(s[d][1])})),!1)})),e},Rt.prototype.startsWithAnyOf=function(){var e=R.apply(T,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Mt(this):this.inAnyRange(e.map((function(e){return[e,e+Je]}))):kt(this,"startsWithAnyOf() only works with strings")},Rt);function Rt(){}function Pt(e){return Oe((function(t){return jt(t),e(t.target.error),!1}))}function jt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Lt="storagemutated",zt="x-storagemutated-1",$t=pt(null,Lt),qt=(Kt.prototype._lock=function(){return b(!ye.global),++this._reculock,1!==this._reculock||ye.global||(ye.lockOwnerFor=this),this},Kt.prototype._unlock=function(){if(b(!ye.global),0==--this._reculock)for(ye.global||(ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Xe(e[1],e[0])}catch(e){}}return this},Kt.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},Kt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(b(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new H.DatabaseClosed(r);case"MissingAPIError":throw new H.MissingAPI(r.message,r);default:throw new H.OpenFailed(r)}if(!this.active)throw new H.TransactionInactive;return b(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Oe((function(n){jt(n),t._reject(e.error)})),e.onabort=Oe((function(n){jt(n),t.active&&t._reject(new H.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Oe((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&$t.storagemutated.fire(e.mutatedParts)})),this},Kt.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return Ze(new H.ReadOnly("Transaction is readonly"));if(!this.active)return Ze(new H.TransactionInactive);if(this._locked())return new Ae((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},ye])}));if(n)return $e((function(){var e=new Ae((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new Ae((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o},Kt.prototype._root=function(){return this.parent?this.parent._root():this},Kt.prototype.waitFor=function(e){var t,n=this._root(),r=Ae.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then((function(){return r})):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var o=n._waitingFor;return new Ae((function(e,t){r.then((function(t){return n._waitingQueue.push(Oe(e.bind(null,t)))}),(function(e){return n._waitingQueue.push(Oe(t.bind(null,e)))})).finally((function(){n._waitingFor===o&&(n._waitingFor=null)}))}))},Kt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new H.Abort))},Kt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(l(t,e))return t[e];var n=this.schema[e];if(!n)throw new H.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},Kt);function Kt(){}function Wt(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+Ut(t)}}function Ut(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Ht(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce((function(e,t,n){return(n=r(t,n))&&(e[n[0]]=n[1]),e}),{}))};var r}var Vt=function(e){try{return e.only([[]]),Vt=function(){return[[]]},[[]]}catch(e){return Vt=function(){return Je},Je}};function Xt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return w(e,t)}:function(t){return w(t,e)};var t}function Yt(e){return[].slice.call(e)}var Gt=0;function Zt(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Jt(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,o=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===r?null:t.upperBound(r,!!e):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!e)}function o(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,o=e.type,i=e.keys,a=e.values,u=e.range;return new Promise((function(e,s){e=Oe(e);var c=t.objectStore(n),l=null==c.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var h,d=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++v,jt(e)}var m=[],g=[],v=0;if("deleteRange"===o){if(4===u.type)return e({numFailures:v,failures:g,results:[],lastResult:void 0});3===u.type?m.push(h=c.clear()):m.push(h=c.delete(r(u)))}else{var y=(l=f?l?[a,i]:[a,null]:[i,null])[0],b=l[1];if(f)for(var D=0;D<d;++D)m.push(h=b&&void 0!==b[D]?c[o](y[D],b[D]):c[o](y[D])),h.onerror=p;else for(D=0;D<d;++D)m.push(h=c[o](y[D])),h.onerror=p}function w(t){t=t.target.result,m.forEach((function(e,t){return null!=e.error&&(g[t]=e.error)})),e({numFailures:v,failures:g,results:"delete"===o?i:m.map((function(e){return e.result})),lastResult:t})}h.onerror=function(e){p(e),w(e)},h.onsuccess=w}))},getMany:function(e){var t=e.trans,r=e.keys;return new Promise((function(e,o){e=Oe(e);for(var i,a=t.objectStore(n),u=r.length,s=new Array(u),c=0,l=0,f=function(t){t=t.target,s[t._pos]=t.result,++l===c&&e(s)},h=Pt(o),d=0;d<u;++d)null!=r[d]&&((i=a.get(r[d]))._pos=d,i.onsuccess=f,i.onerror=h,++c);0===c&&e(s)}))},get:function(e){var t=e.trans,r=e.key;return new Promise((function(e,o){e=Oe(e);var i=t.objectStore(n).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=Pt(o)}))},query:(t=l,function(e){return new Promise((function(o,i){o=Oe(o);var a,u,s,c=e.trans,l=e.values,f=e.limit,h=e.query,d=f===1/0?void 0:f,p=h.index;if(h=h.range,c=c.objectStore(n),p=p.isPrimaryKey?c:c.index(p.name),h=r(h),0===f)return o({result:[]});t?((d=l?p.getAll(h,d):p.getAllKeys(h,d)).onsuccess=function(e){return o({result:e.target.result})},d.onerror=Pt(i)):(a=0,u=!l&&"openKeyCursor"in p?p.openKeyCursor(h):p.openCursor(h),s=[],u.onsuccess=function(e){var t=u.result;return t?(s.push(l?t.value:t.primaryKey),++a===f?o({result:s}):void t.continue()):o({result:s})},u.onerror=Pt(i))}))}),openCursor:function(e){var t=e.trans,o=e.values,i=e.query,a=e.reverse,u=e.unique;return new Promise((function(e,s){e=Oe(e);var c=i.index,l=i.range,f=t.objectStore(n),h=(f=c.isPrimaryKey?f:f.index(c.name),c=a?u?"prevunique":"prev":u?"nextunique":"next",!o&&"openKeyCursor"in f?f.openKeyCursor(r(l),c):f.openCursor(r(l),c));h.onerror=Pt(s),h.onsuccess=Oe((function(n){var r,o,i,a,u=h.result;u?(u.___id=++Gt,u.done=!1,r=u.continue.bind(u),o=(o=u.continuePrimaryKey)&&o.bind(u),i=u.advance.bind(u),a=function(){throw new Error("Cursor not stopped")},u.trans=t,u.stop=u.continue=u.continuePrimaryKey=u.advance=function(){throw new Error("Cursor not started")},u.fail=Oe(s),u.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},u.start=function(e){function t(){if(h.result)try{e()}catch(e){u.fail(e)}else u.done=!0,u.start=function(){throw new Error("Cursor behind last entry")},u.stop()}var n=new Promise((function(e,t){e=Oe(e),h.onerror=Pt(t),u.fail=t,u.stop=function(t){u.stop=u.continue=u.continuePrimaryKey=u.advance=a,e(t)}}));return h.onsuccess=Oe((function(e){h.onsuccess=t,t()})),u.continue=r,u.continuePrimaryKey=o,u.advance=i,t(),n},e(u)):e(null)}),s)}))},count:function(e){var t=e.query,o=e.trans,i=t.index,a=t.range;return new Promise((function(e,t){var u=o.objectStore(n),s=i.isPrimaryKey?u:u.index(i.name);(s=(u=r(a))?s.count(u):s.count()).onsuccess=Oe((function(t){return e(t.target.result)})),s.onerror=Pt(t)}))}}}var i,u,s,c=(u=n,s=Yt((i=e).objectStoreNames),{schema:{name:i.name,tables:s.map((function(e){return u.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=a(t),o={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Xt(t)},indexes:Yt(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry;return e=e.keyPath,r={name:t,compound:a(e),keyPath:e,unique:n,multiEntry:r,extractKey:Xt(e)},o[Zt(e)]=r})),getIndexByKeyPath:function(e){return o[Zt(e)]}},o[":id"]=n.primaryKey,null!=t&&(o[Zt(t)]=n.primaryKey),n}))},hasGetAll:0<s.length&&"getAll"in u.objectStore(s[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),l=(n=c.schema,c.hasGetAll),f=(c=n.tables.map(o),{});return c.forEach((function(e){return f[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!f[e])throw new Error("Table '".concat(e,"' not found"));return f[e]},MIN_KEY:-1/0,MAX_KEY:Vt(t),schema:n}}function Qt(e,n,r,o){var i=r.IDBKeyRange;return r.indexedDB,{dbcore:(o=Jt(n,i,o),e.dbcore.reduce((function(e,n){return n=n.create,t(t({},e),n(e))}),o))}}function en(e,t){var n=t.db;t=Qt(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function tn(e,t,n,r){n.forEach((function(n){var o=r[n];t.forEach((function(t){var r=function e(t,n){return m(t,n)||(t=s(t))&&e(t,n)}(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?d(t,n,{get:function(){return this.table(n)},set:function(e){h(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function nn(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function rn(e,t){return e._cfg.version-t._cfg.version}function on(e,t,n,r){var o=e._dbSchema;n.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=Ht("$meta",dn("")[0],[]),e._storeNames.push("$meta"));var a=e._createTransaction("readwrite",e._storeNames,o);a.create(n),a._completion.catch(r);var u=a._reject.bind(a),s=ye.transless||ye;$e((function(){return ye.trans=a,ye.transless=s,0!==t?(en(e,n),c=t,((r=a).storeNames.includes("$meta")?r.table("$meta").get("version").then((function(e){return null!=e?e:c})):Ae.resolve(c)).then((function(t){return o=t,u=a,s=n,c=[],t=(r=e)._versions,l=r._dbSchema=fn(0,r.idbdb,s),0!==(t=t.filter((function(e){return e._cfg.version>=o}))).length?(t.forEach((function(e){c.push((function(){var t=l,n=e._cfg.dbschema;hn(r,t,s),hn(r,n,s),l=r._dbSchema=n;var a=un(t,n);a.add.forEach((function(e){sn(s,e[0],e[1].primKey,e[1].indexes)})),a.change.forEach((function(e){if(e.recreate)throw new H.Upgrade("Not yet support for changing primary key");var t=s.objectStore(e.name);e.add.forEach((function(e){return ln(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),ln(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>o){en(r,s),u._memoizedTables={};var f=E(n);a.del.forEach((function(e){f[e]=t[e]})),nn(r,[r.Transaction.prototype]),tn(r,[r.Transaction.prototype],i(f),f),u.schema=f;var h,d=P(c);return d&&qe(),a=Ae.follow((function(){var e;(h=c(u))&&d&&(e=Ke.bind(null,null),h.then(e,e))})),h&&"function"==typeof h.then?Ae.resolve(h):a.then((function(){return h}))}})),c.push((function(t){var n,o,i=e._cfg.dbschema;n=i,o=t,[].slice.call(o.db.objectStoreNames).forEach((function(e){return null==n[e]&&o.db.deleteObjectStore(e)})),nn(r,[r.Transaction.prototype]),tn(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),u.schema=r._dbSchema})),c.push((function(t){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter((function(e){return"$meta"!==e}))):t.objectStore("$meta").put(e._cfg.version,"version"))}))})),function e(){return c.length?Ae.resolve(c.shift()(u.idbtrans)).then(e):Ae.resolve()}().then((function(){cn(l,s)}))):Ae.resolve();var r,o,u,s,c,l})).catch(u)):(i(o).forEach((function(e){sn(n,e,o[e].primKey,o[e].indexes)})),en(e,n),void Ae.follow((function(){return e.on.populate.fire(a)})).catch(u));var r,c}))}function an(e,t){cn(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=fn(0,e.idbdb,t);hn(e,e._dbSchema,t);for(var r=0,o=un(n,e._dbSchema).change;r<o.length;r++){var i=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=t.objectStore(e.name);e.add.forEach((function(t){oe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),ln(n,t)}))}(o[r]);if("object"==typeof i)return i.value}}function un(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,s=i.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(0<a.del.length||0<a.add.length||0<a.change.length)&&r.change.push(a)}}else r.add.push([n,i])}return r}function sn(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return ln(o,e)})),o}function cn(e,t){i(e).forEach((function(n){t.db.objectStoreNames.contains(n)||(oe&&console.debug("Dexie: Creating missing table",n),sn(t,n,e[n].primKey,e[n].indexes))}))}function ln(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function fn(e,t,n){var r={};return v(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=Wt(Ut(u=t.keyPath),u||"",!0,!1,!!t.autoIncrement,u&&"string"!=typeof u,!0),i=[],a=0;a<t.indexNames.length;++a){var u=(s=t.index(t.indexNames[a])).keyPath,s=Wt(s.name,u,!!s.unique,!!s.multiEntry,!1,u&&"string"!=typeof u,!1);i.push(s)}r[e]=Ht(e,o,i)})),r}function hn(e,t,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var a=r[i],u=n.objectStore(a);e._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],l=u.index(c).keyPath,f="string"==typeof l?l:"["+v(l).join("+")+"]";!t[a]||(l=t[a].idxByName[f])&&(l.name=c,delete t[a].idxByName[f],t[a].idxByName[c]=l)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function dn(e){return e.split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Wt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),a(r),0===t)}))}var pn=(mn.prototype._parseStoresSpec=function(e,t){i(e).forEach((function(n){if(null!==e[n]){var r=dn(e[n]),o=r.shift();if(o.unique=!0,o.multi)throw new H.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new H.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new H.Schema("Index must have a name and cannot be an empty string")})),t[n]=Ht(n,o,r)}}))},mn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,e):e,e=t._versions;var n={},r={};return e.forEach((function(e){u(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)})),t._dbSchema=r,nn(t,[t._allTables,t,t.Transaction.prototype]),tn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(r),r),t._storeNames=i(r),this},mn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=re(this._cfg.contentUpgrade||Y,e),this},mn);function mn(){}function gn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new tr(nt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function vn(e){return e&&"function"==typeof e.databases}function yn(e){return $e((function(){return ye.letThrough=!0,e()}))}function bn(e){return!("from"in e)}var Dn=function(e,t){if(!this){var n=new Dn;return e&&"d"in e&&u(n,e),n}u(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function wn(e,t,n){var r=ct(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(bn(e))return u(e,{from:t,to:n,d:1});var o=e.l;if(r=e.r,ct(n,e.from)<0)return o?wn(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Cn(e);if(0<ct(t,e.to))return r?wn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Cn(e);ct(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<ct(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,o&&!e.l&&An(e,o),r&&n&&An(e,r)}}function An(e,t){bn(t)||function e(t,n){var r=n.from,o=n.to,i=n.l;n=n.r,wn(t,r,o),i&&e(t,i),n&&e(t,n)}(e,t)}function En(e,t){var n=xn(t),r=n.next();if(r.done)return!1;for(var o=r.value,i=xn(e),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(ct(u.from,o.to)<=0&&0<=ct(u.to,o.from))return!0;ct(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}function xn(e){var t=bn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&ct(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||ct(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Cn(e){var n,r,o=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),i=1<o?"r":o<-1?"l":"";i&&(n="r"==i?"l":"r",r=t({},e),o=e[i],e.from=o.from,e.to=o.to,e[i]=o[i],r[i]=o[n],(e[n]=r).d=Fn(r)),e.d=Fn(e)}function Fn(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function Sn(e,t){return i(t).forEach((function(n){e[n]?An(e[n],t[n]):e[n]=function e(t){var n,r,o={};for(n in t)l(t,n)&&(r=t[n],o[n]=!r||"object"!=typeof r||S.has(r.constructor)?r:e(r));return o}(t[n])})),e}function Bn(e,t){return e.all||t.all||Object.keys(e).some((function(n){return t[n]&&En(t[n],e[n])}))}f(Dn.prototype,((j={add:function(e){return An(this,e),this},addKey:function(e){return wn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return wn(t,e,e)})),this}})[I]=function(){return xn(this)},j));var Nn={},kn={},Mn=!1;function In(e){Sn(kn,e),Mn||(Mn=!0,setTimeout((function(){Mn=!1,_n(kn,!(kn={}))}),0))}function _n(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,o=Object.values(Nn);r<o.length;r++)On(a=o[r],e,n,t);else for(var i in e){var a,u=/^idb\:\/\/(.*)\/(.*)\//.exec(i);u&&(i=u[1],u=u[2],(a=Nn["idb://".concat(i,"/").concat(u)])&&On(a,e,n,t))}n.forEach((function(e){return e()}))}function On(e,t,n,r){for(var o=[],i=0,a=Object.entries(e.queries.query);i<a.length;i++){for(var u=a[i],s=u[0],c=[],l=0,f=u[1];l<f.length;l++){var h=f[l];Bn(t,h.obsSet)?h.subscribers.forEach((function(e){return n.add(e)})):r&&c.push(h)}r&&o.push([s,c])}if(r)for(var d=0,p=o;d<p.length;d++){var m=p[d];s=m[0],c=m[1],e.queries.query[s]=c}}function Tn(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?Ze(t.dbOpenError):e}));t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,o=Math.round(10*e.verno),a=!1;function u(){if(t.openCanceller!==r)throw new H.DatabaseClosed("db.open() was cancelled")}function s(){return new Ae((function(r,c){if(u(),!n)throw new H.MissingAPI;var l=e.name,d=t.autoSchema||!o?n.open(l):n.open(l,o);if(!d)throw new H.MissingAPI;d.onerror=Pt(c),d.onblocked=Oe(e._fireOnBlocked),d.onupgradeneeded=Oe((function(r){var o;f=d.transaction,t.autoSchema&&!e._options.allowEmptyDB?(d.onerror=jt,f.abort(),d.result.close(),(o=n.deleteDatabase(l)).onsuccess=o.onerror=Oe((function(){c(new H.NoSuchDatabase("Database ".concat(l," doesnt exist")))}))):(f.onerror=Pt(c),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,h=r<1,e.idbdb=d.result,a&&an(e,f),on(e,r/10,f,c))}),c),d.onsuccess=Oe((function(){f=null;var n,u,c,p,m,g=e.idbdb=d.result,y=v(g.objectStoreNames);if(0<y.length)try{var b=g.transaction(1===(p=y).length?p[0]:p,"readonly");if(t.autoSchema)u=g,c=b,(n=e).verno=u.version/10,c=n._dbSchema=fn(0,u,c),n._storeNames=v(u.objectStoreNames,0),tn(n,[n._allTables],i(c),c);else if(hn(e,e._dbSchema,b),((m=un(fn(0,(m=e).idbdb,b),m._dbSchema)).add.length||m.change.some((function(e){return e.add.length||e.change.length})))&&!a)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),g.close(),o=g.version+1,a=!0,r(s());en(e,b)}catch(n){}tt.push(e),g.onversionchange=Oe((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),g.onclose=Oe((function(t){e.on("close").fire(t)})),h&&(m=e._deps,b=l,g=m.indexedDB,m=m.IDBKeyRange,vn(g)||b===nt||gn(g,m).put({name:b}).catch(Y)),r()}),c)})).catch((function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),s();break;case"VersionError":if(0<o)return o=0,s()}return Ae.reject(e)}))}var c,l=t.dbReadyResolve,f=null,h=!1;return Ae.race([r,("undefined"==typeof navigator?Ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){function t(){return indexedDB.databases().finally(e)}c=setInterval(t,100),t()})).finally((function(){return clearInterval(c)})):Promise.resolve()).then(s)]).then((function(){return u(),t.onReadyBeingFired=[],Ae.resolve(yn((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(re,Y);return t.onReadyBeingFired=[],Ae.resolve(yn((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)})).catch((function(n){t.dbOpenError=n;try{f&&f.abort()}catch(n){}return r===t.openCanceller&&e._close(),Ze(n)})).finally((function(){t.openComplete=!0,l()})).then((function(){var t;return h&&(t={},e.tables.forEach((function(n){n.schema.indexes.forEach((function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new Dn(-1/0,[[[]]]))})),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new Dn(-1/0,[[[]]])})),$t(Lt).fire(t),_n(t,!0)),e}))}function Rn(e){function t(t){return e.next(t)}var n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t);return t=o.value,o.done?t:t&&"function"==typeof t.then?t.then(n,r):a(t)?Promise.all(t).then(n,r):n(t)}}return o(t)()}function Pn(e,t,n){for(var r=a(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var jn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),o=r.schema,i={},a=[];function u(e,n,r){var o=Zt(e),s=i[o]=i[o]||[],c=null==e?0:"string"==typeof e?1:e.length,l=0<n;return l=t(t({},r),{name:l?"".concat(o,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:l,keyTail:n,keyLength:c,extractKey:Xt(e),unique:!l&&r.unique}),s.push(l),l.isPrimaryKey||a.push(l),1<c&&u(2===c?e[0]:e.slice(0,c-1),n+1,r),s.sort((function(e,t){return e.keyTail-t.keyTail})),l}n=u(o.primaryKey.keyPath,0,o.primaryKey),i[":id"]=[n];for(var s=0,c=o.indexes;s<c.length;s++){var l=c[s];u(l.keyPath,0,l)}function f(n){var r,o=n.query.index;return o.isVirtual?t(t({},n),{query:{index:o.lowLevelIndex,range:(r=n.query.range,o=o.keyTail,{type:1===r.type?2:r.type,lower:Pn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,o),lowerOpen:!0,upper:Pn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,o),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},o),{primaryKey:n,indexes:a,getIndexByKeyPath:function(e){return(e=i[Zt(e)])&&e[0]}}),count:function(e){return r.count(f(e))},query:function(e){return r.query(f(e))},openCursor:function(t){var n=t.query.index,o=n.keyTail,i=n.isVirtual,a=n.keyLength;return i?r.openCursor(f(t)).then((function(e){return e&&u(e)})):r.openCursor(t);function u(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Pn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,o)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Pn(t,e.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}})}}})}})}};function Ln(e,t,n,r){return n=n||{},r=r||"",i(e).forEach((function(o){var i,a,u;l(t,o)?(i=e[o],a=t[o],"object"==typeof i&&"object"==typeof a&&i&&a?(u=M(i))!==M(a)?n[r+o]=t[o]:"Object"===u?Ln(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o]):i!==a&&(n[r+o]=t[o])):n[r+o]=void 0})),i(t).forEach((function(o){l(e,o)||(n[r+o]=t[o])})),n}function zn(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var $n={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(n){var o=e.table(n),i=o.schema.primaryKey;return t(t({},o),{mutate:function(e){var a=ye.trans,u=a.table(n).hook,s=u.deleting,c=u.creating,f=u.updating;switch(e.type){case"add":if(c.fire===Y)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"put":if(c.fire===Y&&f.fire===Y)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"delete":if(s.fire===Y)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"deleteRange":if(s.fire===Y)break;return a._promise("readwrite",(function(){return function e(n,r,a){return o.query({trans:n,values:!1,query:{index:i,range:r},limit:a}).then((function(o){var i=o.result;return h({type:"delete",keys:i,trans:n}).then((function(o){return 0<o.numFailures?Promise.reject(o.failures[0]):i.length<a?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:i[i.length-1],lowerOpen:!0}),a)}))}))}(e.trans,e.range,1e4)}),!0)}return o.mutate(e);function h(e){var n,a,u,h=ye.trans,d=e.keys||zn(i,e);if(!d)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:d}):t({},e)).type&&(e.values=r([],e.values,!0)),e.keys&&(e.keys=r([],e.keys,!0)),n=o,u=d,("add"===(a=e).type?Promise.resolve([]):n.getMany({trans:a.trans,keys:u,cache:"immutable"})).then((function(t){var n=d.map((function(n,r){var o,a,u,d=t[r],p={onerror:null,onsuccess:null};return"delete"===e.type?s.fire.call(p,n,d,h):"add"===e.type||void 0===d?(o=c.fire.call(p,n,e.values[r],h),null==n&&null!=o&&(e.keys[r]=n=o,i.outbound||A(e.values[r],i.keyPath,n))):(o=Ln(d,e.values[r]),(a=f.fire.call(p,o,n,d,h))&&(u=e.values[r],Object.keys(a).forEach((function(e){l(u,e)?u[e]=a[e]:A(u,e,a[e])})))),p}));return o.mutate(e).then((function(r){for(var o=r.failures,i=r.results,a=r.numFailures,u=(r=r.lastResult,0);u<d.length;++u){var s=(i||d)[u],c=n[u];null==s?c.onerror&&c.onerror(o[u]):c.onsuccess&&c.onsuccess("put"===e.type&&t[u]?e.values[u]:s)}return{failures:o,results:i,numFailures:a,lastResult:r}})).catch((function(e){return n.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}}})}})}};function qn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)0===ct(t.keys[o],e[i])&&(r.push(n?N(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}}var Kn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=qn(e.keys,e.trans._cache,"clone"===e.cache);return t?Ae.resolve(t):r.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?N(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function Wn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Un(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Hn={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,r=new Dn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(ye.subscr&&"readonly"!==n)throw new H.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ye.querier));return e.transaction(t,n,r)},table:function(o){var u=e.table(o),s=u.schema,c=s.primaryKey,l=s.indexes,f=c.extractKey,h=c.outbound,d=c.autoIncrement&&l.filter((function(e){return e.compound&&e.keyPath.includes(c.keyPath)})),p=t(t({},u),{mutate:function(e){function t(e){return e="idb://".concat(n,"/").concat(o,"/").concat(e),p[e]||(p[e]=new Dn)}var i,l,f,h=e.trans,p=e.mutatedParts||(e.mutatedParts={}),m=t(""),g=t(":dels"),v=e.type,y="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[zn(c,e).filter((function(e){return e})),e.values]:[],b=y[0],D=y[1];return y=e.trans._cache,a(b)?(m.addKeys(b),(y="delete"===v||b.length===D.length?qn(b,y):null)||g.addKeys(b),(y||D)&&(i=t,l=y,f=D,s.indexes.forEach((function(e){var t=i(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function r(n){return e.multiEntry&&a(n)?n.forEach((function(e){return t.addKey(e)})):t.addKey(n)}(l||f).forEach((function(e,t){var o=l&&n(l[t]);0!==ct(o,t=f&&n(f[t]))&&(null!=o&&r(o),null!=t&&r(t))}))})))):b?(D={from:b.lower,to:b.upper},g.add(D),m.add(D)):(m.add(r),g.add(r),s.indexes.forEach((function(e){return t(e.name).add(r)}))),u.mutate(e).then((function(n){return!b||"add"!==e.type&&"put"!==e.type||(m.addKeys(n.results),d&&d.forEach((function(r){var o=e.values.map((function(e){return r.extractKey(e)})),i=r.keyPath.findIndex((function(e){return e===c.keyPath}));n.results.forEach((function(e){return o[i]=e})),t(r.name).addKeys(o)}))),h.mutatedParts=Sn(h.mutatedParts||{},p),n}))}}),m=(l=function(t){t=(n=t.query).index;var n=n.range;return[t,new Dn(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},{get:function(e){return[c,new Dn(e.key)]},getMany:function(e){return[c,(new Dn).addKeys(e.keys)]},count:l,query:l,openCursor:l});return i(m).forEach((function(e){p[e]=function(i){var a=!!(p=ye.subscr),s=Wn(ye,u)&&Un(e,i)?i.obsSet={}:p;if(a){var c=function(e){return e="idb://".concat(n,"/").concat(o,"/").concat(e),s[e]||(s[e]=new Dn)},l=c(""),d=c(":dels"),p=(a=(p=m[e](i))[0],p[1]);if(("query"===e&&a.isPrimaryKey&&!i.values?d:c(a.name||"")).add(p),!a.isPrimaryKey){if("count"!==e){var g="query"===e&&h&&i.values&&u.query(t(t({},i),{values:!1}));return u[e].apply(this,arguments).then((function(t){if("query"===e){if(h&&i.values)return g.then((function(e){return e=e.result,l.addKeys(e),t}));var n=i.values?t.result.map(f):t.result;(i.values?l:d).addKeys(n)}else if("openCursor"===e){var r=t,o=i.values;return r&&Object.create(r,{key:{get:function(){return d.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return d.addKey(e),e}},value:{get:function(){return o&&l.addKey(r.primaryKey),r.value}}})}return t}))}d.add(r)}}return u[e].apply(this,arguments)}})),p}})}};function Vn(e,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var o=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===o?null:(n=t({},n),a(n.keys)&&(n.keys=n.keys.filter((function(e,t){return!(t in r.failures)}))),"values"in n&&a(n.values)&&(n.values=n.values.filter((function(e,t){return!(t in r.failures)}))),n)}function Xn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<ct(n,r.lower):0<=ct(n,r.lower)))&&(void 0===t.upper||(t.upperOpen?ct(e,t.upper)<0:ct(e,t.upper)<=0));var n,r}function Yn(e,t,n,r,o,i){if(!n||0===n.length)return e;var u=t.query.index,s=u.multiEntry,c=t.query.range,l=r.schema.primaryKey.extractKey,f=u.extractKey,h=(u.lowLevelIndex||u).extractKey;return n=n.reduce((function(e,n){var r=e,o="add"===n.type||"put"===n.type?n.values.filter((function(e){return e=f(e),s&&a(e)?e.some((function(e){return Xn(e,c)})):Xn(e,c)})).map((function(e){return e=N(e),i&&Object.freeze(e),e})):[];switch(n.type){case"add":r=e.concat(t.values?o:o.map((function(e){return l(e)})));break;case"put":var u=(new Dn).addKeys(n.values.map((function(e){return l(e)})));r=e.filter((function(e){return e=t.values?l(e):e,!En(new Dn(e),u)})).concat(t.values?o:o.map((function(e){return l(e)})));break;case"delete":var h=(new Dn).addKeys(n.keys);r=e.filter((function(e){return e=t.values?l(e):e,!En(new Dn(e),h)}));break;case"deleteRange":var d=n.range;r=e.filter((function(e){return!Xn(l(e),d)}))}return r}),e),n===e?e:(n.sort((function(e,t){return ct(h(e),h(t))||ct(l(e),l(t))})),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(o.dirty=!0)),i?Object.freeze(n):n)}function Gn(e,t){return 0===ct(e.lower,t.lower)&&0===ct(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Zn(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=ct(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=ct(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Jn(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",(function(){var r,o;e.subscribers.delete(n),0===e.subscribers.size&&(r=e,o=t,setTimeout((function(){0===r.subscribers.size&&O(o,r)}),3e3))}))}var Qn={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,o){var i,a,u=e.transaction(t,r,o);return"readwrite"===r&&(a=(i=new AbortController).signal,o=function(o){return function(){if(i.abort(),"readwrite"===r){for(var a=new Set,s=0,c=t;s<c.length;s++){var l=c[s],f=Nn["idb://".concat(n,"/").concat(l)];if(f){var h=e.table(l),d=f.optimisticOps.filter((function(e){return e.trans===u}));if(u._explicit&&o&&u.mutatedParts)for(var p=0,m=Object.values(f.queries.query);p<m.length;p++)for(var g=0,v=(D=m[p]).slice();g<v.length;g++)Bn((w=v[g]).obsSet,u.mutatedParts)&&(O(D,w),w.subscribers.forEach((function(e){return a.add(e)})));else if(0<d.length){f.optimisticOps=f.optimisticOps.filter((function(e){return e.trans!==u}));for(var y=0,b=Object.values(f.queries.query);y<b.length;y++)for(var D,w,A,E=0,x=(D=b[y]).slice();E<x.length;E++)null!=(w=x[E]).res&&u.mutatedParts&&(o&&!w.dirty?(A=Object.isFrozen(w.res),A=Yn(w.res,w.req,d,h,w,A),w.dirty?(O(D,w),w.subscribers.forEach((function(e){return a.add(e)}))):A!==w.res&&(w.res=A,w.promise=Ae.resolve({result:A}))):(w.dirty&&O(D,w),w.subscribers.forEach((function(e){return a.add(e)}))))}}}a.forEach((function(e){return e()}))}}},u.addEventListener("abort",o(!1),{signal:a}),u.addEventListener("error",o(!1),{signal:a}),u.addEventListener("complete",o(!0),{signal:a})),u},table:function(r){var o=e.table(r),i=o.schema.primaryKey;return t(t({},o),{mutate:function(e){var a=ye.trans;if(i.outbound||"disabled"===a.db._options.cache||a.explicit)return o.mutate(e);var u=Nn["idb://".concat(n,"/").concat(r)];return u?(a=o.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||zn(i,e).some((function(e){return null==e})))?(u.optimisticOps.push(e),e.mutatedParts&&In(e.mutatedParts),a.then((function(t){0<t.numFailures&&(O(u.optimisticOps,e),(t=Vn(0,e,t))&&u.optimisticOps.push(t),e.mutatedParts&&In(e.mutatedParts))})),a.catch((function(){O(u.optimisticOps,e),e.mutatedParts&&In(e.mutatedParts)}))):a.then((function(n){var r=Vn(0,t(t({},e),{values:e.values.map((function(e,r){var o;return A(e=null!==(o=i.keyPath)&&void 0!==o&&o.includes(".")?N(e):t({},e),i.keyPath,n.results[r]),e}))}),n);u.optimisticOps.push(r),queueMicrotask((function(){return e.mutatedParts&&In(e.mutatedParts)}))})),a):o.mutate(e)},query:function(e){if(!Wn(ye,o)||!Un("query",e))return o.query(e);var t="immutable"===(null===(u=ye.trans)||void 0===u?void 0:u.db._options.cache),i=(c=ye).requery,a=c.signal,u=function(e,t,n,r){var o=Nn["idb://".concat(e,"/").concat(t)];if(!o)return[];if(!(t=o.queries[n]))return[null,!1,o,null];var i=t[(r.query?r.query.index.name:null)||""];if(!i)return[null,!1,o,null];switch(n){case"query":var a=i.find((function(e){return e.req.limit===r.limit&&e.req.values===r.values&&Gn(e.req.query.range,r.query.range)}));return a?[a,!0,o,i]:[i.find((function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&Zn(e.req.query.range,r.query.range)})),!1,o,i];case"count":return a=i.find((function(e){return Gn(e.req.query.range,r.query.range)})),[a,!!a,o,i]}}(n,r,"query",e),s=u[0],c=u[1],l=u[2],f=u[3];return s&&c?s.obsSet=e.obsSet:(c=o.query(e).then((function(e){var n=e.result;if(s&&(s.res=n),t){for(var r=0,o=n.length;r<o;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=N(n);return e})).catch((function(e){return f&&s&&O(f,s),Promise.reject(e)})),s={obsSet:e.obsSet,promise:c,subscribers:new Set,type:"query",req:e,dirty:!1},f?f.push(s):(f=[s],(l=l||(Nn["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=f)),Jn(s,f,i,a),s.promise.then((function(n){return{result:Yn(n.result,e,null==l?void 0:l.optimisticOps,o,s,t)}}))}})}})}};function er(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var tr=(nr.prototype.version=function(e){if(isNaN(e)||e<.1)throw new H.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new H.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(rn),n.stores({}),this._state.autoSchema=!1,n)},nr.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?e():new Ae((function(e,n){if(t._state.openComplete)return n(new H.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new H.DatabaseClosed);t.open().catch(Y)}t._state.dbReadyPromise.then(e,n)})).then(e)},nr.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;return o&&this.unuse({stack:t,name:o}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==r?10:r,name:o}),e.sort((function(e,t){return e.level-t.level})),this},nr.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},nr.prototype.open=function(){var e=this;return Xe(ve,(function(){return Tn(e)}))},nr.prototype._close=function(){var e=this._state,t=tt.indexOf(this);if(0<=t&&tt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new Ae((function(t){e.dbReadyResolve=t})),e.openCanceller=new Ae((function(t,n){e.cancelOpen=n})))},nr.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new H.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new H.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},nr.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new Ae((function(o,i){function a(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Oe((function(){var e,n,r;e=t._deps,n=t.name,r=e.indexedDB,e=e.IDBKeyRange,vn(r)||n===nt||gn(r,e).delete(n).catch(Y),o()})),n.onerror=Pt(i),n.onblocked=t._fireOnBlocked}if(n)throw new H.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()}))},nr.prototype.backendDB=function(){return this.idbdb},nr.prototype.isOpen=function(){return null!==this.idbdb},nr.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},nr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},nr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nr.prototype,"tables",{get:function(){var e=this;return i(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),nr.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new H.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,C(o),n]}.apply(this,arguments);return this._transaction.apply(this,e)},nr.prototype._transaction=function(e,t,n){var r=this,o=ye.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,a,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){if("string"!=typeof(e=e instanceof r.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==e||e===rt)i=rt;else{if("rw"!=e&&e!=ot)throw new H.InvalidArgument("Invalid transaction mode: "+e);i=ot}if(o){if(o.mode===rt&&i===ot){if(!u)throw new H.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!u)throw new H.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(n){return o?o._promise(null,(function(e,t){t(n)})):Ze(n)}var s=function e(t,n,r,o,i){return Ae.resolve().then((function(){var a=ye.transless||ye,u=t._createTransaction(n,r,t._dbSchema,o);if(u.explicit=!0,a={trans:u,transless:a},o)u.idbtrans=o.idbtrans;else try{u.create(),u.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(a){return a.name===W.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then((function(){return e(t,n,r,null,i)}))):Ze(a)}var s,c=P(i);return c&&qe(),a=Ae.follow((function(){var e;(s=i.call(u,u))&&(c?(e=Ke.bind(null,null),s.then(e,e)):"function"==typeof s.next&&"function"==typeof s.throw&&(s=Rn(s)))}),a),(s&&"function"==typeof s.then?Ae.resolve(s).then((function(e){return u.active?e:Ze(new H.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):a.then((function(){return s}))).then((function(e){return o&&u._resolve(),u._completion.then((function(){return e}))})).catch((function(e){return u._reject(e),Ze(e)}))}))}.bind(null,this,i,a,o,n);return o?o._promise(i,s,"lock"):ye.trans?Xe(ye.transless,(function(){return r._whenReady(s)})):this._whenReady(s)},nr.prototype.table=function(e){if(!l(this._allTables,e))throw new H.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},nr);function nr(e,n){var r=this;this._middlewares={},this.verno=0;var o=nr.dependencies;this._options=n=t({addons:nr.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},o=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i,a,u,s,c,l={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Y,dbReadyPromise:null,cancelOpen:Y,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};l.dbReadyPromise=new Ae((function(e){l.dbReadyResolve=e})),l.openCanceller=new Ae((function(e,t){l.cancelOpen=t})),this._state=l,this.name=e,this.on=pt(this,"populate","blocked","versionchange","close",{ready:[re,Y]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(function(e){return function(t,n){nr.vip((function(){var o,i=r._state;i.openComplete?(i.dbOpenError||Ae.resolve().then(t),n&&e(t)):i.onReadyBeingFired?(i.onReadyBeingFired.push(t),n&&e(t)):(e(t),o=r,n||e((function e(){o.on.ready.unsubscribe(t),o.on.ready.unsubscribe(e)})))}))}})),this.Collection=(i=this,mt(Ct.prototype,(function(e,t){this.db=i;var n=at,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx;e=(t=o.table).hook.reading.fire,this._ctx={table:t,index:o.index,isPrimKey:!o.index||t.schema.primKey.keyPath&&o.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:e!==G?e:null}}))),this.Table=(a=this,mt(ht.prototype,(function(e,t,n){this.db=a,this._tx=n,this.name=e,this.schema=t,this.hook=a._allTables[e]?a._allTables[e].hook:pt(null,{creating:[Q,Y],reading:[Z,G],updating:[te,Y],deleting:[ee,Y]})}))),this.Transaction=(u=this,mt(qt.prototype,(function(e,t,n,r,o){var i=this;this.db=u,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=pt(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),Ze(e)}))}))),this.Version=(s=this,mt(pn.prototype,(function(e){this.db=s,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(c=this,mt(Tt.prototype,(function(e,t,n){if(this.db=c,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=ct,this._descending=function(e,t){return ct(t,e)},this._max=function(e,t){return 0<ct(e,t)?e:t},this._min=function(e,t){return ct(e,t)<0?e:t},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new H.MissingAPI}))),this.on("versionchange",(function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=Vt(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),tt.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Kn),this.use(Qn),this.use(Hn),this.use(jn),this.use($n);var f=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return er(r.table(e),f)};var o=Reflect.get(e,t,n);return o instanceof ht?er(o,f):"tables"===t?o.map((function(e){return er(e,f)})):"_createTransaction"===t?function(){return er(o.apply(this,arguments),f)}:o}});this.vip=f,o.forEach((function(e){return e(r)}))}j="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var rr,or=(ir.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},ir.prototype[j]=function(){return this},ir);function ir(e){this._subscribe=e}try{rr={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(F){rr={indexedDB:null,IDBKeyRange:null}}function ar(e){var t,n=!1,r=new or((function(r){var o,i=P(e),a=!1,u={},s={},c={get closed(){return a},unsubscribe:function(){a||(a=!0,o&&o.abort(),f&&$t.storagemutated.unsubscribe(d))}};r.start&&r.start(c);var f=!1,h=function(){return Ge(p)},d=function(e){Sn(u,e),Bn(s,u)&&h()},p=function(){var c,p,m;!a&&rr.indexedDB&&(u={},c={},o&&o.abort(),o=new AbortController,m=function(t){var n=ke();try{i&&qe();var r=$e(e,t);return r=i?r.finally(Ke):r}finally{n&&Me()}}(p={subscr:c,signal:o.signal,requery:h,querier:e,trans:null}),Promise.resolve(m).then((function(e){n=!0,t=e,a||p.signal.aborted||(u={},function(e){for(var t in e)if(l(e,t))return;return 1}(s=c)||f||($t(Lt,d),f=!0),Ge((function(){return!a&&r.next&&r.next(e)})))}),(function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||a||Ge((function(){a||r.error&&r.error(e)}))})))};return setTimeout(h,0),c}));return r.hasValue=function(){return n},r.getValue=function(){return t},r}var ur=tr;function sr(e){var t=lr;try{lr=!0,$t.storagemutated.fire(e),_n(e,!0)}finally{lr=t}}f(ur,t(t({},X),{delete:function(e){return new ur(e,{addons:[]}).delete()},exists:function(e){return new ur(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return n=(t=ur.dependencies).indexedDB,t=t.IDBKeyRange,(vn(n)?Promise.resolve(n.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==nt}))})):gn(n,t).toCollection().primaryKeys()).then(e)}catch(e){return Ze(new H.MissingAPI)}var t,n},defineClass:function(){return function(e){u(this,e)}},ignoreTransaction:function(e){return ye.trans?Xe(ye.transless,e):e()},vip:yn,async:function(e){return function(){try{var t=Rn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ae.resolve(t)}catch(t){return Ze(t)}}},spawn:function(e,t,n){try{var r=Rn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Ae.resolve(r)}catch(e){return Ze(e)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(e,t){return t=Ae.resolve("function"==typeof e?ur.ignoreTransaction(e):e).timeout(t||6e4),ye.trans?ye.trans.waitFor(t):t},Promise:Ae,debug:{get:function(){return oe},set:function(e){ie(e)}},derive:p,extend:u,props:f,override:y,Events:pt,on:$t,liveQuery:ar,extendObservabilitySet:Sn,getByKeyPath:w,setByKeyPath:A,delByKeyPath:function(e,t){"string"==typeof t?A(e,t,void 0):"length"in t&&[].map.call(t,(function(t){A(e,t,void 0)}))},shallowClone:E,deepClone:N,getObjectDiff:Ln,cmp:ct,asap:D,minKey:-1/0,addons:[],connections:tt,errnames:W,dependencies:rr,cache:Nn,semVer:"4.0.7",version:"4.0.7".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),ur.maxKey=Vt(ur.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&($t(Lt,(function(e){lr||(e=new CustomEvent(zt,{detail:e}),lr=!0,dispatchEvent(e),lr=!1)})),addEventListener(zt,(function(e){e=e.detail,lr||sr(e)})));var cr,lr=!1,fr=function(){};return"undefined"!=typeof BroadcastChannel&&((fr=function(){(cr=new BroadcastChannel(zt)).onmessage=function(e){return e.data&&sr(e.data)}})(),"function"==typeof cr.unref&&cr.unref(),$t(Lt,(function(e){lr||cr.postMessage(e)}))),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",(function(e){if(!tr.disableBfCache&&e.persisted){oe&&console.debug("Dexie: handling persisted pagehide"),null!=cr&&cr.close();for(var t=0,n=tt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}})),addEventListener("pageshow",(function(e){!tr.disableBfCache&&e.persisted&&(oe&&console.debug("Dexie: handling persisted pageshow"),fr(),sr({all:new Dn(-1/0,[[]])}))}))),Ae.rejectionMapper=function(e,t){return!e||e instanceof z||e instanceof TypeError||e instanceof SyntaxError||!e.name||!V[e.name]?e:(t=new V[e.name](t||e.message,e),"stack"in e&&d(t,"stack",{get:function(){return this.inner.stack}}),t)},ie(oe),t(tr,Object.freeze({__proto__:null,Dexie:tr,liveQuery:ar,Entity:st,cmp:ct,PropModSymbol:F,PropModification:Et,replacePrefix:function(e,t){return new Et({replacePrefix:[e,t]})},add:function(e){return new Et({add:e})},remove:function(e){return new Et({remove:e})},default:tr,RangeSet:Dn,mergeRanges:An,rangesOverlap:En}),{default:tr}),tr}()},2001:function(e,t,n){"use strict";n.r(t),n.d(t,{Head:function(){return kl},default:function(){return Nl}});var r=n(6540),o=n(342),i=n(633),a=n(1990),u=(n(6743),n(3424),n(5125),n(5790)),s=n(4794),c=n(9067),l=n(8587),f=n(8168),h=n(4164),d=n(4111),p=n(771),m=n(3541);function g(e){return m.A}var v=n(1848),y=n(4871);function b(e,t,n){return"function"==typeof e?e(t,n):e}function D(e,t=[]){if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function w(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function A(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=(0,h.A)(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,f.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),a=(0,f.A)({},n,o,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=D((0,f.A)({},o,r)),u=w(r),s=w(o),c=t(a),l=(0,h.A)(null==c?void 0:c.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,f.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=(0,f.A)({},c,n,s,u);return l.length>0&&(p.className=l),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}}function E(e){return"string"==typeof e}function x(e,t,n){return void 0===e||E(e)?t:(0,f.A)({},t,{ownerState:(0,f.A)({},t.ownerState,n)})}const C=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],F=["component","slots","slotProps"],S=["component"];function B(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:u}=t,s=(0,l.A)(t,C),{component:c,slots:h={[e]:void 0},slotProps:d={[e]:void 0}}=i,p=(0,l.A)(i,F),m=h[e]||r,g=b(d[e],o),v=A((0,f.A)({className:n},s,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:g})),{props:{component:D},internalRef:w}=v,E=(0,l.A)(v.props,S),B=(0,y.A)(w,null==g?void 0:g.ref,t.ref),N=a?a(E):{},k=(0,f.A)({},o,N),M="root"===e?D||c:D,I=x(m,(0,f.A)({},"root"===e&&!c&&!h[e]&&u,"root"!==e&&!h[e]&&u,E,M&&{as:M},{ref:B}),k);return Object.keys(N).forEach((e=>{delete I[e]})),[m,I]}var N=n(8466);var k=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)},M=n(7553),I=n(7245);function _(e){return(0,I.Ay)("MuiPaper",e)}(0,M.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var O=n(4848);const T=["className","component","elevation","square","variant"],R=(0,v.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>{var n;return(0,f.A)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,f.A)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,p.X4)("#fff",k(t.elevation))}, ${(0,p.X4)("#fff",k(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))})),P=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:a=!1,variant:u="elevation"}=n,s=(0,l.A)(n,T),c=(0,f.A)({},n,{component:o,elevation:i,square:a,variant:u}),p=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,d.A)(i,_,o)})(c);return(0,O.jsx)(R,(0,f.A)({as:o,ownerState:c,className:(0,h.A)(p.root,r),ref:t},s))}));var j=P;function L(e){return(0,I.Ay)("MuiAlert",e)}var z=(0,M.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),$=n(6852),q=n(3034),K=n(873);var W=n(7387),U=r.createContext(null);function H(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function V(e,t,n){return null!=n[t]?n[t]:e.props[t]}function X(e,t,n){var o=H(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var u={};for(var s in t){if(o[s])for(r=0;r<o[s].length;r++){var c=o[s][r];u[o[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<i.length;r++)u[i[r]]=n(i[r]);return u}(t,o);return Object.keys(i).forEach((function(a){var u=i[a];if((0,r.isValidElement)(u)){var s=a in t,c=a in o,l=t[a],f=(0,r.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,r.isValidElement)(l)&&(i[a]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:V(u,"exit",e),enter:V(u,"enter",e)})):i[a]=(0,r.cloneElement)(u,{in:!1}):i[a]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:V(u,"exit",e),enter:V(u,"enter",e)})}})),i}var Y=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},G=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}(0,W.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,o=a,H(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:V(e,"appear",n),enter:V(e,"enter",n),exit:V(e,"exit",n)})}))):X(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=H(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,f.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=(0,l.A)(e,["component","childFactory"]),i=this.state.contextValue,a=Y(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r.createElement(U.Provider,{value:i},a):r.createElement(U.Provider,{value:i},r.createElement(t,o,a))},t}(r.Component);G.propTypes={},G.defaultProps={component:"div",childFactory:function(e){return e}};var Z=G,J=n(7437),Q=n(2640);var ee=function(e){const{className:t,classes:n,pulsate:o=!1,rippleX:i,rippleY:a,rippleSize:u,in:s,onExited:c,timeout:l}=e,[f,d]=r.useState(!1),p=(0,h.A)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),m={width:u,height:u,top:-u/2+a,left:-u/2+i},g=(0,h.A)(n.child,f&&n.childLeaving,o&&n.childPulsate);return s||f||d(!0),r.useEffect((()=>{if(!s&&null!=c){const e=setTimeout(c,l);return()=>{clearTimeout(e)}}}),[c,s,l]),(0,O.jsx)("span",{className:p,style:m,children:(0,O.jsx)("span",{className:g})})};var te=(0,M.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);const ne=["center","classes","className"];let re,oe,ie,ae,ue=e=>e;const se=(0,J.i7)(re||(re=ue`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),ce=(0,J.i7)(oe||(oe=ue`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),le=(0,J.i7)(ie||(ie=ue`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),fe=(0,v.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),he=(0,v.Ay)(ee,{name:"MuiTouchRipple",slot:"Ripple"})(ae||(ae=ue`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),te.rippleVisible,se,550,(({theme:e})=>e.transitions.easing.easeInOut),te.ripplePulsate,(({theme:e})=>e.transitions.duration.shorter),te.child,te.childLeaving,ce,550,(({theme:e})=>e.transitions.easing.easeInOut),te.childPulsate,le,(({theme:e})=>e.transitions.easing.easeInOut));var de=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:a}=n,u=(0,l.A)(n,ne),[s,c]=r.useState([]),d=r.useRef(0),p=r.useRef(null);r.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[s]);const g=r.useRef(!1),v=(0,Q.A)(),y=r.useRef(null),b=r.useRef(null),D=r.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:a}=e;c((e=>[...e,(0,O.jsx)(he,{classes:{ripple:(0,h.A)(i.ripple,te.ripple),rippleVisible:(0,h.A)(i.rippleVisible,te.rippleVisible),ripplePulsate:(0,h.A)(i.ripplePulsate,te.ripplePulsate),child:(0,h.A)(i.child,te.child),childLeaving:(0,h.A)(i.childLeaving,te.childLeaving),childPulsate:(0,h.A)(i.childPulsate,te.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},d.current)])),d.current+=1,p.current=a}),[i]),w=r.useCallback(((e={},t={},n=(()=>{}))=>{const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&g.current)return void(g.current=!1);"touchstart"===(null==e?void 0:e.type)&&(g.current=!0);const u=a?null:b.current,s=u?u.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,l,f;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(s.width/2),l=Math.round(s.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-s.left),l=Math.round(n-s.top)}if(i)f=Math.sqrt((2*s.width**2+s.height**2)/3),f%2==0&&(f+=1);else{const e=2*Math.max(Math.abs((u?u.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((u?u.clientHeight:0)-l),l)+2;f=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===y.current&&(y.current=()=>{D({pulsate:r,rippleX:c,rippleY:l,rippleSize:f,cb:n})},v.start(80,(()=>{y.current&&(y.current(),y.current=null)}))):D({pulsate:r,rippleX:c,rippleY:l,rippleSize:f,cb:n})}),[o,D,v]),A=r.useCallback((()=>{w({},{pulsate:!0})}),[w]),E=r.useCallback(((e,t)=>{if(v.clear(),"touchend"===(null==e?void 0:e.type)&&y.current)return y.current(),y.current=null,void v.start(0,(()=>{E(e,t)}));y.current=null,c((e=>e.length>0?e.slice(1):e)),p.current=t}),[v]);return r.useImperativeHandle(t,(()=>({pulsate:A,start:w,stop:E})),[A,w,E]),(0,O.jsx)(fe,(0,f.A)({className:(0,h.A)(te.root,i.root,a),ref:b},u,{children:(0,O.jsx)(Z,{component:null,exit:!0,children:s})}))}));function pe(e){return(0,I.Ay)("MuiButtonBase",e)}var me=(0,M.A)("MuiButtonBase",["root","disabled","focusVisible"]);const ge=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ve=(0,v.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${me.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});var ye=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:a,className:u,component:s="button",disabled:c=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:v=!1,LinkComponent:y="a",onBlur:b,onClick:D,onContextMenu:w,onDragLeave:A,onFocus:E,onFocusVisible:x,onKeyDown:C,onKeyUp:F,onMouseDown:S,onMouseLeave:B,onMouseUp:N,onTouchEnd:k,onTouchMove:M,onTouchStart:I,tabIndex:_=0,TouchRippleProps:T,touchRippleRef:R,type:P}=n,j=(0,l.A)(n,ge),L=r.useRef(null),z=r.useRef(null),W=(0,$.A)(z,R),{isFocusVisibleRef:U,onFocus:H,onBlur:V,ref:X}=(0,K.A)(),[Y,G]=r.useState(!1);c&&Y&&G(!1),r.useImperativeHandle(o,(()=>({focusVisible:()=>{G(!0),L.current.focus()}})),[]);const[Z,J]=r.useState(!1);r.useEffect((()=>{J(!0)}),[]);const Q=Z&&!p&&!c;function ee(e,t,n=g){return(0,q.A)((r=>{t&&t(r);return!n&&z.current&&z.current[e](r),!0}))}r.useEffect((()=>{Y&&v&&!p&&Z&&z.current.pulsate()}),[p,v,Y,Z]);const te=ee("start",S),ne=ee("stop",w),re=ee("stop",A),oe=ee("stop",N),ie=ee("stop",(e=>{Y&&e.preventDefault(),B&&B(e)})),ae=ee("start",I),ue=ee("stop",k),se=ee("stop",M),ce=ee("stop",(e=>{V(e),!1===U.current&&G(!1),b&&b(e)}),!1),le=(0,q.A)((e=>{L.current||(L.current=e.currentTarget),H(e),!0===U.current&&(G(!0),x&&x(e)),E&&E(e)})),fe=()=>{const e=L.current;return s&&"button"!==s&&!("A"===e.tagName&&e.href)},he=r.useRef(!1),me=(0,q.A)((e=>{v&&!he.current&&Y&&z.current&&" "===e.key&&(he.current=!0,z.current.stop(e,(()=>{z.current.start(e)}))),e.target===e.currentTarget&&fe()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&fe()&&"Enter"===e.key&&!c&&(e.preventDefault(),D&&D(e))})),ye=(0,q.A)((e=>{v&&" "===e.key&&z.current&&Y&&!e.defaultPrevented&&(he.current=!1,z.current.stop(e,(()=>{z.current.pulsate(e)}))),F&&F(e),D&&e.target===e.currentTarget&&fe()&&" "===e.key&&!e.defaultPrevented&&D(e)}));let be=s;"button"===be&&(j.href||j.to)&&(be=y);const De={};"button"===be?(De.type=void 0===P?"button":P,De.disabled=c):(j.href||j.to||(De.role="button"),c&&(De["aria-disabled"]=c));const we=(0,$.A)(t,X,L);const Ae=(0,f.A)({},n,{centerRipple:i,component:s,disabled:c,disableRipple:p,disableTouchRipple:g,focusRipple:v,tabIndex:_,focusVisible:Y}),Ee=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,d.A)(i,pe,o);return n&&r&&(a.root+=` ${r}`),a})(Ae);return(0,O.jsxs)(ve,(0,f.A)({as:be,className:(0,h.A)(Ee.root,u),ownerState:Ae,onBlur:ce,onClick:D,onContextMenu:ne,onFocus:le,onKeyDown:me,onKeyUp:ye,onMouseDown:te,onMouseLeave:ie,onMouseUp:oe,onDragLeave:re,onTouchEnd:ue,onTouchMove:se,onTouchStart:ae,ref:we,tabIndex:c?-1:_,type:P},De,j,{children:[a,Q?(0,O.jsx)(de,(0,f.A)({ref:W,center:i},T)):null]}))}));function be(e){return(0,I.Ay)("MuiIconButton",e)}var De=(0,M.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);const we=["edge","children","className","color","disabled","disableFocusRipple","size"],Ae=(0,v.Ay)(ye,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,N.A)(n.color)}`],n.edge&&t[`edge${(0,N.A)(n.edge)}`],t[`size${(0,N.A)(n.size)}`]]}})((({theme:e,ownerState:t})=>(0,f.A)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})),(({theme:e,ownerState:t})=>{var n;const r=null==(n=(e.vars||e).palette)?void 0:n[t.color];return(0,f.A)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,f.A)({color:null==r?void 0:r.main},!t.disableRipple&&{"&:hover":(0,f.A)({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.X4)(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${De.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})})),Ee=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:a="default",disabled:u=!1,disableFocusRipple:s=!1,size:c="medium"}=n,p=(0,l.A)(n,we),g=(0,f.A)({},n,{edge:r,color:a,disabled:u,disableFocusRipple:s,size:c}),v=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,a={root:["root",n&&"disabled","default"!==r&&`color${(0,N.A)(r)}`,o&&`edge${(0,N.A)(o)}`,`size${(0,N.A)(i)}`]};return(0,d.A)(a,be,t)})(g);return(0,O.jsx)(Ae,(0,f.A)({className:(0,h.A)(v.root,i),centerRipple:!0,focusRipple:!s,disabled:u,ref:t},p,{ownerState:g,children:o}))}));var xe=Ee,Ce=n(5003),Fe=(0,Ce.A)((0,O.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Se=(0,Ce.A)((0,O.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Be=(0,Ce.A)((0,O.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Ne=(0,Ce.A)((0,O.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ke=(0,Ce.A)((0,O.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const Me=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Ie=g(),_e=(0,v.Ay)(j,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,N.A)(n.color||n.severity)}`]]}})((({theme:e})=>{const t="light"===e.palette.mode?p.e$:p.a,n="light"===e.palette.mode?p.a:p.e$;return(0,f.A)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${z.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}}))),...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:t(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${z.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}}))),...Object.entries(e.palette).filter((([,e])=>e.main&&e.dark)).map((([t])=>({props:{colorSeverity:t,variant:"filled"},style:(0,f.A)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})})))]})})),Oe=(0,v.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Te=(0,v.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Re=(0,v.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Pe={success:(0,O.jsx)(Fe,{fontSize:"inherit"}),warning:(0,O.jsx)(Se,{fontSize:"inherit"}),error:(0,O.jsx)(Be,{fontSize:"inherit"}),info:(0,O.jsx)(Ne,{fontSize:"inherit"})};var je=r.forwardRef((function(e,t){const n=Ie({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:a="Close",color:u,components:s={},componentsProps:c={},icon:p,iconMapping:m=Pe,onClose:g,role:v="alert",severity:y="success",slotProps:b={},slots:D={},variant:w="standard"}=n,A=(0,l.A)(n,Me),E=(0,f.A)({},n,{color:u,severity:y,variant:w,colorSeverity:u||y}),x=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${(0,N.A)(n||r)}`,`${t}${(0,N.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,d.A)(i,L,o)})(E),C={slots:(0,f.A)({closeButton:s.CloseButton,closeIcon:s.CloseIcon},D),slotProps:(0,f.A)({},c,b)},[F,S]=B("closeButton",{elementType:xe,externalForwardedProps:C,ownerState:E}),[k,M]=B("closeIcon",{elementType:ke,externalForwardedProps:C,ownerState:E});return(0,O.jsxs)(_e,(0,f.A)({role:v,elevation:0,ownerState:E,className:(0,h.A)(x.root,i),ref:t},A,{children:[!1!==p?(0,O.jsx)(Oe,{ownerState:E,className:x.icon,children:p||m[y]||Pe[y]}):null,(0,O.jsx)(Te,{ownerState:E,className:x.message,children:o}),null!=r?(0,O.jsx)(Re,{ownerState:E,className:x.action,children:r}):null,null==r&&g?(0,O.jsx)(Re,{ownerState:E,className:x.action,children:(0,O.jsx)(F,(0,f.A)({size:"small","aria-label":a,title:a,color:"inherit",onClick:g},S,{children:(0,O.jsx)(k,(0,f.A)({fontSize:"small"},M))}))}):null]}))}));function Le(e){let{authState:t}=e;return r.createElement(o.A,{maxWidth:"xs"},r.createElement(c.A,{sx:{display:"flex",flexDirection:"column"}},r.createElement(c.A,{sx:{alignSelf:"center"}},r.createElement("img",{src:(0,s.withPrefix)("/images/fairydoor.svg"),alt:""})),r.createElement(c.A,{sx:{alignSelf:"center"}},'"Loading ..."'),r.createElement(c.A,null,t.errorCode&&r.createElement(je,{severity:"warning"},t.errorCode))))}var ze=n(4953);const $e=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function qe(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,a=(0,l.A)(e,$e),u=i?{}:b(r,o),{props:s,internalRef:c}=A((0,f.A)({},a,{externalSlotProps:u})),h=(0,y.A)(c,null==u?void 0:u.ref,null==(t=e.additionalProps)?void 0:t.ref);return x(n,(0,f.A)({},s,{ref:h}),o)}var Ke=n(6249),We=n(6111),Ue=n(9941),He=n(1489);function Ve(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Xe(e){return parseInt((0,He.A)(e).getComputedStyle(e).paddingRight,10)||0}function Ye(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ve(e,o)}))}function Ge(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Ze(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,Ke.A)(e);return t.body===e?(0,He.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}((0,Ke.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Xe(r)+e}px`;const t=(0,Ke.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Xe(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,Ke.A)(r).body;else{const t=r.parentElement,n=(0,He.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}const Je=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ve(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Ye(t,e.mount,e.modalRef,r,!0);const o=Ge(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Ge(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Ze(r,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(-1===n)return n;const r=Ge(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Ve(e.modalRef,t),Ye(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Ve(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function Qe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:i=Je,closeAfterTransition:a=!1,onTransitionEnter:u,onTransitionExited:s,children:c,onClose:l,open:h,rootRef:d}=e,p=r.useRef({}),m=r.useRef(null),g=r.useRef(null),v=(0,y.A)(g,d),[b,w]=r.useState(!h),A=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let E=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(E=!1);const x=()=>(p.current.modalRef=g.current,p.current.mount=m.current,p.current),C=()=>{i.mount(x(),{disableScrollLock:o}),g.current&&(g.current.scrollTop=0)},F=(0,We.A)((()=>{const e=function(e){return"function"==typeof e?e():e}(t)||(0,Ke.A)(m.current).body;i.add(x(),e),g.current&&C()})),S=r.useCallback((()=>i.isTopModal(x())),[i]),B=(0,We.A)((e=>{m.current=e,e&&(h&&S()?C():g.current&&Ve(g.current,E))})),N=r.useCallback((()=>{i.remove(x(),E)}),[E,i]);r.useEffect((()=>()=>{N()}),[N]),r.useEffect((()=>{h?F():A&&a||N()}),[h,N,A,a,F]);const k=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(n||(t.stopPropagation(),l&&l(t,"escapeKeyDown")))},M=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&l&&l(t,"backdropClick")};return{getRootProps:(t={})=>{const n=D(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,f.A)({},n,t);return(0,f.A)({role:"presentation"},r,{onKeyDown:k(r),ref:v})},getBackdropProps:(e={})=>{const t=e;return(0,f.A)({"aria-hidden":!0},t,{onClick:M(t),open:h})},getTransitionProps:()=>({onEnter:(0,Ue.A)((()=>{w(!1),u&&u()}),null==c?void 0:c.props.onEnter),onExited:(0,Ue.A)((()=>{w(!0),s&&s(),a&&N()}),null==c?void 0:c.props.onExited)}),rootRef:v,portalRef:B,isTopModal:S,exited:b,hasTransition:A}}const et=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function tt(e){const t=[],n=[];return Array.from(e.querySelectorAll(et)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function nt(){return!0}function rt(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:a=tt,isEnabled:u=nt,open:s}=e,c=r.useRef(!1),l=r.useRef(null),f=r.useRef(null),h=r.useRef(null),d=r.useRef(null),p=r.useRef(!1),m=r.useRef(null),g=(0,y.A)(t.ref,m),v=r.useRef(null);r.useEffect((()=>{s&&m.current&&(p.current=!n)}),[n,s]),r.useEffect((()=>{if(!s||!m.current)return;const e=(0,Ke.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[s]),r.useEffect((()=>{if(!s||!m.current)return;const e=(0,Ke.A)(m.current),t=t=>{v.current=t,!o&&u()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,f.current&&f.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!u()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==l.current&&e.activeElement!==f.current)return;if(e.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!p.current)return;let n=[];if(e.activeElement!==l.current&&e.activeElement!==f.current||(n=a(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=v.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!=typeof t&&"string"!=typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,o,i,u,s,a]);const b=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,O.jsxs)(r.Fragment,{children:[(0,O.jsx)("div",{tabIndex:s?0:-1,onFocus:b,ref:l,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,d.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,O.jsx)("div",{tabIndex:s?0:-1,onFocus:b,ref:f,"data-testid":"sentinelEnd"})]})}var ot=n(961),it=n(173),at=n(6102);const ut=r.forwardRef((function(e,t){const{children:n,container:o,disablePortal:i=!1}=e,[a,u]=r.useState(null),s=(0,y.A)(r.isValidElement(n)?n.ref:null,t);if((0,it.A)((()=>{i||u(function(e){return"function"==typeof e?e():e}(o)||document.body)}),[o,i]),(0,it.A)((()=>{if(a&&!i)return(0,at.A)(t,a),()=>{(0,at.A)(t,null)}}),[t,a,i]),i){if(r.isValidElement(n)){const e={ref:s};return r.cloneElement(n,e)}return(0,O.jsx)(r.Fragment,{children:n})}return(0,O.jsx)(r.Fragment,{children:a?ot.createPortal(n,a):a})}));var st=!1,ct="unmounted",lt="exited",ft="entering",ht="entered",dt="exiting",pt=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=lt,r.appearStatus=ft):o=ht:o=t.unmountOnExit||t.mountOnEnter?ct:lt,r.state={status:o},r.nextCallback=null,r}(0,W.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ct?{status:lt}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ft&&n!==ht&&(t=ft):n!==ft&&n!==ht||(t=dt)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ft){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ot.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lt&&this.setState({status:ct})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[ot.findDOMNode(this),r],i=o[0],a=o[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||st?this.safeSetState({status:ht},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:ft},(function(){t.props.onEntering(i,a),t.onTransitionEnd(s,(function(){t.safeSetState({status:ht},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ot.findDOMNode(this);t&&!st?(this.props.onExit(r),this.safeSetState({status:dt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:lt},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:lt},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ot.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ct)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,l.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(U.Provider,{value:null},"function"==typeof n?n(e,o):r.cloneElement(r.Children.only(n),o))},t}(r.Component);function mt(){}pt.contextType=U,pt.propTypes={},pt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mt,onEntering:mt,onEntered:mt,onExit:mt,onExiting:mt,onExited:mt},pt.UNMOUNTED=ct,pt.EXITED=lt,pt.ENTERING=ft,pt.ENTERED=ht,pt.EXITING=dt;var gt=pt,vt=n(2858),yt=n(2765),bt=n(8312);function Dt(){const e=(0,vt.A)(yt.A);return e[bt.A]||e}const wt=e=>e.scrollTop;function At(e,t){var n,r;const{timeout:o,easing:i,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"==typeof o?o:o[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"==typeof i?i[t.mode]:i,delay:a.transitionDelay}}const Et=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],xt={entering:{opacity:1},entered:{opacity:1}};var Ct=r.forwardRef((function(e,t){const n=Dt(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:u,easing:s,in:c,onEnter:h,onEntered:d,onEntering:p,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:D=gt}=e,w=(0,l.A)(e,Et),A=r.useRef(null),E=(0,$.A)(A,u.ref,t),x=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},C=x(p),F=x(((e,t)=>{wt(e);const r=At({style:y,timeout:b,easing:s},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),h&&h(e,t)})),S=x(d),B=x(v),N=x((e=>{const t=At({style:y,timeout:b,easing:s},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),m&&m(e)})),k=x(g);return(0,O.jsx)(D,(0,f.A)({appear:a,in:c,nodeRef:A,onEnter:F,onEntered:S,onEntering:C,onExit:N,onExited:k,onExiting:B,addEndListener:e=>{i&&i(A.current,e)},timeout:b},w,{children:(e,t)=>r.cloneElement(u,(0,f.A)({style:(0,f.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},xt[e],y,u.props.style),ref:E},t))}))}));function Ft(e){return(0,I.Ay)("MuiBackdrop",e)}(0,M.A)("MuiBackdrop",["root","invisible"]);const St=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Bt=(0,v.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((({ownerState:e})=>(0,f.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})));var Nt=r.forwardRef((function(e,t){var n,r,o;const i=(0,m.A)({props:e,name:"MuiBackdrop"}),{children:a,className:u,component:s="div",components:c={},componentsProps:p={},invisible:g=!1,open:v,slotProps:y={},slots:b={},TransitionComponent:D=Ct,transitionDuration:w}=i,A=(0,l.A)(i,St),E=(0,f.A)({},i,{component:s,invisible:g}),x=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,d.A)(r,Ft,t)})(E),C=null!=(n=y.root)?n:p.root;return(0,O.jsx)(D,(0,f.A)({in:v,timeout:w},A,{children:(0,O.jsx)(Bt,(0,f.A)({"aria-hidden":!0},C,{as:null!=(r=null!=(o=b.root)?o:c.Root)?r:s,className:(0,h.A)(x.root,u,null==C?void 0:C.className),ownerState:(0,f.A)({},E,null==C?void 0:C.ownerState),classes:x,ref:t,children:a}))}))}));function kt(e){return(0,I.Ay)("MuiModal",e)}(0,M.A)("MuiModal",["root","hidden","backdrop"]);const Mt=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],It=(0,v.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((({theme:e,ownerState:t})=>(0,f.A)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"}))),_t=(0,v.Ay)(Nt,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ot=r.forwardRef((function(e,t){var n,o,i,a,u,s;const c=(0,m.A)({name:"MuiModal",props:e}),{BackdropComponent:p=_t,BackdropProps:g,className:v,closeAfterTransition:y=!1,children:b,container:D,component:w,components:A={},componentsProps:E={},disableAutoFocus:x=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:F=!1,disablePortal:S=!1,disableRestoreFocus:B=!1,disableScrollLock:N=!1,hideBackdrop:k=!1,keepMounted:M=!1,onBackdropClick:I,open:_,slotProps:T,slots:R}=c,P=(0,l.A)(c,Mt),j=(0,f.A)({},c,{closeAfterTransition:y,disableAutoFocus:x,disableEnforceFocus:C,disableEscapeKeyDown:F,disablePortal:S,disableRestoreFocus:B,disableScrollLock:N,hideBackdrop:k,keepMounted:M}),{getRootProps:L,getBackdropProps:z,getTransitionProps:$,portalRef:q,isTopModal:K,exited:W,hasTransition:U}=Qe((0,f.A)({},j,{rootRef:t})),H=(0,f.A)({},j,{exited:W}),V=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,d.A)(o,kt,r)})(H),X={};if(void 0===b.props.tabIndex&&(X.tabIndex="-1"),U){const{onEnter:e,onExited:t}=$();X.onEnter=e,X.onExited=t}const Y=null!=(n=null!=(o=null==R?void 0:R.root)?o:A.Root)?n:It,G=null!=(i=null!=(a=null==R?void 0:R.backdrop)?a:A.Backdrop)?i:p,Z=null!=(u=null==T?void 0:T.root)?u:E.root,J=null!=(s=null==T?void 0:T.backdrop)?s:E.backdrop,Q=qe({elementType:Y,externalSlotProps:Z,externalForwardedProps:P,getSlotProps:L,additionalProps:{ref:t,as:w},ownerState:H,className:(0,h.A)(v,null==Z?void 0:Z.className,null==V?void 0:V.root,!H.open&&H.exited&&(null==V?void 0:V.hidden))}),ee=qe({elementType:G,externalSlotProps:J,additionalProps:g,getSlotProps:e=>z((0,f.A)({},e,{onClick:t=>{I&&I(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,h.A)(null==J?void 0:J.className,null==g?void 0:g.className,null==V?void 0:V.backdrop),ownerState:H});return M||_||U&&!W?(0,O.jsx)(ut,{ref:q,container:D,disablePortal:S,children:(0,O.jsxs)(Y,(0,f.A)({},Q,{children:[!k&&p?(0,O.jsx)(G,(0,f.A)({},ee)):null,(0,O.jsx)(rt,{disableEnforceFocus:C,disableAutoFocus:x,disableRestoreFocus:B,isEnabled:K,open:_,children:r.cloneElement(b,X)})]}))}):null}));var Tt=Ot;function Rt(e){return(0,I.Ay)("MuiDialog",e)}var Pt=(0,M.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var jt=r.createContext({});const Lt=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],zt=(0,v.Ay)(Nt,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),$t=(0,v.Ay)(Tt,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),qt=(0,v.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,N.A)(n.scroll)}`]]}})((({ownerState:e})=>(0,f.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),Kt=(0,v.Ay)(j,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,N.A)(n.scroll)}`],t[`paperWidth${(0,N.A)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((({theme:e,ownerState:t})=>(0,f.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Pt.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Pt.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Pt.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})));var Wt=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiDialog"}),o=Dt(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":u,BackdropComponent:s,BackdropProps:c,children:p,className:g,disableEscapeKeyDown:v=!1,fullScreen:y=!1,fullWidth:b=!1,maxWidth:D="sm",onBackdropClick:w,onClick:A,onClose:E,open:x,PaperComponent:C=j,PaperProps:F={},scroll:S="paper",TransitionComponent:B=Ct,transitionDuration:k=i,TransitionProps:M}=n,I=(0,l.A)(n,Lt),_=(0,f.A)({},n,{disableEscapeKeyDown:v,fullScreen:y,fullWidth:b,maxWidth:D,scroll:S}),T=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${(0,N.A)(n)}`],paper:["paper",`paperScroll${(0,N.A)(n)}`,`paperWidth${(0,N.A)(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,d.A)(a,Rt,t)})(_),R=r.useRef(),P=(0,ze.A)(u),L=r.useMemo((()=>({titleId:P})),[P]);return(0,O.jsx)($t,(0,f.A)({className:(0,h.A)(T.root,g),closeAfterTransition:!0,components:{Backdrop:zt},componentsProps:{backdrop:(0,f.A)({transitionDuration:k,as:s},c)},disableEscapeKeyDown:v,onClose:E,open:x,ref:t,onClick:e=>{A&&A(e),R.current&&(R.current=null,w&&w(e),E&&E(e,"backdropClick"))},ownerState:_},I,{children:(0,O.jsx)(B,(0,f.A)({appear:!0,in:x,timeout:k,role:"presentation"},M,{children:(0,O.jsx)(qt,{className:(0,h.A)(T.container),onMouseDown:e=>{R.current=e.target===e.currentTarget},ownerState:_,children:(0,O.jsx)(Kt,(0,f.A)({as:C,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":P},F,{className:(0,h.A)(T.paper,F.className),ownerState:_,children:(0,O.jsx)(jt.Provider,{value:L,children:p})}))})}))}))})),Ut=n(6311),Ht=n(3431);function Vt(e){return(0,I.Ay)("MuiButton",e)}var Xt=(0,M.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Yt=r.createContext({});var Gt=r.createContext(void 0);const Zt=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Jt=e=>(0,f.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Qt=(0,v.Ay)(ye,{shouldForwardProp:e=>(0,Ht.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,N.A)(n.color)}`],t[`size${(0,N.A)(n.size)}`],t[`${n.variant}Size${(0,N.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>{var n,r;const o="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],i="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return(0,f.A)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,f.A)({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.X4)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.X4)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.X4)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":(0,f.A)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Xt.focusVisible}`]:(0,f.A)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Xt.disabled}`]:(0,f.A)({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${(0,p.X4)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(n=(r=e.palette).getContrastText)?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:o,boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})}),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Xt.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Xt.disabled}`]:{boxShadow:"none"}})),en=(0,v.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,N.A)(n.size)}`]]}})((({ownerState:e})=>(0,f.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},Jt(e)))),tn=(0,v.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,N.A)(n.size)}`]]}})((({ownerState:e})=>(0,f.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},Jt(e)))),nn=r.forwardRef((function(e,t){const n=r.useContext(Yt),o=r.useContext(Gt),i=(0,Ut.A)(n,e),a=(0,m.A)({props:i,name:"MuiButton"}),{children:u,color:s="primary",component:c="button",className:p,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:D,fullWidth:w=!1,size:A="medium",startIcon:E,type:x,variant:C="text"}=a,F=(0,l.A)(a,Zt),S=(0,f.A)({},a,{color:s,component:c,disabled:g,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:A,type:x,variant:C}),B=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,u={root:["root",i,`${i}${(0,N.A)(t)}`,`size${(0,N.A)(o)}`,`${i}Size${(0,N.A)(o)}`,`color${(0,N.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,N.A)(o)}`],endIcon:["icon","endIcon",`iconSize${(0,N.A)(o)}`]},s=(0,d.A)(u,Vt,a);return(0,f.A)({},a,s)})(S),k=E&&(0,O.jsx)(en,{className:B.startIcon,ownerState:S,children:E}),M=b&&(0,O.jsx)(tn,{className:B.endIcon,ownerState:S,children:b}),I=o||"";return(0,O.jsxs)(Qt,(0,f.A)({ownerState:S,className:(0,h.A)(n.className,B.root,p,I),component:c,disabled:g,focusRipple:!y,focusVisibleClassName:(0,h.A)(B.focusVisible,D),ref:t,type:x},F,{classes:B,children:[k,u,M]}))}));var rn=nn;const on=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],an={entering:{transform:"none"},entered:{transform:"none"}};var un=r.forwardRef((function(e,t){const n=Dt(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:u,easing:s,in:c,onEnter:h,onEntered:d,onEntering:p,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:D=gt}=e,w=(0,l.A)(e,on),A=r.useRef(null),E=(0,$.A)(A,u.ref,t),x=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},C=x(p),F=x(((e,t)=>{wt(e);const r=At({style:y,timeout:b,easing:s},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",r),e.style.transition=n.transitions.create("transform",r),h&&h(e,t)})),S=x(d),B=x(v),N=x((e=>{const t=At({style:y,timeout:b,easing:s},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),m&&m(e)})),k=x(g);return(0,O.jsx)(D,(0,f.A)({appear:a,in:c,nodeRef:A,onEnter:F,onEntered:S,onEntering:C,onExit:N,onExited:k,onExiting:B,addEndListener:e=>{i&&i(A.current,e)},timeout:b},w,{children:(e,t)=>r.cloneElement(u,(0,f.A)({style:(0,f.A)({transform:"scale(0)",visibility:"exited"!==e||c?void 0:"hidden"},an[e],y,u.props.style),ref:E},t))}))})),sn=n(9599);function cn(e){return(0,I.Ay)("MuiTypography",e)}(0,M.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ln=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],fn=(0,v.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,N.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,f.A)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),hn={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},dn={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var pn=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiTypography"}),r=(e=>dn[e]||e)(n.color),o=(0,sn.A)((0,f.A)({},n,{color:r})),{align:i="inherit",className:a,component:u,gutterBottom:s=!1,noWrap:c=!1,paragraph:p=!1,variant:g="body1",variantMapping:v=hn}=o,y=(0,l.A)(o,ln),b=(0,f.A)({},o,{align:i,color:r,className:a,component:u,gutterBottom:s,noWrap:c,paragraph:p,variant:g,variantMapping:v}),D=u||(p?"p":v[g]||hn[g])||"span",w=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e,u={root:["root",i,"inherit"!==e.align&&`align${(0,N.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,d.A)(u,cn,a)})(b);return(0,O.jsx)(fn,(0,f.A)({as:D,ref:t,ownerState:b,className:(0,h.A)(w.root,a)},y))})),mn=n(5012),gn=(0,Ce.A)((0,O.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function vn(e){return(0,I.Ay)("MuiAvatar",e)}(0,M.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const yn=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],bn=g(),Dn=(0,v.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,f.A)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:(0,f.A)({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]}))),wn=(0,v.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),An=(0,v.Ay)(gn,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});var En=r.forwardRef((function(e,t){const n=bn({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:a,component:u="div",slots:s={},slotProps:c={},imgProps:p,sizes:m,src:g,srcSet:v,variant:y="circular"}=n,b=(0,l.A)(n,yn);let D=null;const w=function({crossOrigin:e,referrerPolicy:t,src:n,srcSet:o}){const[i,a]=r.useState(!1);return r.useEffect((()=>{if(!n&&!o)return;a(!1);let r=!0;const i=new Image;return i.onload=()=>{r&&a("loaded")},i.onerror=()=>{r&&a("error")},i.crossOrigin=e,i.referrerPolicy=t,i.src=n,o&&(i.srcset=o),()=>{r=!1}}),[e,t,n,o]),i}((0,f.A)({},p,{src:g,srcSet:v})),A=g||v,E=A&&"error"!==w,x=(0,f.A)({},n,{colorDefault:!E,component:u,variant:y}),C=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,d.A)(o,vn,t)})(x),[F,S]=B("img",{className:C.img,elementType:wn,externalForwardedProps:{slots:s,slotProps:{img:(0,f.A)({},p,c.img)}},additionalProps:{alt:o,src:g,srcSet:v,sizes:m},ownerState:x});return D=E?(0,O.jsx)(F,(0,f.A)({},S)):i||0===i?i:A&&o?o[0]:(0,O.jsx)(An,{ownerState:x,className:C.fallback}),(0,O.jsx)(Dn,(0,f.A)({as:u,ownerState:x,className:(0,h.A)(C.root,a),ref:t},b,{children:D}))})),xn=n(1845),Cn=n(3246),Fn=n(5697),Sn=n(4965);const Bn=["onChange","maxRows","minRows","style","value"];function Nn(e){return parseInt(e,10)||0}const kn={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const Mn=r.forwardRef((function(e,t){const{onChange:n,maxRows:o,minRows:i=1,style:a,value:u}=e,s=(0,l.A)(e,Bn),{current:c}=r.useRef(null!=u),h=r.useRef(null),d=(0,y.A)(t,h),p=r.useRef(null),m=r.useCallback((()=>{const t=h.current,n=(0,He.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=p.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const a=n.boxSizing,u=Nn(n.paddingBottom)+Nn(n.paddingTop),s=Nn(n.borderBottomWidth)+Nn(n.borderTopWidth),c=r.scrollHeight;r.value="x";const l=r.scrollHeight;let f=c;i&&(f=Math.max(Number(i)*l,f)),o&&(f=Math.min(Number(o)*l,f)),f=Math.max(f,l);return{outerHeightStyle:f+("border-box"===a?u+s:0),overflowing:Math.abs(f-c)<=1}}),[o,i,e.placeholder]),g=r.useCallback((()=>{const e=m();if(null==(t=e)||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=h.current;n.style.height=`${e.outerHeightStyle}px`,n.style.overflow=e.overflowing?"hidden":""}),[m]);(0,it.A)((()=>{const e=()=>{g()};let t;const n=(0,Sn.A)(e),r=h.current,o=(0,He.A)(r);let i;return o.addEventListener("resize",n),"undefined"!=typeof ResizeObserver&&(i=new ResizeObserver(e),i.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",n),i&&i.disconnect()}}),[m,g]),(0,it.A)((()=>{g()}));return(0,O.jsxs)(r.Fragment,{children:[(0,O.jsx)("textarea",(0,f.A)({value:u,onChange:e=>{c||g(),n&&n(e)},ref:d,rows:i,style:a},s)),(0,O.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,f.A)({},kn,a,{paddingTop:0,paddingBottom:0})})]})}));var In=r.createContext(void 0);function _n(){return r.useContext(In)}var On=n(2778),Tn=n(9839);function Rn(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Pn(e){return(0,I.Ay)("MuiInputBase",e)}var jn=(0,M.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const Ln=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],zn=(0,v.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,N.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]}})((({theme:e,ownerState:t})=>(0,f.A)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jn.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&(0,f.A)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),$n=(0,v.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,r=(0,f.A)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return(0,f.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jn.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${jn.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),qn=(0,O.jsx)(Tn.A,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Kn=r.forwardRef((function(e,t){var n;const o=(0,m.A)({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:u,className:s,components:c={},componentsProps:p={},defaultValue:g,disabled:v,disableInjectingGlobalStyles:y,endAdornment:b,fullWidth:D=!1,id:w,inputComponent:A="input",inputProps:x={},inputRef:C,maxRows:F,minRows:S,multiline:B=!1,name:k,onBlur:M,onChange:I,onClick:_,onFocus:T,onKeyDown:R,onKeyUp:P,placeholder:j,readOnly:L,renderSuffix:z,rows:q,slotProps:K={},slots:W={},startAdornment:U,type:H="text",value:V}=o,X=(0,l.A)(o,Ln),Y=null!=x.value?x.value:V,{current:G}=r.useRef(null!=Y),Z=r.useRef(),J=r.useCallback((e=>{0}),[]),Q=(0,$.A)(Z,C,x.ref,J),[ee,te]=r.useState(!1),ne=_n();const re=function({props:e,states:t,muiFormControl:n}){return t.reduce(((t,r)=>(t[r]=e[r],n&&void 0===e[r]&&(t[r]=n[r]),t)),{})}({props:o,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=ne?ne.focused:ee,r.useEffect((()=>{!ne&&v&&ee&&(te(!1),M&&M())}),[ne,v,ee,M]);const oe=ne&&ne.onFilled,ie=ne&&ne.onEmpty,ae=r.useCallback((e=>{!function(e,t=!1){return e&&(Rn(e.value)&&""!==e.value||t&&Rn(e.defaultValue)&&""!==e.defaultValue)}(e)?ie&&ie():oe&&oe()}),[oe,ie]);(0,On.A)((()=>{G&&ae({value:Y})}),[Y,ae,G]);r.useEffect((()=>{ae(Z.current)}),[]);let ue=A,se=x;B&&"input"===ue&&(se=q?(0,f.A)({type:void 0,minRows:q,maxRows:q},se):(0,f.A)({type:void 0,maxRows:F,minRows:S},se),ue=Mn);r.useEffect((()=>{ne&&ne.setAdornedStart(Boolean(U))}),[ne,U]);const ce=(0,f.A)({},o,{color:re.color||"primary",disabled:re.disabled,endAdornment:b,error:re.error,focused:re.focused,formControl:ne,fullWidth:D,hiddenLabel:re.hiddenLabel,multiline:B,size:re.size,startAdornment:U,type:H}),le=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:a,formControl:u,fullWidth:s,hiddenLabel:c,multiline:l,readOnly:f,size:h,startAdornment:p,type:m}=e,g={root:["root",`color${(0,N.A)(n)}`,r&&"disabled",o&&"error",s&&"fullWidth",a&&"focused",u&&"formControl",h&&"medium"!==h&&`size${(0,N.A)(h)}`,l&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",l&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return(0,d.A)(g,Pn,t)})(ce),fe=W.root||c.Root||zn,he=K.root||p.root||{},de=W.input||c.Input||$n;return se=(0,f.A)({},se,null!=(n=K.input)?n:p.input),(0,O.jsxs)(r.Fragment,{children:[!y&&qn,(0,O.jsxs)(fe,(0,f.A)({},he,!E(fe)&&{ownerState:(0,f.A)({},ce,he.ownerState)},{ref:t,onClick:e=>{Z.current&&e.currentTarget===e.target&&Z.current.focus(),_&&_(e)}},X,{className:(0,h.A)(le.root,he.className,s,L&&"MuiInputBase-readOnly"),children:[U,(0,O.jsx)(In.Provider,{value:null,children:(0,O.jsx)(de,(0,f.A)({ownerState:ce,"aria-invalid":re.error,"aria-describedby":i,autoComplete:a,autoFocus:u,defaultValue:g,disabled:re.disabled,id:w,onAnimationStart:e=>{ae("mui-auto-fill-cancel"===e.animationName?Z.current:{value:"x"})},name:k,placeholder:j,readOnly:L,required:re.required,rows:q,value:Y,onKeyDown:R,onKeyUp:P,type:H},se,!E(de)&&{as:ue,ownerState:(0,f.A)({},ce,se.ownerState)},{ref:Q,className:(0,h.A)(le.input,se.className,L&&"MuiInputBase-readOnly"),onBlur:e=>{M&&M(e),x.onBlur&&x.onBlur(e),ne&&ne.onBlur?ne.onBlur(e):te(!1)},onChange:(e,...t)=>{if(!G){const t=e.target||Z.current;if(null==t)throw new Error((0,Fn.A)(1));ae({value:t.value})}x.onChange&&x.onChange(e,...t),I&&I(e,...t)},onFocus:e=>{re.disabled?e.stopPropagation():(T&&T(e),x.onFocus&&x.onFocus(e),ne&&ne.onFocus?ne.onFocus(e):te(!0))}}))}),b,z?z((0,f.A)({},re,{startAdornment:U})):null]}))]})}));var Wn=Kn;function Un(e){return(0,I.Ay)("MuiInputAdornment",e)}var Hn,Vn=(0,M.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);const Xn=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Yn=(0,v.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,N.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,f.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${Vn.positionStart}&:not(.${Vn.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"}))),Gn=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:a="div",disablePointerEvents:u=!1,disableTypography:s=!1,position:c,variant:p}=n,g=(0,l.A)(n,Xn),v=_n()||{};let y=p;p&&v.variant,v&&!y&&(y=v.variant);const b=(0,f.A)({},n,{hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:u,position:c,variant:y}),D=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:a}=e,u={root:["root",n&&"disablePointerEvents",o&&`position${(0,N.A)(o)}`,a,r&&"hiddenLabel",i&&`size${(0,N.A)(i)}`]};return(0,d.A)(u,Un,t)})(b);return(0,O.jsx)(In.Provider,{value:null,children:(0,O.jsx)(Yn,(0,f.A)({as:a,ownerState:b,className:(0,h.A)(D.root,i),ref:t},g,{children:"string"!=typeof o||s?(0,O.jsxs)(r.Fragment,{children:["start"===c?Hn||(Hn=(0,O.jsx)("span",{className:"notranslate",children:"​"})):null,o]}):(0,O.jsx)(pn,{color:"text.secondary",children:o})}))})}));var Zn=Gn;function Jn(e){let{title:t,value:n,onChange:o,startIcon:i,autoComplete:a,type:u="text"}=e;return r.createElement(c.A,{sx:{p:1}},r.createElement(c.A,null,r.createElement(pn,null,t)),r.createElement(c.A,null,r.createElement(Wn,{sx:{backgroundColor:"inputBg.main",p:.5,borderRadius:2},required:!0,type:u,autoComplete:a,value:n,onChange:o,startAdornment:r.createElement(Zn,{position:"start"},i)})))}function Qn(e){let{title:t,email:n,onChange:o}=e;return r.createElement(Jn,{title:t,value:n,type:"email",autoComplete:"email",onChange:o,startIcon:r.createElement(xn.A,null)})}function er(e){let{title:t,password:n,onChange:o}=e;return r.createElement(Jn,{title:t,type:"password",autoComplete:"current-password",value:n,onChange:o,startIcon:r.createElement(Cn.A,null)})}const tr={password1:"",password2:"",email:"",isPasswordsCorrect:!1,openSignUp:!1};function nr(e,t){switch(t.type){case"openSignUp":return{password1:"",password2:"",email:"",isPasswordsCorrect:null,openSignUp:!0};case"closeSignUp":return{...e,openSignUp:!1};case"changePassword":case"changePassword1":return{...e,password1:t.password,isPasswordsCorrect:""!==e.password2&&""!==t.password&&e.password2===t.password};case"changePassword2":return{...e,password2:t.password,isPasswordsCorrect:""!==e.password1&&""!==t.password&&e.password1===t.password};case"changeEmail":return{...e,email:t.email};default:throw new Error(`invalid action ${t.type}`)}}const rr=r.forwardRef((function(e,t){return r.createElement(un,Object.assign({ref:t},e))}));function or(e){const{0:t,1:n}=(0,r.useReducer)(nr,tr),i=e.authState;function a(e){n({type:"changeEmail",email:e.target.value})}function u(e){n({type:"changePassword1",password:e.target.value})}function s(n){n.preventDefault(),e.handleSignUp(t.email,t.password1)}function l(n){n.preventDefault(),e.handleSignIn(t.email,t.password1)}return r.createElement(o.A,{maxWidth:"xs"},r.createElement(c.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"xs",px:"auto",borderRadius:"16px 16px 0px 0px",backgroundColor:"background.paper"}},r.createElement(En,{sx:{m:1,bgcolor:"secondary.main"}},r.createElement(mn.A,null)),r.createElement(pn,{component:"h1",variant:"h5"},"サインイン"),r.createElement(c.A,{component:"form",onSubmit:l,sx:{m:1,width:"xs",display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(Qn,{id:"email0",title:"E-Mail",value:t.email,onChange:a}),r.createElement(er,{id:"password0",title:"パスワード",value:t.password1,onChange:u}),r.createElement(rn,{variant:"contained",disabled:"waiting"===i.state||""===t.email||""===t.password1,fullWidth:!0,onClick:l,type:"submit"},"サインイン"),r.createElement(rn,{variant:"text",onClick:()=>n({type:"openSignUp"})},"新規登録")),r.createElement(c.A,null,i.errorCode&&r.createElement(je,{severity:"error"},i.errorCode))),r.createElement(Wt,{fullScreen:!0,open:t.openSignUp,onClose:()=>n({type:"closeSignUp"}),TransitionComponent:rr},r.createElement(o.A,{maxWidth:"xs"},r.createElement(c.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"xs",px:"auto",borderRadius:"16px 16px 0px 0px",backgroundColor:"background.paper"}},r.createElement(En,{sx:{m:1,bgcolor:"secondary.main"}},r.createElement(mn.A,null)),r.createElement(pn,{component:"h1",variant:"h5"},"新規登録"),r.createElement(c.A,{component:"form",onSubmit:s,sx:{m:1,width:"xs",display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(Qn,{title:"E-Mail",id:"email1",value:t.email,onChange:a}),r.createElement(er,{id:"password1",title:"パスワード",value:t.password1,onChange:u}),r.createElement(er,{id:"password2",title:"パスワード(確認)",value:t.password2,onChange:function(e){n({type:"changePassword2",password:e.target.value})}}),r.createElement(rn,{onClick:s,disabled:!t.isPasswordsCorrect||"waiting"===e.authState,fullWidth:!0,type:"submit",variant:"contained"},"新規登録"),r.createElement(rn,{onClick:()=>n({type:"closeSignUp"})},"サインイン")),r.createElement(c.A,null,i.error&&r.createElement(je,{severity:"error"},i.error))))))}var ir=n(790);function ar(e){return(0,I.Ay)("MuiImageList",e)}(0,M.A)("MuiImageList",["root","masonry","quilted","standard","woven"]);var ur=r.createContext({});const sr=["children","className","cols","component","rowHeight","gap","style","variant"],cr=(0,v.Ay)("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})((({ownerState:e})=>(0,f.A)({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},"masonry"===e.variant&&{display:"block"})));var lr=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiImageList"}),{children:o,className:i,cols:a=2,component:u="ul",rowHeight:s="auto",gap:c=4,style:p,variant:g="standard"}=n,v=(0,l.A)(n,sr),y=r.useMemo((()=>({rowHeight:s,gap:c,variant:g})),[s,c,g]);r.useEffect((()=>{0}),[]);const b="masonry"===g?(0,f.A)({columnCount:a,columnGap:c},p):(0,f.A)({gridTemplateColumns:`repeat(${a}, 1fr)`,gap:c},p),D=(0,f.A)({},n,{component:u,gap:c,rowHeight:s,variant:g}),w=(e=>{const{classes:t,variant:n}=e,r={root:["root",n]};return(0,d.A)(r,ar,t)})(D);return(0,O.jsx)(cr,(0,f.A)({as:u,className:(0,h.A)(w.root,w[g],i),ref:t,style:b,ownerState:D},v,{children:(0,O.jsx)(ur.Provider,{value:y,children:o})}))})),fr=(n(4363),n(5602));function hr(e){return(0,I.Ay)("MuiImageListItem",e)}var dr=(0,M.A)("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]);const pr=["children","className","cols","component","rows","style"],mr=(0,v.Ay)("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${dr.img}`]:t.img},t.root,t[n.variant]]}})((({ownerState:e})=>(0,f.A)({display:"block",position:"relative"},"standard"===e.variant&&{display:"flex",flexDirection:"column"},"woven"===e.variant&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${dr.img}`]:(0,f.A)({objectFit:"cover",width:"100%",height:"100%",display:"block"},"standard"===e.variant&&{height:"auto",flexGrow:1})})));var gr=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiImageListItem"}),{children:o,className:i,cols:a=1,component:u="li",rows:s=1,style:c}=n,p=(0,l.A)(n,pr),{rowHeight:g="auto",gap:v,variant:y}=r.useContext(ur);let b="auto";"woven"===y?b=void 0:"auto"!==g&&(b=g*s+v*(s-1));const D=(0,f.A)({},n,{cols:a,component:u,gap:v,rowHeight:g,rows:s,variant:y}),w=(e=>{const{classes:t,variant:n}=e,r={root:["root",n],img:["img"]};return(0,d.A)(r,hr,t)})(D);return(0,O.jsx)(mr,(0,f.A)({as:u,className:(0,h.A)(w.root,w[y],i),ref:t,style:(0,f.A)({height:b,gridColumnEnd:"masonry"!==y?`span ${a}`:void 0,gridRowEnd:"masonry"!==y?`span ${s}`:void 0,marginBottom:"masonry"===y?v:void 0,breakInside:"masonry"===y?"avoid":void 0},c),ownerState:D},p,{children:r.Children.map(o,(e=>r.isValidElement(e)?"img"===e.type||(0,fr.A)(e,["Image"])?r.cloneElement(e,{className:(0,h.A)(w.img,e.props.className)}):e:null))}))}));function vr(e){let{avatarDir:t,avatarDirs:n,handleChangeAvatarDir:o}=e;return r.createElement(lr,{sx:{width:300,height:170},cols:3,rowHeight:164},n.map((e=>r.createElement(gr,{key:e,onClick:()=>{o(e)},sx:{border:e===t?"4px solid":"none",borderColor:"primary.main"}},r.createElement("img",{src:`../../user/avatar/${e}/peace.svg`,alt:e,style:{width:120,height:180},loading:"lazy"})))))}var yr=n(4017);function br(e){let{bgColor:t,...n}=e;return r.createElement(xe,Object.assign({sx:{backgroundColor:t,"&:hover":{backgroundColor:t},mx:"2px"}},n))}function Dr(e){let{title:t,palette:n,value:o,handleChangeValue:i}=e;return r.createElement(c.A,{sx:{display:"flex",flexDirection:"column"}},r.createElement(c.A,null,r.createElement(pn,null,t)),r.createElement(c.A,{sx:{display:"flex",flexDirection:"row"}},n.map(((e,t)=>r.createElement(br,{key:t,bgColor:e,size:"small",onClick:t=>i(e)},r.createElement(yr.A,{sx:{color:e===o?"#ffffff":"transparent"}}))))))}function wr(e){let{user:t,panelWidth:n}=e;const o=n,i=4*o/3,a=t?`/user/avatar/${t.avatarDir}/peace.svg`:"";return r.createElement(c.A,{sx:{width:o,height:i},position:"relative"},r.createElement(c.A,{sx:{width:o,height:o,borderRadius:"100% 0% 0% 100% / 100% 100% 0% 0%",backgroundColor:t?t.backgroundColor:"#EEEEEE"},position:"absolute",bottom:0,right:0}),r.createElement(c.A,{sx:{width:o,height:i,p:0,m:0},position:"absolute",bottom:0,right:0},r.createElement("img",{style:{width:o,height:i},src:(0,s.withPrefix)(a),alt:(0,s.withPrefix)(a)})))}const Ar={displayName:"",avatarDir:"",backgroundColor:""};function Er(e,t){switch(t.type){case"changeUserProps":return{...e,avatarDir:t.avatarDir,backgroundColor:t.backgroundColor};case"changeDisplayName":return{...e,displayName:t.displayName};case"changeAvatarDir":return{...e,avatarDir:t.avatarDir};case"changeBackgroundColor":return{...e,backgroundColor:t.backgroundColor};default:throw new Error(`invalid action ${t.type}`)}}function xr(e){let{authState:t,handleChangeUserSettings:n,handleSignOut:o}=e;const{user:i,userProps:a,errorCode:u}=t,{0:l,1:f}=(0,r.useReducer)(Er,Ar),h=(0,s.useStaticQuery)("2910646418"),d=(0,r.useRef)(h.site.siteMetadata.backgroundColorPalette),p=(0,r.useRef)(h.allFile.nodes.map((e=>e.relativeDirectory)));return(0,r.useEffect)((()=>{i.displayName&&f({type:"changeDisplayName",displayName:i.displayName})}),[i.displayName]),(0,r.useEffect)((()=>{f({type:"changeAvatarDir",avatarDir:a.avatarDir||p.current[0]})}),[a.avatarDir]),(0,r.useEffect)((()=>{f({type:"changeBackgroundColor",backgroundColor:a.backgroundColor||d.current[0]})}),[a.backgroundColor]),r.createElement(c.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"xs",px:"auto",borderRadius:"16px 16px 0px 0px",backgroundColor:"background.paper"}},r.createElement(pn,{component:"h1",variant:"h5"},"ユーザ設定"),r.createElement(c.A,{component:"form",onSubmit:function(e){e.preventDefault(),n({displayName:l.displayName,avatarDir:l.avatarDir,backgroundColor:l.backgroundColor})},id:"user-settings",sx:{m:1,width:"xs",display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(c.A,null,r.createElement(wr,{user:{backgroundColor:l.backgroundColor,avatarDir:l.avatarDir},panelWidth:200})),r.createElement(c.A,null,r.createElement(vr,{avatarDirs:p.current,avatarDir:l.avatarDir,handleChangeAvatarDir:e=>f({type:"changeAvatarDir",avatarDir:e})})),r.createElement(c.A,null,r.createElement(Jn,{title:"ユーザの名前",id:"userSettings-name",value:l.displayName,onChange:e=>f({type:"changeDisplayName",displayName:e.target.value}),startIcon:r.createElement(ir.A,null)})),r.createElement(c.A,null,r.createElement(Dr,{title:"背景色",palette:d.current,value:l.backgroundColor,handleChangeValue:e=>f({type:"changeBackgroundColor",backgroundColor:e})})),r.createElement(c.A,null,u&&r.createElement(je,{severity:"error"},u)),r.createElement(c.A,{sx:{p:1}},r.createElement(rn,{variant:"contained",disabled:"UserSettingsDialog:waiting"===t||""===l.displayName,type:"submit"},"OK")),r.createElement(c.A,{sx:{p:1}},r.createElement(rn,{variant:"text",size:"small",onClick:o},"サインアウト"))))}const Cr=(0,r.createContext)(),Fr={disconnected:"firebaseに接続できませんでした","configuration-not-found":"firebaseのmail/password認証を有効にしてください","invalid-login-credentials":"ユーザが登録されていません","email-already-in-use":"ユーザは登録済みです","Missing or insufficient permissions":"firestoreのルールを読み書き可能に変更してください"},Sr={auth:void 0,user:void 0,userProps:{backgroundColor:"#cccccc",avatarDir:"",avatar:"peace"},authState:"init",error:void 0};function Br(e,t){switch(console.log("authProvider",t,e.error),t.type){case"connect":{const e=t.auth;return e?{...Sr,auth:e,authState:"connected"}:{...Sr,auth:!1,authState:"disconnected",error:Fr.disconnected}}case"authStateChange":{const n=t.user;return n?{...e,user:n,authState:"signedIn",error:null}:{...e,user:!1,authState:"SignDialog:open"}}case"userPropsChange":{const n=t.userProps;return n?{...e,userProps:{...n,avatar:"peace"},authState:"ready",error:null}:{...e,userProps:{...Sr.userProps},authState:"UserSettingsDialog:open"}}case"SignDialog:open":return{...e,authState:"SignDialog:open",error:null};case"SignDialog:waiting":return{...e,authState:"SignDialog:waiting"};case"UserSettingsDialog:open":return{...e,authState:"UserSettingsDialog:open",error:null};case"UserSettingsDialog:waiting":return{...e,authState:"UserSettingsDialog:waiting"};case"UserSettingsDialog:updated":return{...e,userProps:{...t.userProps,avatar:"peace"},authState:"UserSettingsDialog:updated",error:null};case"error":return{...e,error:Fr[t.errorCode]||t.errorCode};default:throw new Error(`invalid action ${t.type}`)}}function Nr(e){var t,n,o,a;let{firebase:s,firestore:c,children:l}=e;const{0:f,1:h}=(0,r.useReducer)(Br,Sr),d=(0,r.useRef)(),p=null===(t=f.user)||void 0===t?void 0:t.uid;function m(){h({type:"SignDialog:waiting"}),(0,i.C)(f.auth)}(0,r.useEffect)((()=>{if(s){const e=(0,i.o)(s);h({type:"connect",auth:e}),d.current=(0,i.y)(e,(e=>{console.log("onauthStateChanged",e),h({type:"authStateChange",user:e})}))}return()=>{d.current&&d.current()}}),[s]),(0,r.useEffect)((()=>{let e=null;if(p){const t=(0,u.H9)(c,"users",p);e=(0,u.aQ)(t,(e=>{if(e.exists()){const t=e.data();t.backgroundColor===f.userProps.backgroundColor&&t.avatarDir===f.userProps.avatarDir||h({type:"userPropsChange",userProps:t})}}),(e=>{h({type:"error",errorCode:e.message})}))}return()=>{e&&e()}}),[p,c,f.user,f.userProps]);const g=f.authState;return r.createElement(Cr.Provider,{value:{user:{avatar:f.userProps.avatar,avatarDir:f.userProps.avatarDir,backgroundColor:f.userProps.backgroundColor,displayName:null===(n=f.user)||void 0===n?void 0:n.displayName,uid:null===(o=f.user)||void 0===o?void 0:o.uid},uid:null===(a=f.user)||void 0===a?void 0:a.uid,handleSignOut:m}},"ready"===g?l:g.startsWith("SignDialog")?r.createElement(or,{authState:f,handleSignOut:m,handleSignUp:function(e,t){h({type:"SignDialog:waiting"}),(0,i.aa)(f.auth,e,t).then().catch((e=>{h({type:"error",errorCode:e.message})}))},handleSignIn:function(e,t){(0,i.ab)(f.auth,e,t).then((e=>{console.log(e),h({type:"authStateChange",user:e.user})})).catch((e=>{h({type:"error",errorCode:e.message})}))}}):g.startsWith("UserSettingsDialog")?r.createElement(xr,{authState:f,handleSignOut:m,handleChangeUserSettings:function(e){h({type:"UserSettingsDialog:waiting"}),(0,i.ak)(f.auth.currentUser,{displayName:e.displayName}).then((()=>{const t=(0,u.H9)(c,"users",p);(0,u.BN)(t,{backgroundColor:e.backgroundColor,avatarDir:e.avatarDir}).then((()=>{h({})})).catch((e=>{h({type:"error",errorCode:e.message})}))})).catch((e=>{h({type:"error",errorCode:e.message})}))}}):r.createElement(Le,{authState:f}))}var kr=n(4506);let Mr=function(){function e(e,t){void 0===e&&(e=1),void 0===t&&(t=1),this.max_vertices=256,this.max_vertices_mask=this.max_vertices-1,this.amplitude=e,this.scale=t,this.r=[];for(let n=0;n<this.max_vertices;n++)this.r.push(Math.random())}var t=e.prototype;return t.setAmplitude=function(e){this.aplitude=e},t.setScale=function(e){this.scale=e},t.getValue=function(e){const t=e*this.scale,n=Math.floor(t),r=t-n,o=r*r*(3-2*r),i=n&this.max_vertices_mask,a=i+1&this.max_vertices_mask;const u=function(e,t,n){return e*(1-n)+t*n}(this.r[i],this.r[a],o);return u*this.amplitude},e}(),Ir=function(){function e(e,t){let{user:n,bot:r,cue:o,ecosys:i,timestamp:a}=t;e?"object"==typeof e?(this.text=e.text,this.kind=e.kind,this.avatarDir=e.avatarDir,this.ownerId=e.uid,this.backgroundColor=e.backgroundColor,this.displayName=e.displayName,this.ecoState=e.ecoState,this.timestamp=e.timestamp):(this.timestamp=a||new Date,this.text=e,r?(this.kind="bot",this.avatarDir=r.avatarDir,this.ownerId=r.ownerId,this.avatar=r.avatar,this.displayName=r.displayName,this.backgroundColor=r.backgroundColor,this.ecoState=i||null):n?(this.kind="user",this.avatarDir=n.avatarDir,this.avatar=n.avatar,this.ownerId=n.uid,this.backgroundColor=n.backgroundColor,this.displayName=n.displayName,this.ecoState=i||null):!0===o?(this.kind="cue",this.avatarDir=null,this.ownerId=null,this.avatar=null,this.backgroundColor=null,this.displayName=null,this.ecoState=null):(this.kind="system",this.avatarDir=null,this.ownerId=null,this.avatar=null,this.backgroundColor=null,this.displayName=null,this.ecoState=null)):(this.text="",this.kind="",this.avatarDir=null,this.backgroundColor=null,this.displayName=null,this.ecoState=null,this.timestamp=new Date)}return e.prototype.toObject=function(){return{text:this.text,kind:this.kind,avatarDir:this.avatarDir,ownerId:this.ownerId,avatar:this.avatar,backgroundColor:this.backgroundColor,displayName:this.displayName,ecoState:this.ecoState,timestamp:this.timestamp}},e}();const _r={sunset:{earliest:{date:[12,7],time:[17,0]},latest:{date:[7,7],time:[19,0]}},sunrise:{earliest:{date:[6,7],time:[5,0]},latest:{date:[1,7],time:[7,0]}}};function Or(e){void 0===e&&(e=null),e||=new Date;const t=new Intl.DateTimeFormat("jp",{dateStyle:"medium"}).format(e).replaceAll("/","-"),n=new Date(`${t}T12:00:00+09:00`).valueOf(),r=function(e){const t=e.toLocaleDateString().slice(0,4),n=_r.sunrise.latest,r=_r.sunrise.earliest,o=String(n.date[0]).padStart(2,"0"),i=String(n.date[1]).padStart(2,"0"),a=String(n.time[0]).padStart(2,"0"),u=String(n.time[1]).padStart(2,"0"),s=`${t}-${o}-${i}T${a}:${u}:00+09:00`,c=new Date(Date.parse(s)),l=-Math.cos(Tr(e)-Tr(c)),f=60*n.time[0]+n.time[1],h=60*r.time[0]+r.time[1],d=(h-f)/2*l+(h+f)/2,p=new Date(e);return p.setHours(0,d,0),p}(e).valueOf(),o=function(e){const t=e.toLocaleDateString().slice(0,4),n=_r.sunset.latest,r=_r.sunset.earliest,o=String(n.date[0]).padStart(2,"0"),i=String(n.date[1]).padStart(2,"0"),a=String(n.time[0]).padStart(2,"0"),u=String(n.time[1]).padStart(2,"0"),s=`${t}-${o}-${i}T${a}:${u}:00+09:00`,c=new Date(Date.parse(s)),l=-Math.cos(Tr(e)-Tr(c)),f=60*n.time[0]+n.time[1],h=60*r.time[0]+r.time[1],d=(h-f)/2*l+(h+f)/2,p=new Date(e);return p.setHours(0,d,0),p}(e).valueOf();return[{ts:new Date(n-432e5),name:"MIDNIGHT"},{ts:new Date(r-36e5),name:"DAWN"},{ts:new Date(r-6e5),name:"SUNRISE"},{ts:new Date(r+6e5),name:"MORNING"},{ts:new Date(r+72e5),name:"LATE_MORNING"},{ts:new Date(n-36e5),name:"NOON"},{ts:new Date(n+36e5),name:"AFTERNOON"},{ts:new Date(o-36e5),name:"EVENING"},{ts:new Date(o-6e5),name:"SUNSET"},{ts:new Date(o+6e5),name:"DUSK"},{ts:new Date(o+36e5),name:"NIGHT"},{ts:new Date(n+432e5),name:"MIDNIGHT"}]}function Tr(e){if(!e)return NaN;"object"==typeof e&&"seconds"in e&&(e=new Date(1e3*e.seconds));const t=e.toLocaleDateString().slice(0,4),n=new Date(`${t}-01-01T00:00:00+09:00`);return(e-n)/(new Date(`${t}-12-31T23:59:59.999+09:00`)-n)*2*Math.PI}const Rr=(0,r.createContext)(),Pr=12e4,jr={BLZ:"BLIZZARDY",SNW:"SNOWY",CLO:"CLOUDY",SUN:"SUNNY",CLE:"CLEAR",FOG:"FOGGY",RAI:"RAINY",STM:"STORMY"},Lr=["BLZ SNW SNW CLO CLO SUN CLE CLE","BLZ SNW SNW SNW CLO CLO SUN CLE","RAI RAI FOG CLO CLO SUN SUN CLE","RAI CLO CLO CLO CLO SUN CLE CLE","RAI RAI CLO CLO SUN SUN CLE CLE","STM RAI RAI RAI CLO CLO CLO SUN","STM RAI RAI CLO CLO SUN CLE CLE","STM STM RAI RAI CLO SUN CLE CLE","STM RAI CLO CLO CLO SUN CLE CLE","RAI RAI RAI CLO CLO SUN CLE CLE","SNW RAI RAI CLO CLO SUN CLE CLE","BLZ SNW RAI RAI CLO CLO SUN CLE"].map((e=>e.split(" ").map((e=>jr[e])))),zr={weather:"",location:"ROOM",dayState:"",todayCycle:[],lastAccessAt:new Date(1),logRef:null,noise:new Mr(1,1e-7),channel:null,run:!1};function $r(e,t){switch(console.log("Ecosystem ",t),t.type){case"setChannel":return{...e,channel:t.channel};case"setLastAccessAt":return{...e,lastAccessAt:t.lastAccessAt};case"setLogRef":return{...e,logRef:t.logRef};case"setTodayCycle":return{...e,todayCycle:(0,kr.A)(t.todayCycle)};case"setDayState":return{...e,dayState:t.dayState};case"setWeather":return{...e,weather:t.weather};case"run":return{...e,run:!0};case"stop":return{...e,run:!1};default:throw new Error(`invalid action ${t}`)}}function qr(e){let{firestore:t,children:n}=e;const{0:o,1:i}=(0,r.useReducer)($r,zr),{0:a,1:s}=(0,r.useState)([]),c=(0,r.useContext)(Cr);function l(e){const t=new Ir(e,{ecoState:!0}).toObject();o.channel.postMessage({type:"input",message:t}),(0,u.gS)(o.logRef,t)}return(0,r.useEffect)((()=>{let e;return o.channel||(e=new BroadcastChannel("biomebot"),i({type:"setChannel",channel:e})),()=>{e&&e.close()}}),[o.channel]),(0,r.useEffect)((()=>{if(c.uid&&t){let e;e="ROOM"===o.lcation?(0,u.rJ)(t,"users",c.uid,"log"):(0,u.rJ)(t,"public",o.location,"log"),i({type:"setLogRef",logRef:e});let n=null;const r=(0,u.P)(e,(0,u.My)("timestamp","desc"),(0,u.AB)(20));return n=(0,u.aQ)(r,(e=>{const t=[];e.forEach((e=>{const n=e.data();t.push({...n,id:e.id,timestamp:n.timestamp?n.timestamp.toDate():""})})),s(t),0!==t.length&&i({type:"setlastAccessAt",lastAccessAt:t[0].timestamp})})),()=>{n&&(console.log("unsubscribed"),n())}}}),[c.uid,t,o.location]),function(e,t){const n=(0,r.useRef)((()=>{}));(0,r.useEffect)((()=>{n.current=e}),[e]),(0,r.useEffect)((()=>{if(null!==t){const e=setInterval((()=>n.current()),t||0);return()=>clearInterval(e)}}),[t])}((()=>{const e=(new Date).toLocaleDateString().split("/")[1],t=Lr[e][Math.round(7*o.noise.getValue())];let n;t!==o.weather&&(l(`{ECOSYSTEM_START_${t}}`),i({type:"setWeather",weather:t})),!function(e){const t=new Date;return e.toLocaleDateString()===t.toLocaleDateString()}(o.lastAccessAt)?n=o.todayCycle:(n=Or(),i({type:"setTodayCycle",todayCycle:n}));const r=function(e,t,n){t||=Or(),n||=new Date;let r={ts:e,name:"invalid"};for(const o of t){if(r.ts<n&&n<o.ts)return r.name;r=o}return null}(o.lastAccessAt,n);r&&(l(`{ECOSYSTEM_START_${r}}`),i({type:"setDayState",event:r}))}),o.run?Pr:null),r.createElement(Rr.Provider,{value:{weather:o.weather,location:o.location,dayState:o.dayState,ecoState:`{ECOSYS_${o.weather}}{ECOSYS_${o.location}`,log:a,run:()=>i({type:"run"}),stop:()=>i({type:"stop"})}},n)}var Kr=n(3744);const Wr=Symbol.for("Dexie"),Ur=globalThis[Wr]||(globalThis[Wr]=Kr);if(Kr.semVer!==Ur.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Kr.semVer} and ${Ur.semVer}`);const{liveQuery:Hr,mergeRanges:Vr,rangesOverlap:Xr,RangeSet:Yr,cmp:Gr,Entity:Zr,PropModSymbol:Jr,PropModification:Qr,replacePrefix:eo,add:to,remove:no}=Ur;var ro=Ur,oo=n(4634),io={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},ao=["Matrix","Array"],uo=["number","BigNumber","Fraction"];var so=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(io)};oo(so,io,{MATRIX_OPTIONS:ao,NUMBER_OPTIONS:uo});var co,lo,fo=9e15,ho=1e9,po="0123456789abcdef",mo="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",go="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",vo={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-fo,maxE:fo,crypto:!1},yo=!0,bo="[DecimalError] ",Do=bo+"Invalid argument: ",wo=bo+"Precision limit exceeded",Ao=bo+"crypto unavailable",Eo="[object Decimal]",xo=Math.floor,Co=Math.pow,Fo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,So=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Bo=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,No=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ko=1e7,Mo=7,Io=mo.length-1,_o=go.length-1,Oo={toStringTag:Eo};function To(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)r=e[t]+"",(n=Mo-r.length)&&(i+=Ho(n)),i+=r;a=e[t],(n=Mo-(r=a+"").length)&&(i+=Ho(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return i+a}function Ro(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Do+e)}function Po(e,t,n,r){var o,i,a,u;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=Mo,o=0):(o=Math.ceil((t+1)/Mo),t%=Mo),i=Co(10,Mo-t),u=e[o]%i|0,null==r?t<3?(0==t?u=u/100|0:1==t&&(u=u/10|0),a=n<4&&99999==u||n>3&&49999==u||5e4==u||0==u):a=(n<4&&u+1==i||n>3&&u+1==i/2)&&(e[o+1]/i/100|0)==Co(10,t-2)-1||(u==i/2||0==u)&&!(e[o+1]/i/100|0):t<4?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),a=(r||n<4)&&9999==u||!r&&n>3&&4999==u):a=((r||n<4)&&u+1==i||!r&&n>3&&u+1==i/2)&&(e[o+1]/i/1e3|0)==Co(10,t-3)-1,a}function jo(e,t,n){for(var r,o,i=[0],a=0,u=e.length;a<u;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=po.indexOf(e.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}Oo.absoluteValue=Oo.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),zo(e)},Oo.ceil=function(){return zo(new this.constructor(this),this.e+1,2)},Oo.clampedTo=Oo.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Do+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},Oo.comparedTo=Oo.cmp=function(e){var t,n,r,o,i=this,a=i.d,u=(e=new i.constructor(e)).d,s=i.s,c=e.s;if(!a||!u)return s&&c?s!==c?s:a===u?0:!a^s<0?1:-1:NaN;if(!a[0]||!u[0])return a[0]?s:u[0]?-c:0;if(s!==c)return s;if(i.e!==e.e)return i.e>e.e^s<0?1:-1;for(t=0,n=(r=a.length)<(o=u.length)?r:o;t<n;++t)if(a[t]!==u[t])return a[t]>u[t]^s<0?1:-1;return r===o?0:r>o^s<0?1:-1},Oo.cosine=Oo.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Mo,r.rounding=1,n=function(e,t){var n,r,o;if(t.isZero())return t;r=t.d.length,r<32?o=(1/ni(4,n=Math.ceil(r/3))).toString():(n=16,o="2.3283064365386962890625e-10");e.precision+=n,t=ti(e,1,t.times(o),new e(1));for(var i=n;i--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,ri(r,n)),r.precision=e,r.rounding=t,zo(2==lo||3==lo?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Oo.cubeRoot=Oo.cbrt=function(){var e,t,n,r,o,i,a,u,s,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(yo=!1,(i=l.s*Co(l.s*l,1/3))&&Math.abs(i)!=1/0?r=new f(i.toString()):(n=To(l.d),(i=((e=l.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=Co(n,1/3),e=xo((e+1)/3)-(e%3==(e<0?-1:2)),(r=new f(n=i==1/0?"5e"+e:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),a=(e=f.precision)+3;;)if(c=(s=(u=r).times(u).times(u)).plus(l),r=Lo(c.plus(l).times(u),c.plus(s),a+2,1),To(u.d).slice(0,a)===(n=To(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(zo(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!o&&(zo(u,e+1,0),u.times(u).times(u).eq(l))){r=u;break}a+=4,o=1}return yo=!0,zo(r,e,f.rounding,t)},Oo.decimalPlaces=Oo.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-xo(this.e/Mo))*Mo,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Oo.dividedBy=Oo.div=function(e){return Lo(this,new this.constructor(e))},Oo.dividedToIntegerBy=Oo.divToInt=function(e){var t=this.constructor;return zo(Lo(this,new t(e),0,1,1),t.precision,t.rounding)},Oo.equals=Oo.eq=function(e){return 0===this.cmp(e)},Oo.floor=function(){return zo(new this.constructor(this),this.e+1,3)},Oo.greaterThan=Oo.gt=function(e){return this.cmp(e)>0},Oo.greaterThanOrEqualTo=Oo.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Oo.hyperbolicCosine=Oo.cosh=function(){var e,t,n,r,o,i=this,a=i.constructor,u=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return u;n=a.precision,r=a.rounding,a.precision=n+Math.max(i.e,i.sd())+4,a.rounding=1,(o=i.d.length)<32?t=(1/ni(4,e=Math.ceil(o/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=ti(a,1,i.times(t),new a(1),!0);for(var s,c=e,l=new a(8);c--;)s=i.times(i),i=u.minus(s.times(l.minus(s.times(l))));return zo(i,a.precision=n,a.rounding=r,!0)},Oo.hyperbolicSine=Oo.sinh=function(){var e,t,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,(r=o.d.length)<3)o=ti(i,2,o,o,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,o=ti(i,2,o=o.times(1/ni(5,e)),o,!0);for(var a,u=new i(5),s=new i(16),c=new i(20);e--;)a=o.times(o),o=o.times(u.plus(a.times(s.times(a).plus(c))))}return i.precision=t,i.rounding=n,zo(o,t,n,!0)},Oo.hyperbolicTangent=Oo.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Lo(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},Oo.inverseCosine=Oo.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),o=n.precision,i=n.rounding;return-1!==r?0===r?t.isNeg()?Wo(n,o,i):new n(0):new n(NaN):t.isZero()?Wo(n,o+4,i).times(.5):(n.precision=o+6,n.rounding=1,t=t.asin(),e=Wo(n,o+4,i).times(.5),n.precision=o,n.rounding=i,e.minus(t))},Oo.inverseHyperbolicCosine=Oo.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,yo=!1,n=n.times(n).minus(1).sqrt().plus(n),yo=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Oo.inverseHyperbolicSine=Oo.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,yo=!1,n=n.times(n).plus(1).sqrt().plus(n),yo=!0,r.precision=e,r.rounding=t,n.ln())},Oo.inverseHyperbolicTangent=Oo.atanh=function(){var e,t,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=i.precision,t=i.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?zo(new i(o),e,t,!0):(i.precision=n=r-o.e,o=Lo(o.plus(1),new i(1).minus(o),n+e,1),i.precision=e+4,i.rounding=1,o=o.ln(),i.precision=e,i.rounding=t,o.times(.5))):new i(NaN)},Oo.inverseSine=Oo.asin=function(){var e,t,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,r=i.rounding,-1!==t?0===t?((e=Wo(i,n+4,r).times(.5)).s=o.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))},Oo.inverseTangent=Oo.atan=function(){var e,t,n,r,o,i,a,u,s,c=this,l=c.constructor,f=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=_o)return(a=Wo(l,f+4,h).times(.25)).s=c.s,a}else{if(!c.s)return new l(NaN);if(f+4<=_o)return(a=Wo(l,f+4,h).times(.5)).s=c.s,a}for(l.precision=u=f+10,l.rounding=1,e=n=Math.min(28,u/Mo+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(yo=!1,t=Math.ceil(u/Mo),r=1,s=c.times(c),a=new l(c),o=c;-1!==e;)if(o=o.times(s),i=a.minus(o.div(r+=2)),o=o.times(s),void 0!==(a=i.plus(o.div(r+=2))).d[t])for(e=t;a.d[e]===i.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),yo=!0,zo(a,l.precision=f,l.rounding=h,!0)},Oo.isFinite=function(){return!!this.d},Oo.isInteger=Oo.isInt=function(){return!!this.d&&xo(this.e/Mo)>this.d.length-2},Oo.isNaN=function(){return!this.s},Oo.isNegative=Oo.isNeg=function(){return this.s<0},Oo.isPositive=Oo.isPos=function(){return this.s>0},Oo.isZero=function(){return!!this.d&&0===this.d[0]},Oo.lessThan=Oo.lt=function(e){return this.cmp(e)<0},Oo.lessThanOrEqualTo=Oo.lte=function(e){return this.cmp(e)<1},Oo.logarithm=Oo.log=function(e){var t,n,r,o,i,a,u,s,c=this,l=c.constructor,f=l.precision,h=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10==0;)o/=10;i=1!==o}if(yo=!1,a=Zo(c,u=f+5),r=t?Ko(l,u+10):Zo(e,u),Po((s=Lo(a,r,u,1)).d,o=f,h))do{if(a=Zo(c,u+=10),r=t?Ko(l,u+10):Zo(e,u),s=Lo(a,r,u,1),!i){+To(s.d).slice(o+1,o+15)+1==1e14&&(s=zo(s,f+1,0));break}}while(Po(s.d,o+=10,h));return yo=!0,zo(s,f,h)},Oo.minus=Oo.sub=function(e){var t,n,r,o,i,a,u,s,c,l,f,h,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new p(e.d||d.s!==e.s?d:NaN):e=new p(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,h=e.d,u=p.precision,s=p.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new p(3===s?-0:0);e=new p(d)}return yo?zo(e,u,s):e}if(n=xo(e.e/Mo),l=xo(d.e/Mo),c=c.slice(),i=l-n){for((f=i<0)?(t=c,i=-i,a=h.length):(t=h,n=l,a=c.length),i>(r=Math.max(Math.ceil(u/Mo),a)+2)&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for((f=(r=c.length)<(a=h.length))&&(a=r),r=0;r<a;r++)if(c[r]!=h[r]){f=c[r]<h[r];break}i=0}for(f&&(t=c,c=h,h=t,e.s=-e.s),a=c.length,r=h.length-a;r>0;--r)c[a++]=0;for(r=h.length;r>i;){if(c[--r]<h[r]){for(o=r;o&&0===c[--o];)c[o]=ko-1;--c[o],c[r]+=ko}c[r]-=h[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=qo(c,n),yo?zo(e,u,s):e):new p(3===s?-0:0)},Oo.modulo=Oo.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?zo(new r(n),r.precision,r.rounding):(yo=!1,9==r.modulo?(t=Lo(n,e.abs(),0,3,1)).s*=e.s:t=Lo(n,e,0,r.modulo,1),t=t.times(e),yo=!0,n.minus(t))},Oo.naturalExponential=Oo.exp=function(){return Go(this)},Oo.naturalLogarithm=Oo.ln=function(){return Zo(this)},Oo.negated=Oo.neg=function(){var e=new this.constructor(this);return e.s=-e.s,zo(e)},Oo.plus=Oo.add=function(e){var t,n,r,o,i,a,u,s,c,l,f=this,h=f.constructor;if(e=new h(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new h(e.d||f.s===e.s?f:NaN)):e=new h(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,l=e.d,u=h.precision,s=h.rounding,!c[0]||!l[0])return l[0]||(e=new h(f)),yo?zo(e,u,s):e;if(i=xo(f.e/Mo),r=xo(e.e/Mo),c=c.slice(),o=i-r){for(o<0?(n=c,o=-o,a=l.length):(n=l,r=i,a=c.length),o>(a=(i=Math.ceil(u/Mo))>a?i+1:a+1)&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((a=c.length)-(o=l.length)<0&&(o=a,n=l,l=c,c=n),t=0;o;)t=(c[--o]=c[o]+l[o]+t)/ko|0,c[o]%=ko;for(t&&(c.unshift(t),++r),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=qo(c,r),yo?zo(e,u,s):e},Oo.precision=Oo.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Do+e);return n.d?(t=Uo(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},Oo.round=function(){var e=this,t=e.constructor;return zo(new t(e),e.e+1,t.rounding)},Oo.sine=Oo.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Mo,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:ti(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/ni(5,n)),t=ti(e,2,t,t);for(var o,i=new e(5),a=new e(16),u=new e(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(a.times(o).minus(u))));return t}(r,ri(r,n)),r.precision=e,r.rounding=t,zo(lo>2?n.neg():n,e,t,!0)):new r(NaN)},Oo.squareRoot=Oo.sqrt=function(){var e,t,n,r,o,i,a=this,u=a.d,s=a.e,c=a.s,l=a.constructor;if(1!==c||!u||!u[0])return new l(!c||c<0&&(!u||u[0])?NaN:u?a:1/0);for(yo=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=To(u)).length+s)%2==0&&(t+="0"),c=Math.sqrt(t),s=xo((s+1)/2)-(s<0||s%2),r=new l(t=c==1/0?"5e"+s:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new l(c.toString()),n=(s=l.precision)+3;;)if(r=(i=r).plus(Lo(a,i,n+2,1)).times(.5),To(i.d).slice(0,n)===(t=To(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(zo(r,s+1,1),e=!r.times(r).eq(a));break}if(!o&&(zo(i,s+1,0),i.times(i).eq(a))){r=i;break}n+=4,o=1}return yo=!0,zo(r,s,l.rounding,e)},Oo.tangent=Oo.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=Lo(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,zo(2==lo||4==lo?n.neg():n,e,t,!0)):new r(NaN)},Oo.times=Oo.mul=function(e){var t,n,r,o,i,a,u,s,c,l=this,f=l.constructor,h=l.d,d=(e=new f(e)).d;if(e.s*=l.s,!(h&&h[0]&&d&&d[0]))return new f(!e.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*e.s:e.s/0);for(n=xo(l.e/Mo)+xo(e.e/Mo),(s=h.length)<(c=d.length)&&(i=h,h=d,d=i,a=s,s=c,c=a),i=[],r=a=s+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,o=s+r;o>r;)u=i[o]+d[r]*h[o-r-1]+t,i[o--]=u%ko|0,t=u/ko|0;i[o]=(i[o]+t)%ko|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=qo(i,n),yo?zo(e,f.precision,f.rounding):e},Oo.toBinary=function(e,t){return oi(this,2,e,t)},Oo.toDecimalPlaces=Oo.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Ro(e,0,ho),void 0===t?t=r.rounding:Ro(t,0,8),zo(n,e+n.e+1,t))},Oo.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=$o(r,!0):(Ro(e,0,ho),void 0===t?t=o.rounding:Ro(t,0,8),n=$o(r=zo(new o(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Oo.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return void 0===e?n=$o(o):(Ro(e,0,ho),void 0===t?t=i.rounding:Ro(t,0,8),n=$o(r=zo(new i(o),e+o.e+1,t),!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},Oo.toFraction=function(e){var t,n,r,o,i,a,u,s,c,l,f,h,d=this,p=d.d,m=d.constructor;if(!p)return new m(d);if(c=n=new m(1),r=s=new m(0),a=(i=(t=new m(r)).e=Uo(p)-d.e-1)%Mo,t.d[0]=Co(10,a<0?Mo+a:a),null==e)e=i>0?t:c;else{if(!(u=new m(e)).isInt()||u.lt(c))throw Error(Do+u);e=u.gt(t)?i>0?t:c:u}for(yo=!1,u=new m(To(p)),l=m.precision,m.precision=i=p.length*Mo*2;f=Lo(u,t,0,1,1),1!=(o=n.plus(f.times(r))).cmp(e);)n=r,r=o,o=c,c=s.plus(f.times(o)),s=o,o=t,t=u.minus(f.times(o)),u=o;return o=Lo(e.minus(n),r,0,1,1),s=s.plus(o.times(c)),n=n.plus(o.times(r)),s.s=c.s=d.s,h=Lo(c,r,i,1).minus(d).abs().cmp(Lo(s,n,i,1).minus(d).abs())<1?[c,r]:[s,n],m.precision=l,yo=!0,h},Oo.toHexadecimal=Oo.toHex=function(e,t){return oi(this,16,e,t)},Oo.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:Ro(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(yo=!1,n=Lo(n,e,0,t,1).times(e),yo=!0,zo(n)):(e.s=n.s,n=e),n},Oo.toNumber=function(){return+this},Oo.toOctal=function(e,t){return oi(this,8,e,t)},Oo.toPower=Oo.pow=function(e){var t,n,r,o,i,a,u=this,s=u.constructor,c=+(e=new s(e));if(!(u.d&&e.d&&u.d[0]&&e.d[0]))return new s(Co(+u,c));if((u=new s(u)).eq(1))return u;if(r=s.precision,i=s.rounding,e.eq(1))return zo(u,r,i);if((t=xo(e.e/Mo))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return o=Vo(s,u,n,r),e.s<0?new s(1).div(o):zo(o,r,i);if((a=u.s)<0){if(t<e.d.length-1)return new s(NaN);if(1&e.d[t]||(a=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=a,u}return(t=0!=(n=Co(+u,c))&&isFinite(n)?new s(n+"").e:xo(c*(Math.log("0."+To(u.d))/Math.LN10+u.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?a/0:0):(yo=!1,s.rounding=u.s=1,n=Math.min(12,(t+"").length),(o=Go(e.times(Zo(u,r+n)),r)).d&&Po((o=zo(o,r+5,1)).d,r,i)&&(t=r+10,+To((o=zo(Go(e.times(Zo(u,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(o=zo(o,r+1,0))),o.s=a,yo=!0,s.rounding=i,zo(o,r,i))},Oo.toPrecision=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=$o(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(Ro(e,1,ho),void 0===t?t=o.rounding:Ro(t,0,8),n=$o(r=zo(new o(r),e,t),e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Oo.toSignificantDigits=Oo.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Ro(e,1,ho),void 0===t?t=n.rounding:Ro(t,0,8)),zo(new n(this),e,t)},Oo.toString=function(){var e=this,t=e.constructor,n=$o(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},Oo.truncated=Oo.trunc=function(){return zo(new this.constructor(this),this.e+1,1)},Oo.valueOf=Oo.toJSON=function(){var e=this,t=e.constructor,n=$o(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var Lo=function(){function e(e,t,n){var r,o=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+o,e[i]=r%n|0,o=r/n|0;return o&&e.unshift(o),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a,u,s){var c,l,f,h,d,p,m,g,v,y,b,D,w,A,E,x,C,F,S,B,N=r.constructor,k=r.s==o.s?1:-1,M=r.d,I=o.d;if(!(M&&M[0]&&I&&I[0]))return new N(r.s&&o.s&&(M?!I||M[0]!=I[0]:I)?M&&0==M[0]||!I?0*k:k/0:NaN);for(s?(d=1,l=r.e-o.e):(s=ko,d=Mo,l=xo(r.e/d)-xo(o.e/d)),S=I.length,C=M.length,y=(v=new N(k)).d=[],f=0;I[f]==(M[f]||0);f++);if(I[f]>(M[f]||0)&&l--,null==i?(A=i=N.precision,a=N.rounding):A=u?i+(r.e-o.e)+1:i,A<0)y.push(1),p=!0;else{if(A=A/d+2|0,f=0,1==S){for(h=0,I=I[0],A++;(f<C||h)&&A--;f++)E=h*s+(M[f]||0),y[f]=E/I|0,h=E%I|0;p=h||f<C}else{for((h=s/(I[0]+1)|0)>1&&(I=e(I,h,s),M=e(M,h,s),S=I.length,C=M.length),x=S,D=(b=M.slice(0,S)).length;D<S;)b[D++]=0;(B=I.slice()).unshift(0),F=I[0],I[1]>=s/2&&++F;do{h=0,(c=t(I,b,S,D))<0?(w=b[0],S!=D&&(w=w*s+(b[1]||0)),(h=w/F|0)>1?(h>=s&&(h=s-1),1==(c=t(m=e(I,h,s),b,g=m.length,D=b.length))&&(h--,n(m,S<g?B:I,g,s))):(0==h&&(c=h=1),m=I.slice()),(g=m.length)<D&&m.unshift(0),n(b,m,D,s),-1==c&&(c=t(I,b,S,D=b.length))<1&&(h++,n(b,S<D?B:I,D,s)),D=b.length):0===c&&(h++,b=[0]),y[f++]=h,c&&b[0]?b[D++]=M[x]||0:(b=[M[x]],D=1)}while((x++<C||void 0!==b[0])&&A--);p=void 0!==b[0]}y[0]||y.shift()}if(1==d)v.e=l,co=p;else{for(f=1,h=y[0];h>=10;h/=10)f++;v.e=f+l*d-1,zo(v,u?i+v.e+1:i,a,p)}return v}}();function zo(e,t,n,r){var o,i,a,u,s,c,l,f,h,d=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(o=1,u=f[0];u>=10;u/=10)o++;if((i=t-o)<0)i+=Mo,a=t,s=(l=f[h=0])/Co(10,o-a-1)%10|0;else if((h=Math.ceil((i+1)/Mo))>=(u=f.length)){if(!r)break e;for(;u++<=h;)f.push(0);l=s=0,o=1,a=(i%=Mo)-Mo+1}else{for(l=u=f[h],o=1;u>=10;u/=10)o++;s=(a=(i%=Mo)-Mo+o)<0?0:l/Co(10,o-a-1)%10|0}if(r=r||t<0||void 0!==f[h+1]||(a<0?l:l%Co(10,o-a-1)),c=n<4?(s||r)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(i>0?a>0?l/Co(10,o-a):0:f[h-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=e.e+1,f[0]=Co(10,(Mo-t%Mo)%Mo),e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=h,u=1,h--):(f.length=h+1,u=Co(10,Mo-i),f[h]=a>0?(l/Co(10,o-a)%Co(10,a)|0)*u:0),c)for(;;){if(0==h){for(i=1,a=f[0];a>=10;a/=10)i++;for(a=f[0]+=u,u=1;a>=10;a/=10)u++;i!=u&&(e.e++,f[0]==ko&&(f[0]=1));break}if(f[h]+=u,f[h]!=ko)break;f[h--]=0,u=1}for(i=f.length;0===f[--i];)f.pop()}return yo&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function $o(e,t,n){if(!e.isFinite())return Jo(e);var r,o=e.e,i=To(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+Ho(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):o<0?(i="0."+Ho(-o-1)+i,n&&(r=n-a)>0&&(i+=Ho(r))):o>=a?(i+=Ho(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+Ho(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=Ho(r))),i}function qo(e,t){var n=e[0];for(t*=Mo;n>=10;n/=10)t++;return t}function Ko(e,t,n){if(t>Io)throw yo=!0,n&&(e.precision=n),Error(wo);return zo(new e(mo),t,1,!0)}function Wo(e,t,n){if(t>_o)throw Error(wo);return zo(new e(go),t,n,!0)}function Uo(e){var t=e.length-1,n=t*Mo+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Ho(e){for(var t="";e--;)t+="0";return t}function Vo(e,t,n,r){var o,i=new e(1),a=Math.ceil(r/Mo+4);for(yo=!1;;){if(n%2&&ii((i=i.times(t)).d,a)&&(o=!0),0===(n=xo(n/2))){n=i.d.length-1,o&&0===i.d[n]&&++i.d[n];break}ii((t=t.times(t)).d,a)}return yo=!0,i}function Xo(e){return 1&e.d[e.d.length-1]}function Yo(e,t,n){for(var r,o=new e(t[0]),i=0;++i<t.length;){if(!(r=new e(t[i])).s){o=r;break}o[n](r)&&(o=r)}return o}function Go(e,t){var n,r,o,i,a,u,s,c=0,l=0,f=0,h=e.constructor,d=h.rounding,p=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(yo=!1,s=p):s=t,u=new h(.03125);e.e>-2;)e=e.times(u),f+=5;for(s+=r=Math.log(Co(2,f))/Math.LN10*2+5|0,n=i=a=new h(1),h.precision=s;;){if(i=zo(i.times(e),s,1),n=n.times(++l),To((u=a.plus(Lo(i,n,s,1))).d).slice(0,s)===To(a.d).slice(0,s)){for(o=f;o--;)a=zo(a.times(a),s,1);if(null!=t)return h.precision=p,a;if(!(c<3&&Po(a.d,s-r,d,c)))return zo(a,h.precision=p,d,yo=!0);h.precision=s+=10,n=i=u=new h(1),l=0,c++}a=u}}function Zo(e,t){var n,r,o,i,a,u,s,c,l,f,h,d=1,p=e,m=p.d,g=p.constructor,v=g.rounding,y=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==t?(yo=!1,l=y):l=t,g.precision=l+=10,r=(n=To(m)).charAt(0),!(Math.abs(i=p.e)<15e14))return c=Ko(g,l+2,y).times(i+""),p=Zo(new g(r+"."+n.slice(1)),l-10).plus(c),g.precision=y,null==t?zo(p,y,v,yo=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=To((p=p.times(e)).d)).charAt(0),d++;for(i=p.e,r>1?(p=new g("0."+n),i++):p=new g(r+"."+n.slice(1)),f=p,s=a=p=Lo(p.minus(1),p.plus(1),l,1),h=zo(p.times(p),l,1),o=3;;){if(a=zo(a.times(h),l,1),To((c=s.plus(Lo(a,new g(o),l,1))).d).slice(0,l)===To(s.d).slice(0,l)){if(s=s.times(2),0!==i&&(s=s.plus(Ko(g,l+2,y).times(i+""))),s=Lo(s,new g(d),l,1),null!=t)return g.precision=y,s;if(!Po(s.d,l-10,v,u))return zo(s,g.precision=y,v,yo=!0);g.precision=l+=10,c=a=p=Lo(f.minus(1),f.plus(1),l,1),h=zo(p.times(p),l,1),o=u=1}s=c,o+=2}}function Jo(e){return String(e.s*e.s/0)}function Qo(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(r,o)){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Mo,n<0&&(r+=Mo),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=Mo;r<o;)e.d.push(+t.slice(r,r+=Mo));t=t.slice(r),r=Mo-t.length}else r-=o;for(;r--;)t+="0";e.d.push(+t),yo&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ei(e,t){var n,r,o,i,a,u,s,c,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),No.test(t))return Qo(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(So.test(t))n=16,t=t.toLowerCase();else if(Fo.test(t))n=2;else{if(!Bo.test(t))throw Error(Do+t);n=8}for((i=t.search(/p/i))>0?(s=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),a=(i=t.indexOf("."))>=0,r=e.constructor,a&&(i=(u=(t=t.replace(".","")).length)-i,o=Vo(r,new r(n),i,2*i)),i=l=(c=jo(t,n,ko)).length-1;0===c[i];--i)c.pop();return i<0?new r(0*e.s):(e.e=qo(c,l),e.d=c,yo=!1,a&&(e=Lo(e,o,4*u)),s&&(e=e.times(Math.abs(s)<54?Co(2,s):Hi.pow(2,s))),yo=!0,e)}function ti(e,t,n,r,o){var i,a,u,s,c=e.precision,l=Math.ceil(c/Mo);for(yo=!1,s=n.times(n),u=new e(r);;){if(a=Lo(u.times(s),new e(t++*t++),c,1),u=o?r.plus(a):r.minus(a),r=Lo(a.times(s),new e(t++*t++),c,1),void 0!==(a=u.plus(r)).d[l]){for(i=l;a.d[i]===u.d[i]&&i--;);if(-1==i)break}i=u,u=r,r=a,a=i}return yo=!0,a.d.length=l+1,a}function ni(e,t){for(var n=e;--t;)n*=e;return n}function ri(e,t){var n,r=t.s<0,o=Wo(e,e.precision,1),i=o.times(.5);if((t=t.abs()).lte(i))return lo=r?4:1,t;if((n=t.divToInt(o)).isZero())lo=r?3:2;else{if((t=t.minus(n.times(o))).lte(i))return lo=Xo(n)?r?2:3:r?4:1,t;lo=Xo(n)?r?1:4:r?3:2}return t.minus(o).abs()}function oi(e,t,n,r){var o,i,a,u,s,c,l,f,h,d=e.constructor,p=void 0!==n;if(p?(Ro(n,1,ho),void 0===r?r=d.rounding:Ro(r,0,8)):(n=d.precision,r=d.rounding),e.isFinite()){for(p?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(a=(l=$o(e)).indexOf("."))>=0&&(l=l.replace(".",""),(h=new d(1)).e=l.length-a,h.d=jo($o(h),10,o),h.e=h.d.length),i=s=(f=jo(l,10,o)).length;0==f[--s];)f.pop();if(f[0]){if(a<0?i--:((e=new d(e)).d=f,e.e=i,f=(e=Lo(e,h,n,r,0,o)).d,i=e.e,c=co),a=f[n],u=o/2,c=c||void 0!==f[n+1],c=r<4?(void 0!==a||c)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||c||6===r&&1&f[n-1]||r===(e.s<0?8:7)),f.length=n,c)for(;++f[--n]>o-1;)f[n]=0,n||(++i,f.unshift(1));for(s=f.length;!f[s-1];--s);for(a=0,l="";a<s;a++)l+=po.charAt(f[a]);if(p){if(s>1)if(16==t||8==t){for(a=16==t?4:3,--s;s%a;s++)l+="0";for(s=(f=jo(l,o,t)).length;!f[s-1];--s);for(a=1,l="1.";a<s;a++)l+=po.charAt(f[a])}else l=l.charAt(0)+"."+l.slice(1);l=l+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)l="0"+l;l="0."+l}else if(++i>s)for(i-=s;i--;)l+="0";else i<s&&(l=l.slice(0,i)+"."+l.slice(i))}else l=p?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=Jo(e);return e.s<0?"-"+l:l}function ii(e,t){if(e.length>t)return e.length=t,!0}function ai(e){return new this(e).abs()}function ui(e){return new this(e).acos()}function si(e){return new this(e).acosh()}function ci(e,t){return new this(e).plus(t)}function li(e){return new this(e).asin()}function fi(e){return new this(e).asinh()}function hi(e){return new this(e).atan()}function di(e){return new this(e).atanh()}function pi(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,i=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?Wo(this,r,o):new this(0)).s=e.s:!e.d||t.isZero()?(n=Wo(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(Lo(e,t,i,1)),t=Wo(this,i,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Lo(e,t,i,1)):(n=Wo(this,i,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function mi(e){return new this(e).cbrt()}function gi(e){return zo(e=new this(e),e.e+1,2)}function vi(e,t,n){return new this(e).clamp(t,n)}function yi(e){if(!e||"object"!=typeof e)throw Error(bo+"Object expected");var t,n,r,o=!0===e.defaults,i=["precision",1,ho,"rounding",0,8,"toExpNeg",-fo,0,"toExpPos",0,fo,"maxE",0,fo,"minE",-fo,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],o&&(this[n]=vo[n]),void 0!==(r=e[n])){if(!(xo(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(Do+n+": "+r);this[n]=r}if(n="crypto",o&&(this[n]=vo[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Do+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Ao);this[n]=!0}else this[n]=!1}return this}function bi(e){return new this(e).cos()}function Di(e){return new this(e).cosh()}function wi(e,t){return new this(e).div(t)}function Ai(e){return new this(e).exp()}function Ei(e){return zo(e=new this(e),e.e+1,3)}function xi(){var e,t,n=new this(0);for(yo=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return yo=!0,new this(1/0);n=t}return yo=!0,n.sqrt()}function Ci(e){return e instanceof Hi||e&&e.toStringTag===Eo||!1}function Fi(e){return new this(e).ln()}function Si(e,t){return new this(e).log(t)}function Bi(e){return new this(e).log(2)}function Ni(e){return new this(e).log(10)}function ki(){return Yo(this,arguments,"lt")}function Mi(){return Yo(this,arguments,"gt")}function Ii(e,t){return new this(e).mod(t)}function _i(e,t){return new this(e).mul(t)}function Oi(e,t){return new this(e).pow(t)}function Ti(e){var t,n,r,o,i=0,a=new this(1),u=[];if(void 0===e?e=this.precision:Ro(e,1,ho),r=Math.ceil(e/Mo),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)(o=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:u[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error(Ao);for(t=crypto.randomBytes(r*=4);i<r;)(o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(u.push(o%1e7),i+=4);i=r/4}else for(;i<r;)u[i++]=1e7*Math.random()|0;for(r=u[--i],e%=Mo,r&&e&&(o=Co(10,Mo-e),u[i]=(r/o|0)*o);0===u[i];i--)u.pop();if(i<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=Mo)u.shift();for(r=1,o=u[0];o>=10;o/=10)r++;r<Mo&&(n-=Mo-r)}return a.e=n,a.d=u,a}function Ri(e){return zo(e=new this(e),e.e+1,this.rounding)}function Pi(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function ji(e){return new this(e).sin()}function Li(e){return new this(e).sinh()}function zi(e){return new this(e).sqrt()}function $i(e,t){return new this(e).sub(t)}function qi(){var e=0,t=arguments,n=new this(t[e]);for(yo=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return yo=!0,zo(n,this.precision,this.rounding)}function Ki(e){return new this(e).tan()}function Wi(e){return new this(e).tanh()}function Ui(e){return zo(e=new this(e),e.e+1,1)}Oo[Symbol.for("nodejs.util.inspect.custom")]=Oo.toString,Oo[Symbol.toStringTag]="Decimal";var Hi=Oo.constructor=function e(t){var n,r,o;function i(e){var t,n,r,o=this;if(!(o instanceof i))return new i(e);if(o.constructor=i,Ci(e))return o.s=e.s,void(yo?!e.d||e.e>i.maxE?(o.e=NaN,o.d=null):e.e<i.minE?(o.e=0,o.d=[0]):(o.e=e.e,o.d=e.d.slice()):(o.e=e.e,o.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return o.s=1/e<0?-1:1,o.e=0,void(o.d=[0]);if(e<0?(e=-e,o.s=-1):o.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(yo?t>i.maxE?(o.e=NaN,o.d=null):t<i.minE?(o.e=0,o.d=[0]):(o.e=t,o.d=[e]):(o.e=t,o.d=[e]))}return 0*e!=0?(e||(o.s=NaN),o.e=NaN,void(o.d=null)):Qo(o,e.toString())}if("string"!==r)throw Error(Do+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),o.s=-1):(43===n&&(e=e.slice(1)),o.s=1),No.test(e)?Qo(o,e):ei(o,e)}if(i.prototype=Oo,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=yi,i.clone=e,i.isDecimal=Ci,i.abs=ai,i.acos=ui,i.acosh=si,i.add=ci,i.asin=li,i.asinh=fi,i.atan=hi,i.atanh=di,i.atan2=pi,i.cbrt=mi,i.ceil=gi,i.clamp=vi,i.cos=bi,i.cosh=Di,i.div=wi,i.exp=Ai,i.floor=Ei,i.hypot=xi,i.ln=Fi,i.log=Si,i.log10=Ni,i.log2=Bi,i.max=ki,i.min=Mi,i.mod=Ii,i.mul=_i,i.pow=Oi,i.random=Ti,i.round=Ri,i.sign=Pi,i.sin=ji,i.sinh=Li,i.sqrt=zi,i.sub=$i,i.sum=qi,i.tan=Ki,i.tanh=Wi,i.trunc=Ui,void 0===t&&(t={}),t&&!0!==t.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(vo);mo=new Hi(mo),go=new Hi(go);var Vi=Hi;function Xi(e){return"number"==typeof e}function Yi(e){return!(!e||"object"!=typeof e||"function"!=typeof e.constructor)&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function Gi(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function Zi(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function Ji(e){return e&&!0===e.constructor.prototype.isUnit||!1}function Qi(e){return"string"==typeof e}var ea=Array.isArray;function ta(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function na(e){return Array.isArray(e)||ta(e)}function ra(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function oa(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function ia(e){return e&&!0===e.constructor.prototype.isRange||!1}function aa(e){return e&&!0===e.constructor.prototype.isIndex||!1}function ua(e){return"boolean"==typeof e}function sa(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function ca(e){return e&&!0===e.constructor.prototype.isHelp||!1}function la(e){return"function"==typeof e}function fa(e){return e instanceof Date}function ha(e){return e instanceof RegExp}function da(e){return!(!e||"object"!=typeof e||e.constructor!==Object||Gi(e)||Zi(e))}function pa(e){return null===e}function ma(e){return void 0===e}function ga(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function va(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function ya(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function ba(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function Da(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function wa(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function Aa(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function Ea(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function xa(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function Ca(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function Fa(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function Sa(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function Ba(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function Na(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function ka(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function Ma(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function Ia(e){return e&&!0===e.constructor.prototype.isChain||!1}function _a(e){var t=typeof e;return"object"===t?null===e?"null":Yi(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Oa(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return Oa(e)}));if(e instanceof Date)return new Date(e.valueOf());if(Yi(e))return e;if(da(e))return function(e,t){var n={};for(var r in e)Ra(e,r)&&(n[r]=t(e[r]));return n}(e,Oa);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Ta(e,t){var n,r,o;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,o=e.length;r<o;r++)if(!Ta(e[r],t[r]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Ta(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}return e===t}function Ra(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Pa(e,t,n,r){function o(r){var o=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r],i=e[o];void 0!==i&&(n[o]=i)}return n}(r,t.map(ja));return function(e,t,n){var r=t.filter((e=>!function(e){return e&&"?"===e[0]}(e))).every((e=>void 0!==n[e]));if(!r){var o=t.filter((e=>void 0===n[e]));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(o.map((e=>'"'.concat(e,'"'))).join(", "),"."))}}(e,t,r),n(o)}return o.isFactory=!0,o.fn=e,o.dependencies=t.slice().sort(),r&&(o.meta=r),o}function ja(e){return e&&"?"===e[0]?e.slice(1):e}var La=Pa("BigNumber",["?on","config"],(e=>{var{on:t,config:n}=e,r=Vi.clone({precision:n.precision,modulo:Vi.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})})),r}),{isClass:!0}),za=n(5716);function $a(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var qa=Math.sign||function(e){return e>0?1:e<0?-1:0},Ka=Math.log2||function(e){return Math.log(e)/Math.LN2},Wa=Math.log10||function(e){return Math.log(e)/Math.LN10},Ua=(Math.log1p,Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t}),Ha=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Va(e,t,n){var r={2:"0b",8:"0o",16:"0x"}[t],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!$a(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!$a(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),o="i".concat(n)}var i="";return e<0&&(e=-e,i="-"),"".concat(i).concat(r).concat(e.toString(t)).concat(o)}function Xa(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:o}=Ya(t);switch(n){case"fixed":return Za(e,r);case"exponential":return Ja(e,r);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ga(e),r=Qa(n,t),o=r.exponent,i=r.coefficients,a=o%3==0?o:o<0?o-3-o%3:o-o%3;if(Xi(t))for(;t>i.length||o-a+1>i.length;)i.push(0);else for(var u=Math.abs(o-a)-(i.length-1),s=0;s<u;s++)i.push(0);var c=Math.abs(o-a),l=1;for(;c>0;)l++,c--;var f=i.slice(l).join(""),h=Xi(t)&&f.length||f.match(/[1-9]/)?"."+f:"",d=i.slice(0,l).join("")+h+"e"+(o>=0?"+":"")+a.toString();return r.sign+d}(e,r);case"bin":return Va(e,2,o);case"oct":return Va(e,8,o);case"hex":return Va(e,16,o);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=su(null==n?void 0:n.lowerExp,-3),o=su(null==n?void 0:n.upperExp,5),i=Ga(e),a=t?Qa(i,t):i;if(a.exponent<r||a.exponent>=o)return Ja(e,t);var u=a.coefficients,s=a.exponent;u.length<t&&(u=u.concat(eu(t-u.length))),u=u.concat(eu(s-u.length+1+(u.length<t?t-u.length:0)));var c=s>0?s:0;return c<(u=eu(-s).concat(u)).length-1&&u.splice(c+1,0,"."),a.sign+u.join("")}(e,r,t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ya(e){var t,n,r="auto";if(void 0!==e)if(Xi(e))t=e;else if(Yi(e))t=e.toNumber();else{if(!da(e))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==e.precision&&(t=uu(e.precision,(()=>{throw new Error('Option "precision" must be a number or BigNumber')}))),void 0!==e.wordSize&&(n=uu(e.wordSize,(()=>{throw new Error('Option "wordSize" must be a number or BigNumber')}))),e.notation&&(r=e.notation)}return{notation:r,precision:t,wordSize:n}}function Ga(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],o=parseFloat(t[4]||"0"),i=r.indexOf(".");o+=-1!==i?i-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(e){return o-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),o++),{sign:n,coefficients:a,exponent:o}}function Za(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ga(e),r="number"==typeof t?Qa(n,n.exponent+1+t):n,o=r.coefficients,i=r.exponent+1,a=i+(t||0);return o.length<a&&(o=o.concat(eu(a-o.length))),i<0&&(o=eu(1-i).concat(o),i=1),i<o.length&&o.splice(i,0,0===i?"0.":"."),r.sign+o.join("")}function Ja(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ga(e),r=t?Qa(n,t):n,o=r.coefficients,i=r.exponent;o.length<t&&(o=o.concat(eu(t-o.length)));var a=o.shift();return r.sign+a+(o.length>0?"."+o.join(""):"")+"e"+(i>=0?"+":"")+i}function Qa(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var o=t-1;for(r[o]++;10===r[o];)r.pop(),0===o&&(r.unshift(0),n.exponent++,o++),r[--o]++}return n}function eu(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var tu=Number.EPSILON||2220446049250313e-31;function nu(e,t,n){if(null==n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<=tu||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var ru=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},ou=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},iu=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},au=(Math.cosh,Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2});Math.tanh;function uu(e,t){return Xi(e)?e:Yi(e)?e.toNumber():void t()}function su(e,t){return Xi(e)?e:Yi(e)?e.toNumber():t}var cu=Pa("Complex",[],(()=>(Object.defineProperty(za,"name",{value:"Complex"}),za.prototype.constructor=za,za.prototype.type="Complex",za.prototype.isComplex=!0,za.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},za.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},za.prototype.format=function(e){var t=this.im,n=this.re,r=Xa(this.re,e),o=Xa(this.im,e),i=Xi(e)?e:e?e.precision:null;if(null!==i){var a=Math.pow(10,-i);Math.abs(n/t)<a&&(n=0),Math.abs(t/n)<a&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":o+"i":t<0?-1===t?r+" - i":r+" - "+o.substring(1)+"i":1===t?r+" + i":r+" + "+o+"i"},za.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return za(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(Xi(n)){if(Ji(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Xi(r))return new za({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},za.prototype.valueOf=za.prototype.toString,za.fromJSON=function(e){return new za(e)},za.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},za)),{isClass:!0});function lu(e){var t=0,n=1,r=Object.create(null),o=Object.create(null),i=0,a=function(e){var a=o[e];if(a&&(delete r[a],delete o[e],--t,n===a)){if(!t)return i=0,void(n=1);for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(u){var s=o[u],c=++i;if(r[c]=u,o[u]=c,!s){if(++t<=e)return;return u=r[n],a(u),u}if(delete r[s],n===s)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:a,clear:function(){t=i=0,n=1,r=Object.create(null),o=Object.create(null)}}}function fu(e){var{hasher:t,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,t=null==t?JSON.stringify:t,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:lu(n||Number.POSITIVE_INFINITY)});for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=t(o);if(r.cache.values.has(a))return r.cache.lru.hit(a),r.cache.values.get(a);var u=e.apply(e,o);return r.cache.values.set(a,u),r.cache.values.delete(r.cache.lru.hit(a)),u}}function hu(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)}),-1)}fu((function(e){return new e(1).exp()}),{hasher:pu}),fu((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),{hasher:pu});var du=fu((function(e){return e.acos(-1)}),{hasher:pu});fu((function(e){return du(e).times(2)}),{hasher:pu});function pu(e){return e[0].precision}Math.PI,Math.PI,Math.E;mu("fineStructure",.0072973525693),mu("weakMixingAngle",.2229),mu("efimovFactor",22.7),mu("sackurTetrode",-1.16487052358);function mu(e,t){return Pa(e,["config","BigNumber"],(e=>{var{config:n,BigNumber:r}=e;return"BigNumber"===n.number?new r(t):t}))}var gu=n(1377),vu=Pa("Fraction",[],(()=>(Object.defineProperty(gu,"name",{value:"Fraction"}),gu.prototype.constructor=gu,gu.prototype.type="Fraction",gu.prototype.isFraction=!0,gu.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},gu.fromJSON=function(e){return new gu(e)},gu)),{isClass:!0}),yu=Pa("Matrix",[],(()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0});function bu(e,t,n){var r=new(0,e.constructor)(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!$a(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),o="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(o);case 8:return"".concat(e.toOctal()).concat(o);case 16:return"".concat(e.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(t," not supported "))}}function Du(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:o}=Ya(t);switch(n){case"fixed":return function(e,t){return e.toFixed(t)}(e,r);case"exponential":return wu(e,r);case"engineering":return function(e,t){var n=e.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,o=e.mul(Math.pow(10,-r)),i=o.toPrecision(t);if(i.includes("e")){i=new(0,e.constructor)(i).toFixed()}return i+"e"+(n>=0?"+":"")+r.toString()}(e,r);case"bin":return bu(e,2,o);case"oct":return bu(e,8,o);case"hex":return bu(e,16,o);case"auto":var i=Au(null==t?void 0:t.lowerExp,-3),a=Au(null==t?void 0:t.upperExp,5);if(e.isZero())return"0";var u=e.toSignificantDigits(r),s=u.e;return(s>=i&&s<a?u.toFixed():wu(e,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function wu(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Au(e,t){return Xi(e)?e:Yi(e)?e.toNumber():t}function Eu(e,t){var n=function(e,t){if("number"==typeof e)return Xa(e,t);if(Yi(e))return Du(e,t);if(function(e){return e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e))return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return Fu(e,t);if(Qi(e))return xu(e);if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"==typeof e){return"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((n=>xu(n)+": "+Eu(e[n],t))).join(", ")+"}"}return String(e)}(e,t);return t&&"object"==typeof t&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function xu(e){for(var t=String(e),n="",r=0;r<t.length;){var o=t.charAt(r);n+=o in Cu?Cu[o]:o,r++}return'"'+n+'"'}var Cu={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Fu(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,o=0;o<r;o++)0!==o&&(n+=", "),n+=Fu(e[o],t);return n+="]"}return Eu(e,t)}function Su(e,t){if(!Qi(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+_a(e)+", index: 0)");if(!Qi(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+_a(t)+", index: 1)");return e===t?0:e>t?1:-1}function Bu(e,t,n){if(!(this instanceof Bu))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Nu(e,t,n){if(!(this instanceof Nu))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function ku(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Mu(e,t,n){var r,o=e.length;if(o!==t[n])throw new Bu(o,t[n]);if(n<t.length-1){var i=n+1;for(r=0;r<o;r++){var a=e[r];if(!Array.isArray(a))throw new Bu(t.length-1,t.length,"<");Mu(e[r],t,i)}}else for(r=0;r<o;r++)if(Array.isArray(e[r]))throw new Bu(t.length+1,t.length,">")}function Iu(e,t){if(0===t.length){if(Array.isArray(e))throw new Bu(e.length,0)}else Mu(e,t,0)}function _u(e,t){if(void 0!==e){if(!Xi(e)||!$a(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new Nu(e,t)}}function Ou(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!Xi(e)||!$a(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Eu(t)+")")})),(Xi(e)||Yi(e))&&(e=[e]),Tu(e,t,0,void 0!==n?n:0),e}function Tu(e,t,n,r){var o,i,a=e.length,u=t[n],s=Math.min(a,u);if(e.length=u,n<t.length-1){var c=n+1;for(o=0;o<s;o++)i=e[o],Array.isArray(i)||(i=[i],e[o]=i),Tu(i,t,c,r);for(o=s;o<u;o++)i=[],e[o]=i,Tu(i,t,c,r)}else{for(o=0;o<s;o++)for(;Array.isArray(e[o]);)e[o]=e[o][0];for(o=s;o<u;o++)e[o]=r}}function Ru(e,t){var n=$u(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Bu(0,r,"!=");var o=ju(t=Pu(t,r));if(r!==o)throw new Bu(o,r,"!=");try{return function(e,t){for(var n,r=e,o=t.length-1;o>0;o--){var i=t[o];n=[];for(var a=r.length/i,u=0;u<a;u++)n.push(r.slice(u*i,(u+1)*i));r=n}return r}(n,t)}catch(i){if(i instanceof Bu)throw new Bu(o,r,"!=");throw i}}function Pu(e,t){var n=ju(e),r=e.slice(),o=e.indexOf(-1);if(e.indexOf(-1,o+1)>=0)throw new Error("More than one wildcard in sizes");if(o>=0){if(!(t%n==0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);r[o]=-t/n}return r}function ju(e){return e.reduce(((e,t)=>e*t),1)}function Lu(e,t,n,r){var o=r||ku(e);if(n)for(var i=0;i<n;i++)e=[e],o.unshift(1);for(e=zu(e,t,0);o.length<t;)o.push(1);return e}function zu(e,t,n){var r,o;if(Array.isArray(e)){var i=n+1;for(r=0,o=e.length;r<o;r++)e[r]=zu(e[r],t,i)}else for(var a=n;a<t;a++)e=[e];return e}function $u(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}function qu(e,t){for(var n,r=0,o=0;o<e.length;o++){var i=e[o],a=Array.isArray(i);if(0===o&&a&&(r=i.length),a&&i.length!==r)return;var u=a?qu(i,t):t(i);if(void 0===n)n=u;else if(n!==u)return"mixed"}return n}function Ku(e,t,n,r){if(r<n){if(e.length!==t.length)throw new Bu(e.length,t.length);for(var o=[],i=0;i<e.length;i++)o[i]=Ku(e[i],t[i],n,r+1);return o}return e.concat(t)}function Wu(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce((function(e,n){return Ku(e,n,t,0)}),e[0]);throw new Error("Wrong number of arguments in function concat")}function Uu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map((e=>e.length)),o=Math.max(...r),i=new Array(o).fill(null),a=0;a<t.length;a++)for(var u=t[a],s=r[a],c=0;c<s;c++){var l=o-s+c;u[c]>i[l]&&(i[l]=u[c])}for(var f=0;f<t.length;f++)Hu(t[f],i);return i}function Hu(e,t){for(var n=t.length,r=e.length,o=0;o<r;o++){var i=n-r+o;if(e[o]<t[i]&&e[o]>1||e[o]>t[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[o]," to size ").concat(t[i]))}}function Vu(e,t){var n=ku(e);if(Ta(n,t))return e;Hu(n,t);var r,o,i,a=Uu(n,t),u=a.length,s=[...Array(u-n.length).fill(1),...n],c=function(e){return oo([],e)}(e);n.length<u&&(n=ku(c=Ru(c,s)));for(var l=0;l<u;l++)n[l]<a[l]&&(r=c,o=a[l],i=l,n=ku(c=Wu(...Array(o).fill(r),i)));return c}Bu.prototype=new RangeError,Bu.prototype.constructor=RangeError,Bu.prototype.name="DimensionError",Bu.prototype.isDimensionError=!0,Nu.prototype=new RangeError,Nu.prototype.constructor=RangeError,Nu.prototype.name="IndexError",Nu.prototype.isIndexError=!0;var Xu=Pa("DenseMatrix",["Matrix"],(e=>{var{Matrix:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!Qi(t))throw new Error("Invalid datatype: "+t);if(ta(e))"DenseMatrix"===e.type?(this._data=Oa(e._data),this._size=Oa(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&ea(e.data)&&ea(e.size))this._data=e.data,this._size=e.size,Iu(this._data,this._size),this._datatype=t||e.datatype;else if(ea(e))this._data=u(e),this._size=ku(this._data),Iu(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+_a(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t,n,o){var i=o===n-1,a=t.dimension(o);return i?a.map((function(t){return _u(t,e.length),e[t]})).valueOf():a.map((function(i){return _u(i,e.length),r(e[i],t,n,o+1)})).valueOf()}function o(e,t,n,r,i){var a=i===r-1,u=t.dimension(i);a?u.forEach((function(t,r){_u(t),e[t]=n[r[0]]})):u.forEach((function(a,u){_u(a),o(e[a],t,n[u[0]],r,i+1)}))}function i(e,t,n){if(0===t.length){for(var r=e._data;ea(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Ou(e._data,e._size,n),e}function a(e,t,n){for(var r=e._size.slice(0),o=!1;r.length<t.length;)r.push(0),o=!0;for(var a=0,u=t.length;a<u;a++)t[a]>r[a]&&(r[a]=t[a],o=!0);o&&i(e,r,n)}function u(e){return ta(e)?u(e.valueOf()):ea(e)?e.map(u):e}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return qu(this._data,_a)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,i){switch(arguments.length){case 1:return function(e,t){if(!aa(t))throw new TypeError("Invalid index");var o=t.isScalar();if(o)return e.get(t.min());var i=t.size();if(i.length!==e._size.length)throw new Bu(i.length,e._size.length);for(var a=t.min(),u=t.max(),s=0,c=e._size.length;s<c;s++)_u(a[s],e._size[s]),_u(u[s],e._size[s]);return new n(r(e._data,t,i.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,u=t.size(),s=t.isScalar();ta(n)?(i=n.size(),n=n.valueOf()):i=ku(n);if(s){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(!Ta(i,u))try{i=ku(n=0===i.length?Vu([n],u):Vu(n,u))}catch(p){}if(u.length<e._size.length)throw new Bu(u.length,e._size.length,"<");if(i.length<u.length){for(var c=0,l=0;1===u[c]&&1===i[c];)c++;for(;1===u[c];)l++,c++;n=Lu(n,u.length,l,i)}if(!Ta(u,i))throw new Bu(u,i,">");var f=t.max().map((function(e){return e+1}));a(e,f,r);var h=u.length,d=0;o(e._data,t,n,h,d)}return e}(this,e,t,i);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!ea(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Bu(e.length,this._size.length);for(var t=0;t<e.length;t++)_u(e[t],this._size[t]);for(var n=this._data,r=0,o=e.length;r<o;r++){var i=e[r];_u(i,n.length),n=n[i]}return n},n.prototype.set=function(e,t,n){if(!ea(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new Bu(e.length,this._size.length,"<");var r,o,i,u=e.map((function(e){return e+1}));a(this,u,n);var s=this._data;for(r=0,o=e.length-1;r<o;r++)_u(i=e[r],s.length),s=s[i];return _u(i=e[e.length-1],s.length),s[i]=t,this},n.prototype.resize=function(e,t,n){if(!na(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));return i(n?this.clone():this,r,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;n._data=Ru(n._data,e);var r=n._size.reduce(((e,t)=>e*t));return n._size=Pu(e,r),n},n.prototype.clone=function(){return new n({data:Oa(this._data),size:Oa(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this,r=hu(e),o=function n(o,i){return ea(o)?o.map((function(e,t){return n(e,i.concat(t))})):1===r?e(o):2===r?e(o,i):e(o,i,t)}(this._data,[]);return new n(o,void 0!==this._datatype?qu(o,_a):void 0)},n.prototype.forEach=function(e){var t=this;!function n(r,o){ea(r)?r.forEach((function(e,t){n(e,o.concat(t))})):e(r,o,t)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*e(t,n){if(ea(t))for(var r=0;r<t.length;r++)yield*e(t[r],n.concat(r));else yield{value:t,index:n}}(this._data,[])},n.prototype.rows=function(){var e=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var t=this._data;for(var r of t)e.push(new n([r],this._datatype));return e},n.prototype.columns=function(){var e=this,t=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var o=this._data,i=function(r){var i=o.map((e=>[e[r]]));t.push(new n(i,e._datatype))},a=0;a<r[1];a++)i(a);return t},n.prototype.toArray=function(){return Oa(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return Eu(this._data,e)},n.prototype.toString=function(){return Eu(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(Yi(e)&&(e=e.toNumber()),!Xi(e)||!$a(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,o=this._size[0],i=this._size[1],a=Math.min(o-r,i-t),u=[],s=0;s<a;s++)u[s]=this._data[s+r][s+t];return new n({data:u,size:[a],datatype:this._datatype})},n.diagonal=function(e,t,r,o){if(!ea(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(Yi(e)&&(e=e.toNumber()),!Xi(e)||!$a(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(Yi(r)&&(r=r.toNumber()),!Xi(r)||!$a(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var i,a=r>0?r:0,u=r<0?-r:0,s=e[0],c=e[1],l=Math.min(s-u,c-a);if(ea(t)){if(t.length!==l)throw new Error("Invalid value array length");i=function(e){return t[e]}}else if(ta(t)){var f=t.size();if(1!==f.length||f[0]!==l)throw new Error("Invalid matrix length");i=function(e){return t.get([e])}}else i=function(){return t};o||(o=Yi(i(0))?i(0).mul(0):0);var h=[];if(e.length>0){h=Ou(h,e,o);for(var d=0;d<l;d++)h[d+u][d+a]=i(d)}return new n({data:h,size:[s,c]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!(Xi(e)&&$a(e)&&Xi(t)&&$a(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return _u(e,this._size[0]),_u(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n}),{isClass:!0}),Yu=n(2369);function Gu(e,t){if(es(e)&&Ju(e,t))return e[t];if("function"==typeof e[t]&&Qu(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function Zu(e,t,n){if(es(e)&&Ju(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Ju(e,t){return!(!e||"object"!=typeof e)&&(!!Ra(ts,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function Qu(e,t){return null!=e&&"function"==typeof e[t]&&(!(Ra(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!Ra(ns,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function es(e){return"object"==typeof e&&e&&e.constructor===Object}var ts={length:!0,name:!0},ns={toString:!0,valueOf:!0,toLocaleString:!0};class rs{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return Gu(this.wrappedObject,e)}set(e,t){return Zu(this.wrappedObject,e,t),this}has(e){return t=this.wrappedObject,e in t;var t}entries(){return os(this.keys(),(e=>[e,this.get(e)]))}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function os(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function is(e){return!!e&&(e instanceof Map||e instanceof rs||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}var as=function(){return as=Yu.create,Yu},us=Pa("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:o}=e,i=as();return i.clear(),i.addTypes([{name:"number",test:Xi},{name:"Complex",test:Gi},{name:"BigNumber",test:Yi},{name:"Fraction",test:Zi},{name:"Unit",test:Ji},{name:"identifier",test:e=>Qi&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:Qi},{name:"Chain",test:Ia},{name:"Array",test:ea},{name:"Matrix",test:ta},{name:"DenseMatrix",test:ra},{name:"SparseMatrix",test:oa},{name:"Range",test:ia},{name:"Index",test:aa},{name:"boolean",test:ua},{name:"ResultSet",test:sa},{name:"Help",test:ca},{name:"function",test:la},{name:"Date",test:fa},{name:"RegExp",test:ha},{name:"null",test:pa},{name:"undefined",test:ma},{name:"AccessorNode",test:ga},{name:"ArrayNode",test:va},{name:"AssignmentNode",test:ya},{name:"BlockNode",test:ba},{name:"ConditionalNode",test:Da},{name:"ConstantNode",test:wa},{name:"FunctionNode",test:Ea},{name:"FunctionAssignmentNode",test:Aa},{name:"IndexNode",test:xa},{name:"Node",test:Ca},{name:"ObjectNode",test:Fa},{name:"OperatorNode",test:Sa},{name:"ParenthesisNode",test:Ba},{name:"RangeNode",test:Na},{name:"RelationalNode",test:ka},{name:"SymbolNode",test:Ma},{name:"Map",test:is},{name:"Object",test:da}]),i.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(t||ss(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||cs(e),new n(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return n||cs(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||cs(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){o||ls(e);var t=new o(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||ss(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){o||ls(e);try{return new o(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||cs(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||ss(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return o||ls(e),new o(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),i.onMismatch=(e,t,n)=>{var r=i.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&na(t[0])&&n.some((e=>!e.params.includes(",")))){var o=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw o.data=r.data,o}throw r},i.onMismatch=(e,t,n)=>{var r=i.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&na(t[0])&&n.some((e=>!e.params.includes(",")))){var o=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw o.data=r.data,o}throw r},i}));function ss(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function cs(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function ls(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var fs="number",hs="number, number";function ds(e){return Math.abs(e)}function ps(e,t){return e+t}function ms(e,t){return e-t}function gs(e,t){return e*t}function vs(e){return-e}function ys(e){return e}function bs(e){return Ua(e)}function Ds(e){return e*e*e}function ws(e){return Math.exp(e)}function As(e){return Ha(e)}function Es(e,t){if(!$a(e)||!$a(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function xs(e){return Wa(e)}function Cs(e){return Ka(e)}function Fs(e){return qa(e)}function Ss(e){return e*e}function Bs(e,t){var n,r,o,i=0,a=1,u=1,s=0;if(!$a(e)||!$a(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)o=e-(r=Math.floor(e/t))*t,n=i,i=a-r*i,a=n,n=u,u=s-r*u,s=n,e=t,t=o;return e<0?[-e,-a,-s]:[e,e?a:0,s]}function Ns(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}ds.signature=fs,ps.signature=hs,ms.signature=hs,gs.signature=hs,vs.signature=fs,ys.signature=fs,bs.signature=fs,Ds.signature=fs,ws.signature=fs,As.signature=fs,Es.signature=hs,xs.signature=fs,Cs.signature=fs,Fs.signature=fs,Ss.signature=fs,Bs.signature=hs,Ns.signature=hs;var ks="number";function Ms(e){return ru(e)}function Is(e){return Math.atan(1/e)}function _s(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function Os(e){return Math.asin(1/e)}function Ts(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function Rs(e){return Math.acos(1/e)}function Ps(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function js(e){return ou(e)}function Ls(e){return iu(e)}function zs(e){return 1/Math.tan(e)}function $s(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function qs(e){return 1/Math.sin(e)}function Ks(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*qa(e)}function Ws(e){return 1/Math.cos(e)}function Us(e){return 2/(Math.exp(e)+Math.exp(-e))}function Hs(e){return au(e)}Ms.signature=ks,Is.signature=ks,_s.signature=ks,Os.signature=ks,Ts.signature=ks,Rs.signature=ks,Ps.signature=ks,js.signature=ks,Ls.signature=ks,zs.signature=ks,$s.signature=ks,qs.signature=ks,Ks.signature=ks,Ws.signature=ks,Us.signature=ks,Hs.signature=ks;var Vs="number, number";function Xs(e,t){if(!$a(e)||!$a(t))throw new Error("Integers expected in function bitAnd");return e&t}function Ys(e){if(!$a(e))throw new Error("Integer expected in function bitNot");return~e}function Gs(e,t){if(!$a(e)||!$a(t))throw new Error("Integers expected in function bitOr");return e|t}function Zs(e,t){if(!$a(e)||!$a(t))throw new Error("Integers expected in function bitXor");return e^t}function Js(e,t){if(!$a(e)||!$a(t))throw new Error("Integers expected in function leftShift");return e<<t}function Qs(e,t){if(!$a(e)||!$a(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function ec(e,t){if(!$a(e)||!$a(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}Xs.signature=Vs,Ys.signature="number",Gs.signature=Vs,Zs.signature=Vs,Js.signature=Vs,Qs.signature=Vs,ec.signature=Vs;function tc(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return tc(e,n)*tc(n+1,t)}function nc(e,t){if(!$a(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!$a(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,o=2,i=t<n?t:n,a=t<n?n+1:t+1;a<=e;++a)for(r*=a;o<=i&&r%o==0;)r/=o,++o;return o<=i&&(r/=tc(o,i)),r}nc.signature="number, number";var rc="equalScalar";Pa(rc,["typed","config"],(e=>{var{typed:t,config:n}=e;return t(rc,{"number, number":function(e,t){return nu(e,t,n.epsilon)}})})),Math.pow(2,53);Pa("hex",["typed","format"],(e=>{var{typed:t,format:n}=e;return t("hex",{"number | BigNumber":function(e){return n(e,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"hex",wordSize:t})}})}));var oc="number";function ic(e){return e<0}function ac(e){return e>0}function uc(e){return 0===e}function sc(e){return Number.isNaN(e)}ic.signature=oc,ac.signature=oc,uc.signature=oc,sc.signature=oc;function cc(e){var t;if($a(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:tc(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*cc(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,o=r*e,i=o*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*o)+163879/(209018880*i)+5246819/(75246796800*i*e))}--e,t=fc[0];for(var a=1;a<fc.length;++a)t+=fc[a]/(e+a);var u=e+lc+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,e+.5)*Math.exp(-u)*t}cc.signature="number";var lc=4.7421875,fc=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],hc=.9189385332046728,dc=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function pc(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-pc(1-e);for(var t=(e-=1)+5+.5,n=dc[0],r=6;r>=1;r--)n+=dc[r]/(e+r);return hc+(e+.5)*Math.log(t)-t+Math.log(n)}pc.signature="number";var mc="number, number";function gc(e){return!e}function vc(e,t){return!(!e&&!t)}function yc(e,t){return!!e!=!!t}function bc(e,t){return!(!e||!t)}gc.signature="number",vc.signature=mc,yc.signature=mc,bc.signature=mc;Pa("oct",["typed","format"],(e=>{var{typed:t,format:n}=e;return t("oct",{"number | BigNumber":function(e){return n(e,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"oct",wordSize:t})}})}));var Dc=n(7391),wc=Dc(Date.now());function Ac(e){var t,n;return t=null===(n=e)?wc:Dc(String(n)),function(){return t()}}function Ec(e,t){var n=[];if((e=e.slice(0)).length>1)for(var r=0,o=e.shift();r<o;r++)n.push(Ec(e,t));else for(var i=0,a=e.shift();i<a;i++)n.push(t());return n}Pa("bin",["typed","format"],(e=>{var{typed:t,format:n}=e;return t("bin",{"number | BigNumber":function(e){return n(e,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(e,t){return n(e,{notation:"bin",wordSize:t})}})}));var xc="randomInt",Cc=Pa(xc,["typed","config","?on"],(e=>{var{typed:t,config:n,on:r}=e,o=Ac(n.randomSeed);return r&&r("config",(function(e,t){e.randomSeed!==t.randomSeed&&(o=Ac(e.randomSeed))})),t(xc,{"":()=>a(0,1),number:e=>a(0,e),"number, number":(e,t)=>a(e,t),"Array | Matrix":e=>i(e,0,1),"Array | Matrix, number":(e,t)=>i(e,0,t),"Array | Matrix, number, number":(e,t,n)=>i(e,t,n)});function i(e,t,n){var r=Ec(e.valueOf(),(()=>a(t,n)));return ta(e)?e.create(r):r}function a(e,t){return Math.floor(e+o()*(t-e))}}));var Fc="equal";Pa(Fc,["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return t(Fc,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})}));function Sc(e,t,n,r){if(!(this instanceof Sc))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}Sc.prototype=new Error,Sc.prototype.constructor=Error,Sc.prototype.name="ArgumentsError",Sc.prototype.isArgumentsError=!0;var Bc="unequal";Pa(Bc,["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return t(Bc,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})}));Su.signature="any, any";var Nc="number | BigNumber | Fraction | Matrix | Array";"".concat(Nc,", ").concat(Nc,", ...").concat(Nc);n(1880);n(3693);var kc=La({config:so}),Mc=cu({}),Ic=vu({}),_c=yu({}),Oc=Xu({Matrix:_c}),Tc=us({BigNumber:kc,Complex:Mc,DenseMatrix:Oc,Fraction:Ic}),Rc=Cc({config:so,typed:Tc});function Pc(e,t,n){try{if("function"==typeof n){var r=[];return String.prototype.replace.call(e,t,(function(){return r.push(n.apply(void 0,arguments)),""})),Promise.all(r).then((function(n){return String.prototype.replace.call(e,t,(function(){return n.shift()}))}))}return Promise.resolve(String.prototype.replace.call(e,t,n))}catch(o){return Promise.reject(o)}}let jc=function(){function e(){this.db=new ro("Biomebot-0.11"),this.db.version(1).stores({botModules:"[data.botId+data.moduleName]",scripts:"++id,[botModuleId+doc]",memory:"[botId+moduleName+key]",wordTag:"++id, &word, tag"})}return e.prototype.getDir=async function(e){const t=await this.db.mains.where({botId:e}).first(),n=await this.db.parts.where({botId:e}).first();return!(!t||!n)},e}();new jc;const Lc=/^(\{[a-zA-Z0-9_]+\}) (.+)$/,zc=/^\{([a-zA-Z_][a-zA-Z0-9_]*)\}/,$c=/\{([0-9]+)\}/,qc="abcdefghijklmnopqrstuvwxyz".split("");let Kc=function(e){function t(){var t;return(t=e.call(this)||this).getModuleNames=t.getModuleNames.bind(t),t.uploadDxScheme=t.uploadDxScheme.bind(t),t.downloadDxScheme=t.downloadDxScheme.bind(t),t.touchDxScheme=t.touchDxScheme.bind(t),t.downloadDxModule=t.downloadDxModule.bind(t),t.downloadDxScript=t.downloadDxScript.bind(t),t.downloadDxMemory=t.downloadDxMemory.bind(t),t.updateTagValue=t.updateTagValue.bind(t),t.decodeTag=t.decodeTag.bind(t),t.readTag=t.readTag.bind(t),t.pickTag=t.pickTag.bind(t),t._findTag=t._findTag.bind(t),t.writeTag=t.writeTag.bind(t),t.deleteTag=t.deleteTag.bind(t),t.expand=t.expand.bind(t),t.expandWordTag=t.expandWordTag.bind(t),t.memorizeLine=t.memorizeLine.bind(t),t.uploadDxWordToTagList=t.uploadDxWordToTagList.bind(t),t.downloadDxWordToTagList=t.downloadDxWordToTagList.bind(t),t}(0,W.A)(t,e);var n=t.prototype;return n.getModuleNames=async function(e){const t=await this.db.botModules.where("data.botId").equals(e).toArray(),n=[];for(const r of t)n.push(r.data.moduleName);return n},n.uploadDxScheme=async function(e){for(const t of e.botModules){await this.db.botModules.put({fsId:t.fsId,data:{...t.data,script:"on script db/memory db"}}),this.db.scripts.where("[botModuleId+doc]").equals([t.fsId,"origin"]).delete(),this.db.memory.where("botId").equals(t.fsId).delete();for(const e of t.data.script){const n=e.text.match(Lc);n?await this.db.memory.put({botId:t.data.botId,moduleName:t.data.moduleName,key:n[1],value:n[2].split(","),doc:"origin"}):await this.db.scripts.add({botModuleId:t.fsId,...e,doc:"origin"})}}},n.touchDxScheme=async function(e,t){await this.db.botModules.where("[data.botId+data.moduleName]").equals([e,t]).modify((e=>{e.data.updatedAt=new Date}))},n.downloadDxScheme=async function(e){const t={updatedAt:new Date(0),botModules:[]},n=await this.db.botModules.where(["data.botId","data.moduleName"]).between([e,ro.minKey],[e,ro.maxKey]).toArray();for(const r of n){if(r.fsId){const t=r.fsId;r.data.script=await this.downloadDxScript(t),r.data.memory=await this.downloadDxMemory(e,r.moduleName)}t.botModules.push(r),"[object Date]"!==toString.call(r.data.updatedAt)&&(r.data.updatedAt=new Date(1e3*r.data.updatedAt.seconds)),t.updatedAt<r.data.updatedAt&&(t.updatedAt=r.data.updatedAt)}return t},n.downloadDxModule=async function(e,t){return await this.db.botModules.where(["data.botId","data.moduleName"]).equals([e,t]).first()},n.findUserDxModule=async function(e,t){const n=await this.db.botModules.where(["data.botId","data.moduleName"]).equals([`bot${e}`,"main"]).toArray();if(t){for(const e of n)if(e.data.schemeName===t)return{botId:e.data.botId,schemeName:t};return null}for(const r of n)return{botId:r.data.botId,schemeName:r.data.schemeName};return{botId:null,schemeName:null}},n.downloadDxScript=async function(e){return await this.db.scripts.where("[botModuleId+doc]").between([e,ro.minKey],[e,ro.maxKey]).sortBy("id")},n.downloadDxMemory=async function(e,t){const n=await this.db.memory.filter((t=>{t.botId===e&&t.moduleName})).toArray(),r={};for(const o of n)r[o.key]=o.value;return r},n.updateTagValue=async function(e,t,n,r){void 0===r&&(r={});const o=r.moduleName||"main",i=r.overwrite||!1,a=Array.isArray(t)?t:[t];return await this.db.memory.where(["botId","moduleName","key"]).equals([n,o,e]).modify((e=>{e.value=i?a:e.value.push(t)}))},n.decodeTag=async function(e,t,n){void 0===n&&(n="main");const r=this.db;const o=await this.readTag(e,t,n),i=o[Rc(o.length)];return await Pc(i,zc,(async function e(o){let i=await r.memory.where(["botId","moduleName","key"]).equals([t,n,o]).first();return i||"main"===n||(i=await r.memory.where(["botId","moduleName","key"]).equals([t,"main",o]).first()),i?Pc(i.value[Rc(i.value.length)],zc,e):o}))},n.writeTag=async function(e,t,n,r){return void 0===r&&(r="main"),await this.db.memory.put({key:e,botId:n,moduleName:r,value:t})},n.deleteTag=async function(e,t,n){return void 0===n&&(n="main"),await this.db.memory.where(["botId","moduleName","key"]).equals([t,n,e]).delete()},n.readTag=async function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r="main"),await this._findTag(e,t,n,r)},n.pickTag=async function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r="main");const o=await this._findTag(e,t,null,r);return o?o[Rc(o.length)]:n},n.readCondTags=async function(e,t){const n=Object.keys(e);return await Promise.all(n.map((async e=>({key:e,value:await this.db.memory.where(["botId","moduleName","key"]).equals([t,"main",e]).first()?1:0}))))},n.clearSessionTags=async function(e){await this.db.memory.filter((e=>e.key.startsWith(qc))).delete()},n.uploadDxWordToTagList=async function(e){await this.db.wordTag.toCollection().delete();for(const t of e){const e=t.word,n=await this.db.wordTag.where("word").equals(e).first();n?(console.warning("wordTag duplicated, overwrited",n),await this.db.wordTag.update(n.id,{word:e,tag:t.tag})):await this.db.wordTag.add({tag:t.tag,word:t.word})}},n.downloadDxWordToTagList=async function(){return await this.db.wordTag.toCollection().sortBy("word",(e=>e.sort(((e,t)=>t.word.length-e.word.length))))},n._findTag=async function(e,t,n,r){let o;var i;if(void 0===n&&(n=null),void 0===r&&(r=null),r)return o=await this.db.memory.where(["botId","moduleName","key"]).equals([t,r,e]).first(),o||(o=await this.db.memory.where(["botId","moduleName","key"]).equals([t,"main",e]).first()),(null===(i=o)||void 0===i?void 0:i.value)||n},n.expand=function(e,t,n){const r=this.db;return Pc(e,zc,(async function e(o){let i=await r.memory.where(["botId","moduleName","key"]).equals([t,n,o]).first();return i||(i=await r.memory.where(["botId","moduleName","key"]).equals([t,"main",o]).first()),i?Pc(i.value[Rc(i.value.length)],zc,e):o}))},n.expandWordTag=function(e){const t=this.db.wordTag;return Pc(e,$c,(async function e(n){const r=await t.wordTag.where("tag").equals(n).first();return r?Pc(r.value[Rc(r.value.length)],$c,e):n}))},n.memorizeLine=async function(e,t,n){if(""!==e.text&&""!==t.text){const r=(new Date).valueOf();console.log(e,t),await this.db.scripts.add({botModuleId:n,head:"user",text:`${e.text}\t${r}`,doc:"page0"}),await this.db.scripts.add({botModuleId:n,head:"bot",doc:"page0",text:t.text})}},t}(jc);const Wc=new Kc,Uc=/^(#|with|bot|{)/;async function Hc(e,t,n){let r,o;if(t)r=`${t}${e}`,o=t;else{const t=await Wc.findUserDxModule(e);o=t.botId||function(e){const t={};e.forEach((e=>{const n=e.relativeDirectory;n.startsWith("_")||n.startsWith("NPC")||"main"!==e.name||(t[n]=!0)}));const n=Object.keys(t);return n[Math.floor(Math.random()*n.length)]}(n),r=t.botId||`${o}${e}`}return[r,o]}async function Vc(e,t,n,r){const o=function(e){const t=[];for(const n of e)for(const e of n.values){const[n,r]=e.split(" ",2);for(const e of r.split(","))t.push({tag:n,word:e})}return t}(t.token);await Wc.uploadDxWordToTagList(o);const i=await Yc(e,r),a=await Wc.downloadDxScheme(r),u=function(e,t,n){const r=e=>{const t=[];for(const n of e){if(n.match(Uc)){t.push({text:n});continue}const e=n.split("\t");2!==e.length?t.push({text:n}):t.push({text:e[0],timestamp:new Date(Number(e[1]))})}return t},o={updatedAt:new Date(0),botModules:[]};return e.forEach((e=>{if(e.relativeDirectory===t){const i=JSON.parse(e.internal.content);i.updatedAt=new Date(i.updatedAt),o.updatedAt<i.updatedAt&&(o.updatedAt=i.updatedAt),o.botModules.push({id:null,data:{...i,script:r(i.script),moduleName:e.name,schemeName:t,botId:n}})}})),o}(t.chatbot,n,r),s=i.updatedAt,c=a.updatedAt,l=u.updatedAt;if(s<l&&c<l){await Xc(e,u);const t=await Yc(e,r);await Wc.uploadDxScheme(t,r)}else s>c?await Wc.uploadDxScheme(i,r):c>s&&await Xc(e,a);return Wc.getModuleNames(r)}async function Xc(e,t){const n=(0,u.wP)(e),r=(e,t)=>{if("script"in e){const r=[],o=[],i=[];for(const t of e.script)"item"in u.H9?"origin"===t.doc?o.push(t):"page0"===t.doc&&i.push(t):r.push({...t,doc:"origin"});if(0!==r.length){const e=(0,u.H9)(t,"scripts","origin");n.set(e,{script:r})}if(0!==o.length){const e=(0,u.H9)(t,"scripts","origin");n.set(e,{script:o})}if(0!==i.length){const e=(0,u.H9)(t,"scripts","page0");n.set(e,{script:i})}}if("memory"in e&&e.memory){const r=(0,u.H9)(t,"scripts","memory");n.set(r,e.memory)}};let o;for(o of t.botModules)if("main"===o.data.moduleName){let t;"fsId"in o?t=(0,u.H9)(e,"botModules",o.fsId):(t=(0,u.H9)((0,u.rJ)(e,"botModules")),o.fsId=t.id),n.set(t,{...o.data,script:"on scripts/origin",memory:"on scripts/memory"}),r(o.data,t);break}for(const i of t.botModules)if("main"!==i.data.moduleName){let t;"fsId"in i?t=(0,u.H9)(e,"botModules",i.fsId):(t=(0,u.H9)((0,u.rJ)(e,"botModules")),i.fsId=t.id),n.set(t,{...i.data,memory:"on scripts/memory",script:"on scripts/origin",mainFsId:o.fsId}),r(i.data,t)}await n.commit()}async function Yc(e,t){const n={updatedAt:new Date(0),botModules:[]},r=(0,u.rJ)(e,"botModules"),o=(0,u.P)(r,(0,u._M)("botId","==",t)),i=await(0,u.GG)(o);for(const a of i.docs){const e=a.data(),t=(0,u.H9)(r,a.id,"scripts","origin"),o=(0,u.H9)(r,a.id,"scripts","page0"),i=(0,u.H9)(r,a.id,"scripts","memory"),s=await(0,u.x7)(t),c=await(0,u.x7)(o);let l=s.data();if(c.exists()){const e=c.data();l=l.script.concat(e.script)}const f=await(0,u.x7)(i);n.botModules.push({fsId:a.id,data:{...e,...l,memory:f.exists()?f.data():{}}}),"[object Date]"!==toString.call(e.updatedAt)&&(e.updatedAt=new Date(1e3*e.updatedAt.seconds)),n.updatedAt<e.updatedAt&&(n.updatedAt=e.updatedAt)}return n}function Gc(){return new Worker(n.p+"main.worker-144628662cfe1b86d094.worker.js")}function Zc(){return new Worker(n.p+"part.worker-50bfe737012a4bfba057.worker.js")}const Jc=(0,r.createContext)(),Qc="1517367016",el=e=>{const t=[];return e.allJson.nodes.forEach((e=>{const n=e.parent;"botModules"===n.sourceInstanceName&&"_loading"!==n.relativeDirectory&&t.push(e.parent)})),t},tl=e=>{const t=[];return e.allJson.nodes.forEach((e=>{"token"===e.parent.sourceInstanceName&&t.push(e.token)})),t},nl=(e,t)=>{const n=[];for(const r of e.allFile.nodes)r.relativeDirectory===t&&n.push(r.name);return n},rl={botId:null,botState:"init",numOfDeployed:0,numOfModules:0,botRepr:{displayName:"",avatarDir:"default",avatar:"null",backrgoundColor:"#cccccc",replyingCount:0,botId:null},channel:null};function ol(e,t){switch(console.log(t.type,t),t.type){case"setChannel":return{...e,channel:t.channel};case"setBotId":return{botId:t.botId,botState:"init",numOfDeployed:0,numOfModules:t.numOfModules,botRepr:{displayName:"",avatarDir:"default",avatar:"emerging",backrgoundColor:"#cccccc",botId:t.botId,replyingCount:0},channel:e.channel};case"deployed":{const n=e.numOfDeployed+1,r=n===e.numOfModules,o=t.botRepr||e.botRepr;return r?{...e,botState:"deployed",numOfDeployed:n,botRepr:{...o}}:{...e,botState:"deploying",numOfDeployed:n,botRepr:{...o,avatar:"emerging"+n%4}}}case"deployError":return{...e,botState:`error in ${t.moduleName}`};case"run":return{...e,botState:"run"};case"changeAvatar":return{...e,botRepr:{...e.botRepr,avatar:t.avatar}};case"replying":{const t=e.botRepr;return{...e,botState:"replying",botRepr:{...t,replyingCount:(t.replyingCount+1)%3+1}}}case"reply":{const n=t.message;return{...e,botState:"run",botRepr:{...e.botRepr,displayName:n.displayName,avatarDir:n.avatarDir,avatar:n.avatar,replyingCount:0}}}default:throw new Error(`invalid action ${t.type}`)}}function il(e){let{firestore:t,summon:n,schemeName:o,children:i}=e;const a=(0,r.useContext)(Cr),{0:c,1:l}=(0,r.useReducer)(ol,rl),f=(0,r.useRef)({}),h=(0,r.useRef)([]),d=(0,u.rJ)(t,"users",a.uid,"log"),p=(0,s.useStaticQuery)(Qc),m=(0,r.useCallback)((e=>{(0,u.gS)(d,e).then((()=>{"user"===e.kind&&f.current[c.botId].postMessage({type:"input",message:e})}))}),[t,a.uid,d]);(0,r.useEffect)((()=>{let e;return c.channel||(e=new BroadcastChannel("biomebot"),l({type:"setChannel",channel:e})),()=>{e&&e.close()}}),[c.channel]),(0,r.useEffect)((()=>(c.channel&&a.uid&&t&&(async()=>{const e=el(p),[r,i]=await Hc(a.uid,o,e),u=await Vc(t,{chatbot:e,token:tl(p)},i,r,a.uid);l({type:"setBotId",botId:r,numOfModules:u.length});const s=u.indexOf("main"),c=new Gc;c.onmessage=function(e){const t=e.data;switch(l(t),t.type){case"reply":return void m(t.message);case"deployed":{const e=nl(p,t.botRepr.avatarDir);for(let t=0;t<u.length;t++)if(t!==s){const n=new Zc;n.onmessage=function(e){const t=e.data;l(t)},n.postMessage({type:"deploy",botId:r,moduleName:u[t],validAvatars:e}),h.current.push(n)}}}},c.postMessage({type:"deploy",botId:r,summon:n}),f.current={[r]:c}})(),()=>{for(const e in f.current)Object.hasOwn(f.current,e)&&f.current[e].postMessage({type:"kill"})})),[c.channel,a.uid]),(0,r.useEffect)((()=>{"deployed"===c.botState&&(f.current[c.botId].postMessage({type:"run",user:a.user}),l({type:"run"}))}),[c.botId,c.botState]);const g=(0,r.useCallback)((()=>{f.current[c.botId].userKeyTouch()}),[c.botId]);return r.createElement(Jc.Provider,{value:{state:c,botRepr:null==c?void 0:c.botRepr,userKeyTouch:g,writeLog:m}},i)}(0,a.KO)("firebase","10.12.2","app");var al=n(4279);function ul(e){return(0,I.Ay)("MuiAppBar",e)}(0,M.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const sl=["className","color","enableColorOnDark","position"],cl=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,ll=(0,v.Ay)(j,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,N.A)(n.position)}`],t[`color${(0,N.A)(n.color)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,f.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},!e.vars&&(0,f.A)({},"default"===t.color&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,f.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"})),e.vars&&(0,f.A)({},"default"===t.color&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:cl(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:cl(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:cl(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:cl(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===t.color?"inherit":"var(--AppBar-color)"},"transparent"===t.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}));var fl=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:a="fixed"}=n,u=(0,l.A)(n,sl),s=(0,f.A)({},n,{color:o,position:a,enableColorOnDark:i}),c=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,N.A)(t)}`,`position${(0,N.A)(n)}`]};return(0,d.A)(o,ul,r)})(s);return(0,O.jsx)(ll,(0,f.A)({square:!0,component:"header",ownerState:s,elevation:4,className:(0,h.A)(c.root,r,"fixed"===a&&"mui-fixed"),ref:t},u))}));function hl(e){return(0,I.Ay)("MuiToolbar",e)}(0,M.A)("MuiToolbar",["root","gutters","regular","dense"]);const dl=["className","component","disableGutters","variant"],pl=(0,v.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,f.A)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48})),(({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar));var ml=r.forwardRef((function(e,t){const n=(0,m.A)({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:a="regular"}=n,u=(0,l.A)(n,dl),s=(0,f.A)({},n,{component:o,disableGutters:i,variant:a}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,d.A)(o,hl,t)})(s);return(0,O.jsx)(pl,(0,f.A)({as:o,className:(0,h.A)(c.root,r),ref:t,ownerState:s},u))})),gl=n(5858),vl=n(443);function yl(e){let{text:t,handleChangeText:n,handleOpenMenu:o,handleSend:i}=e;return r.createElement(fl,{position:"static"},r.createElement(ml,null,r.createElement(xe,{onClick:o,edge:"start",color:"inherit"},r.createElement(gl.A,null)),r.createElement(c.A,{sx:{display:"flex",flexDirection:"row",flexGrow:1},component:"form",onSubmit:function(e){e.preventDefault(),i()}},r.createElement(c.A,{sx:{my:"2px",ml:"2px",borderRadius:"6px",backgroundColor:(0,al.X4)("#eeeeee",.2),display:"flex",flexDirection:"row",width:"100%"}},r.createElement(c.A,null),r.createElement(Wn,{value:t,onChange:n,sx:{width:"100%",color:"inherit",p:1}}),r.createElement(xe,{color:"inherit",type:"submit"},r.createElement(vl.A,null))))))}function bl(e){let{repr:t,panelWidth:n}=e;const o=192;return r.createElement(c.A,{sx:{width:o,height:256},position:"relative"},r.createElement(c.A,{sx:{width:o,height:o,borderRadius:"0% 100% 100% 0% / 100% 100% 0% 0%",backgroundColor:t.backgroundColor},position:"absolute",bottom:0,left:0}),r.createElement(c.A,{sx:{width:o,height:256,p:0,m:0},position:"absolute",bottom:0,left:0},r.createElement("img",{style:{width:o,height:256},src:(0,s.withPrefix)(`/chatbot/avatar/${t.avatarDir}/${t.avatar}.svg`),alt:t.botState})))}var Dl=n(4517),wl=n(2530);function Al(e,t){const n={};for(const r of e){const e=r.ownweId;if(e){const o=r.backgroundColor;n[`balloon_${e}`]={main:(0,al.X4)(o,t)},n[`avatar_${e}`]={main:o}}}return n}function El(e){let{message:t}=e;const n="bot"===t.kind?`/chatbot/avatar/${t.avatarDir}/avatar.svg`:`/user/avatar/${t.avatarDir}/avatar.svg`,o=t.ownerId;return r.createElement(c.A,{display:"flex",flexDirection:"row",sx:{borderRadius:"15px 15px 15px 0px",alignSelf:"flex-start",padding:"0.5em",marginLeft:"2px",marginBottom:"2px",backgroundColor:`balloon_${o}.main`}},r.createElement(c.A,null,r.createElement(En,{alt:t.displayName,src:n,sx:{bgcolor:`avatar_${o}.main`}})),r.createElement(c.A,null,r.createElement(pn,{variant:"body1"},t.text),r.createElement(pn,{variant:"caption"},t.displayName)))}function xl(e){let{message:t}=e;const n="bot"===t.kind?`/chatbot/avatar/${t.avatarDir}/avatar.svg`:`/user/avatar/${t.avatarDir}/avatar.svg`,o=t.ownerId;return r.createElement(c.A,{display:"flex",flexDirection:"row",alignSelf:"flex-end",sx:{borderRadius:" 15px 15px 0px 15px",padding:"0.5em",marginRight:"2px",marginBottom:"2px",backgroundColor:`balloon_${o}.main`}},r.createElement(c.A,null,r.createElement(pn,{variant:"body1"},t.text),r.createElement(pn,{variant:"caption"},t.displayName)),r.createElement(c.A,{alignSelf:"flex-end"},r.createElement(En,{alt:t.displayName,src:n,sx:{bgcolor:`avatar_${o}.main`}})))}function Cl(e){let{message:t}=e,n=t.text.split("\n");return n=n.map(((e,t)=>r.createElement(pn,{variant:"body2",color:"error.main",key:t},e))),r.createElement(c.A,{display:"flex",flexDirection:"row",alignItems:"center"},r.createElement(c.A,null,t.displayName&&r.createElement(pn,{variant:"caption"},t.displayName),n))}function Fl(e){let{firestore:t,uid:n,botRepr:o}=e;const{0:i,1:a}=(0,r.useState)([]),l=(0,s.useStaticQuery)("1679547827"),f=(0,Dl.A)({palette:Al(i,l.site.siteMetadata.balloonBackgroundAlpha)});return(0,r.useEffect)((()=>{let e=null;if(n&&t){console.log("subscribe start");const r=(0,u.rJ)(t,"users",n,"log"),o=(0,u.P)(r,(0,u.My)("timestamp","desc"),(0,u.AB)(20));e=(0,u.aQ)(o,(e=>{const t=[];e.forEach((e=>{const n=e.data();t.push({...n,id:e.id,timestamp:n.timestamp?n.timestamp.toDate():""})})),a(t)}))}return()=>{e&&(console.log("unsubscribed"),e())}}),[n,t]),r.createElement(wl.A,{theme:f},r.createElement(c.A,{display:"flex",flexDirection:"column"},0!==(null==o?void 0:o.replyingCount)&&"...",i.map((e=>{const t=e.ownerId;return t?t===n?r.createElement(xl,{key:e.id,message:e}):r.createElement(El,{key:e.id,message:e}):r.createElement(Cl,{key:e.id,message:e})}))))}const Sl=192;function Bl(e){let{firestore:t}=e;const{0:n,1:i}=(0,r.useState)(""),a=(0,r.useContext)(Cr),u=(0,r.useContext)(Rr),s=(0,r.useContext)(Jc);return r.createElement(o.A,{maxWidth:"xs"},r.createElement(c.A,{sx:{display:"flex",flexDirection:"column",height:"100vh"}},r.createElement(c.A,null,r.createElement(yl,{text:n,handleChangeText:e=>{i(e.target.value)},handleToBack:()=>{},handleSend:()=>{const e=new Ir(n,{user:a.user,ecosys:u.ecoState});s.writeLog(e.toObject()),i("")}})),r.createElement(c.A,{sx:{height:"calc ( 100vh - 48px - 256px )",overflowY:"scroll",alignItems:"flex-end",flexGrow:1}},r.createElement(Fl,{firestore:t,uid:a.uid,botRepr:s.botRepr})),r.createElement(c.A,{sx:{display:"flex",felxDirection:"row"}},r.createElement(c.A,null,r.createElement(bl,{repr:s.botRepr,panelWidth:Sl})),r.createElement(c.A,{sx:{flexGrow:1}}),r.createElement(c.A,null,r.createElement(wr,{user:a.user,panelWidth:Sl})))))}function Nl(){const[e,t]=function(){const{0:e,1:t}=(0,r.useState)(null),{0:n,1:o}=(0,r.useState)(null);return(0,r.useEffect)((()=>{let e;e=0===(0,a.Dk)().length?(0,a.Wp)({apiKey:"AIzaSyDJvutUFBVav4FARFY-PE_ZkQ41bC9mUVE",authDomain:"fairybiome-011.firebaseapp.com",projectId:"fairybiome-011",storageBucket:"fairybiome-011.appspot.com",messagingSenderId:"603257946066",appId:"1:603257946066:web:9e6e1da9d712cabf14920b",measurementId:"G-GEDTQ1JP5F"}):(0,a.Sx)(),t(e),o((0,u.aU)(e))}),[]),[e,n]}();return r.createElement(o.A,{maxWidth:"xs",disableGutters:!0,sx:{height:"100vh"}},r.createElement(Nr,{firebase:e,firestore:t},r.createElement(qr,{firestore:t},r.createElement(il,{firestore:t,summon:!0},r.createElement(Bl,{firestore:t})))))}const kl=e=>{let{data:t}=e;return r.createElement(r.Fragment,null,r.createElement("html",{lang:"ja"}),r.createElement("title",null,t.site.siteMetadata.title))}},1880:function(e){e.exports=function e(t,n){"use strict";var r,o,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,c=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=l(t).replace(a,"")||"",h=l(n).replace(a,"")||"",d=f.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=h.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(s),16)||1!==d.length&&f.match(u)&&Date.parse(f),g=parseInt(h.match(s),16)||m&&h.match(u)&&Date.parse(h)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,y=Math.max(d.length,p.length);v<y;v++){if(r=!(d[v]||"").match(c)&&parseFloat(d[v])||d[v]||0,o=!(p[v]||"").match(c)&&parseFloat(p[v])||p[v]||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(r>o)return 1}return 0}},1377:function(e){!function(t){"use strict";var n={s:1,n:0,d:1};function r(e,t){if(isNaN(e=parseInt(e,10)))throw l();return e*t}function o(e,t){if(0===t)throw c();var n=Object.create(s.prototype);n.s=e<0?-1:1;var r=u(e=e<0?-e:e,t);return n.n=e/r,n.d=t/r,n}function i(e){for(var t={},n=e,r=2,o=4;o<=n;){for(;n%r==0;)n/=r,t[r]=(t[r]||0)+1;o+=1+2*r++}return n!==e?n>1&&(t[n]=(t[n]||0)+1):t[e]=(t[e]||0)+1,t}var a=function(e,t){var o,i=0,a=1,u=1,s=0,h=0,d=0,p=1,m=1,g=0,v=1,y=1,b=1,D=1e7;if(null==e);else if(void 0!==t){if(u=(i=e)*(a=t),i%1!=0||a%1!=0)throw f()}else switch(typeof e){case"object":if("d"in e&&"n"in e)i=e.n,a=e.d,"s"in e&&(i*=e.s);else{if(!(0 in e))throw l();i=e[0],1 in e&&(a=e[1])}u=i*a;break;case"number":if(e<0&&(u=e,e=-e),e%1==0)i=e;else if(e>0){for(e>=1&&(e/=m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));v<=D&&b<=D;){if(e===(o=(g+y)/(v+b))){v+b<=D?(i=g+y,a=v+b):b>v?(i=y,a=b):(i=g,a=v);break}e>o?(g+=y,v+=b):(y+=g,b+=v),v>D?(i=y,a=b):(i=g,a=v)}i*=m}else(isNaN(e)||isNaN(t))&&(a=i=NaN);break;case"string":if(null===(v=e.match(/\d+|./g)))throw l();if("-"===v[g]?(u=-1,g++):"+"===v[g]&&g++,v.length===g+1?h=r(v[g++],u):"."===v[g+1]||"."===v[g]?("."!==v[g]&&(s=r(v[g++],u)),(++g+1===v.length||"("===v[g+1]&&")"===v[g+3]||"'"===v[g+1]&&"'"===v[g+3])&&(h=r(v[g],u),p=Math.pow(10,v[g].length),g++),("("===v[g]&&")"===v[g+2]||"'"===v[g]&&"'"===v[g+2])&&(d=r(v[g+1],u),m=Math.pow(10,v[g+1].length)-1,g+=3)):"/"===v[g+1]||":"===v[g+1]?(h=r(v[g],u),p=r(v[g+2],1),g+=3):"/"===v[g+3]&&" "===v[g+1]&&(s=r(v[g],u),h=r(v[g+2],u),p=r(v[g+4],1),g+=5),v.length<=g){u=i=d+(a=p*m)*s+m*h;break}default:throw l()}if(0===a)throw c();n.s=u<0?-1:1,n.n=Math.abs(i),n.d=Math.abs(a)};function u(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function s(e,t){if(a(e,t),!(this instanceof s))return o(n.s*n.n,n.d);e=u(n.d,n.n),this.s=n.s,this.n=n.n/e,this.d=n.d/e}var c=function(){return new Error("Division by Zero")},l=function(){return new Error("Invalid argument")},f=function(){return new Error("Parameters must be integer")};s.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(e,t){return a(e,t),o(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(e,t){return a(e,t),o(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(e,t){return a(e,t),o(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(e,t){return a(e,t),o(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(e,t){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(void 0===e)return o(this.s*this.n%this.d,1);if(a(e,t),0===n.n&&0===this.d)throw c();return o(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(e,t){return a(e,t),o(u(n.n,this.n)*u(n.d,this.d),n.d*this.d)},lcm:function(e,t){return a(e,t),0===n.n&&0===this.n?o(0,1):o(n.n*this.n,u(n.n,this.n)*u(n.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):o(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):o(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):o(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(e,t){if(a(e,t),1===n.d)return n.s<0?o(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):o(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=i(this.n),u=i(this.d),s=1,c=1;for(var l in r)if("1"!==l){if("0"===l){s=0;break}if(r[l]*=n.n,r[l]%n.d!=0)return null;r[l]/=n.d,s*=Math.pow(l,r[l])}for(var l in u)if("1"!==l){if(u[l]*=n.n,u[l]%n.d!=0)return null;u[l]/=n.d,c*=Math.pow(l,u[l])}return n.s<0?o(c,s):o(s,c)},equals:function(e,t){return a(e,t),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(e,t){a(e,t);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),n=t.toContinued(),r=1;r<n.length;r++){for(var i=o(n[r-1],1),a=r-2;a>=0;a--)i=i.inverse().add(n[a]);if(Math.abs(i.sub(t).valueOf())<e)return i.mul(this.s)}return this},divisible:function(e,t){return a(e,t),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,o=this.d;return this.s<0&&(n+="-"),1===o?n+=r:(e&&(t=Math.floor(r/o))>0&&(n+=t,n+=" ",r%=o),n+=r,n+="/",n+=o),n},toLatex:function(e){var t,n="",r=this.n,o=this.d;return this.s<0&&(n+="-"),1===o?n+=r:(e&&(t=Math.floor(r/o))>0&&(n+=t,r%=o),n+="\\frac{",n+=r,n+="}{",n+=o,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t=this.n,n=this.d;if(isNaN(t)||isNaN(n))return"NaN";e=e||15;var r=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,n),o=function(e,t,n){for(var r=1,o=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),i=0;i<300;i++){if(r===o)return i;r=10*r%t,o=10*o%t}return 0}(0,n,r),i=this.s<0?"-":"";if(i+=t/n|0,t%=n,(t*=10)&&(i+="."),r){for(var a=o;a--;)i+=t/n|0,t%=n,t*=10;i+="(";for(a=r;a--;)i+=t/n|0,t%=n,t*=10;i+=")"}else for(a=e;t&&a--;)i+=t/n|0,t%=n,t*=10;return i}},Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,e.exports=s}()},7391:function(e,t,n){var r=n(7180),o=n(3181),i=n(3031),a=n(1448),u=n(6833),s=n(3717),c=n(4801);c.alea=r,c.xor128=o,c.xorwow=i,c.xorshift7=a,c.xor4096=u,c.tychei=s,e.exports=c},7180:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new a(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},3717:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},3181:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},6833:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,u=[],s=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,s=Math.max(s,t.length)),o=0,i=-32;i<s;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=u[127&i]^=r+a)?o+1:0);for(o>=128&&(u[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=u[o+34&127],n=u[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[o]=r^n;e.w=a,e.X=u,e.i=o}(t,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},1448:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},3031:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&u(r,n),o.state=function(){return u(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},4801:function(e,t,n){var r;!function(o,i,a){var u,s=256,c=a.pow(s,6),l=a.pow(2,52),f=2*l,h=s-1;function d(e,t,n){var r=[],h=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return u&&(e=u.randomBytes)?e=e(s):(e=new Uint8Array(s),(o.crypto||o.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,y(i)]}}():e,3),r),d=new p(r),b=function(){for(var e=d.g(6),t=c,n=0;e<l;)e=(e+n)*s,t*=s,n=d.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,v(y(d.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,d),e.state=function(){return m(d,{})}),n?(a.random=e,t):e})(b,h,"global"in t?t.global:this==a,t.state)}function p(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<s;)a[o]=o++;for(o=0;o<s;o++)a[o]=a[i=h&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=h&o+1],n=n*s+a[h&(a[o]=a[i=h&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(s)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==o?e:e+"\0"}function v(e,t){for(var n,r=e+"",o=0;o<r.length;)t[h&o]=h&(n^=19*t[h&o])+r.charCodeAt(o++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(v(a.random(),i),e.exports){e.exports=d;try{u=n(1234)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},1234:function(){},3693:function(e,t,n){var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9045:function(e,t,n){var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:function(e,t,n){var r=n(3738).default,o=n(9045);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2369:function(e){e.exports=function(){"use strict";function e(){return!0}function t(){return!1}function n(){}const r="Argument is not a typed-function.";function o(){function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object}const a=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:i},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],u={name:"any",test:e,isAny:!0};let s,c,l=0,f={createCount:0};function h(e){const t=s.get(e);if(t)return t;let n='Unknown type "'+e+'"';const r=e.toLowerCase();let o;for(o of c)if(o.toLowerCase()===r){n+='. Did you mean "'+o+'" ?';break}throw new TypeError(n)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=t?h(t).index:c.length,r=[];for(let i=0;i<e.length;++i){if(!e[i]||"string"!=typeof e[i].name||"function"!=typeof e[i].test)throw new TypeError("Object with properties {name: string, test: function} expected");const t=e[i].name;if(s.has(t))throw new TypeError('Duplicate type name "'+t+'"');r.push(t),s.set(t,{name:t,test:e[i].test,isAny:e[i].isAny,index:n+i,conversionsTo:[]})}const o=c.slice(n);c=c.slice(0,n).concat(r).concat(o);for(let i=n+r.length;i<c.length;++i)s.get(c[i]).index=i}function p(){s=new Map,c=[],l=0,d([u],!1)}function m(){let e;for(e of c)s.get(e).conversionsTo=[];l=0}function g(e){const t=c.filter((t=>{const n=s.get(t);return!n.isAny&&n.test(e)}));return t.length?t:["any"]}function v(e){return e&&"function"==typeof e&&"_typedFunctionData"in e}function y(e,t,n){if(!v(e))throw new TypeError(r);const o=n&&n.exact,i=C(Array.isArray(t)?t.join(","):t),a=w(i);if(!o||a in e.signatures){const t=e._typedFunctionData.signatureMap.get(a);if(t)return t}const u=i.length;let s,c;if(o){let t;for(t in s=[],e.signatures)s.push(e._typedFunctionData.signatureMap.get(t))}else s=e._typedFunctionData.signatures;for(let r=0;r<u;++r){const e=i[r],t=[];let n;for(n of s){const o=N(n.params,r);if(o&&(!e.restParam||o.restParam)){if(!o.hasAny){const t=x(o);if(e.types.some((e=>!t.has(e.name))))continue}t.push(n)}}if(s=t,0===s.length)break}for(c of s)if(c.params.length<=u)return c;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+w(i,", ")+"))")}function b(e,t,n){return y(e,t,n).implementation}function D(e,t){const n=h(t);if(n.test(e))return e;const r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+t+" defined.");for(let o=0;o<r.length;o++)if(h(r[o].from).test(e))return r[o].convert(e);throw new Error("Cannot convert "+e+" to "+t)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map((e=>e.name)).join(t)}function A(e){const t=0===e.indexOf("..."),n=(t?e.length>3?e.slice(3):"any":e).split("|").map((e=>h(e.trim())));let r=!1,o=t?"...":"";return{types:n.map((function(e){return r=e.isAny||r,o+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}})),name:o.slice(0,-1),hasAny:r,hasConversion:!1,restParam:t}}function E(e){const t=j(e.types.map((e=>e.name)));let n=e.hasAny,r=e.name;const o=t.map((function(e){const t=h(e.from);return n=t.isAny||n,r+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}}));return{types:e.types.concat(o),name:r,hasAny:n,hasConversion:o.length>0,restParam:e.restParam}}function x(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach((t=>e.typeSet.add(t.name)))),e.typeSet}function C(e){const t=[];if("string"!=typeof e)throw new TypeError("Signatures must be strings");const n=e.trim();if(""===n)return t;const r=n.split(",");for(let o=0;o<r.length;++o){const e=A(r[o].trim());if(e.restParam&&o!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[o]+'": only allowed for the last parameter');if(0===e.types.length)return null;t.push(e)}return t}function F(e){const t=G(e);return!!t&&t.restParam}function S(t){if(t&&0!==t.types.length){if(1===t.types.length)return h(t.types[0].name).test;if(2===t.types.length){const e=h(t.types[0].name).test,n=h(t.types[1].name).test;return function(t){return e(t)||n(t)}}{const e=t.types.map((function(e){return h(e.name).test}));return function(t){for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}}return e}function B(e){let t,n,r;if(F(e)){t=Y(e).map(S);const n=t.length,r=S(G(e)),o=function(e){for(let t=n;t<e.length;t++)if(!r(e[t]))return!1;return!0};return function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return o(e)&&e.length>=n+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=S(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=S(e[0]),r=S(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(S),function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function N(e,t){return t<e.length?e[t]:F(e)?G(e):null}function k(e,t){const n=N(e,t);return n?x(n):new Set}function M(e){return null===e.conversion||void 0===e.conversion}function I(e,t){const n=new Set;return e.forEach((e=>{const r=k(e.params,t);let o;for(o of r)n.add(o)})),n.has("any")?["any"]:Array.from(n)}function _(e,t,n){let r,o;const i=e||"unnamed";let a,u=n;for(a=0;a<t.length;a++){const e=[];if(u.forEach((n=>{const r=S(N(n.params,a));(a<n.params.length||F(n.params))&&r(t[a])&&e.push(n)})),0===e.length){if(o=I(u,a),o.length>0){const e=g(t[a]);return r=new TypeError("Unexpected type of argument in function "+i+" (expected: "+o.join(" or ")+", actual: "+e.join(" | ")+", index: "+a+")"),r.data={category:"wrongType",fn:i,index:a,actual:e,expected:o},r}}else u=e}const s=u.map((function(e){return F(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,s))return o=I(u,a),r=new TypeError("Too few arguments in function "+i+" (expected: "+o.join(" or ")+", index: "+t.length+")"),r.data={category:"tooFewArgs",fn:i,index:t.length,expected:o},r;const c=Math.max.apply(null,s);if(t.length>c)return r=new TypeError("Too many arguments in function "+i+" (expected: "+c+", actual: "+t.length+")"),r.data={category:"tooManyArgs",fn:i,index:t.length,expectedLength:c},r;const l=[];for(let f=0;f<t.length;++f)l.push(g(t[f]).join("|"));return r=new TypeError('Arguments of type "'+l.join(", ")+'" do not match any of the defined signatures of function '+i+"."),r.data={category:"mismatch",actual:l},r}function O(e){let t=c.length+1;for(let n=0;n<e.types.length;n++)M(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function T(e){let t=l+1;for(let n=0;n<e.types.length;n++)M(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function R(e,t){if(e.hasAny){if(!t.hasAny)return 1}else if(t.hasAny)return-1;if(e.restParam){if(!t.restParam)return 1}else if(t.restParam)return-1;if(e.hasConversion){if(!t.hasConversion)return 1}else if(t.hasConversion)return-1;const n=O(e)-O(t);if(n<0)return-1;if(n>0)return 1;const r=T(e)-T(t);return r<0?-1:r>0?1:0}function P(e,t){const n=e.params,r=t.params,o=G(n),i=G(r),a=F(n),u=F(r);if(a&&o.hasAny){if(!u||!i.hasAny)return 1}else if(u&&i.hasAny)return-1;let s,c=0,l=0;for(s of n)s.hasAny&&++c,s.hasConversion&&++l;let f=0,h=0;for(s of r)s.hasAny&&++f,s.hasConversion&&++h;if(c!==f)return c-f;if(a&&o.hasConversion){if(!u||!i.hasConversion)return 1}else if(u&&i.hasConversion)return-1;if(l!==h)return l-h;if(a){if(!u)return 1}else if(u)return-1;const d=(n.length-r.length)*(a?-1:1);if(0!==d)return d;const p=[];let m,g=0;for(let v=0;v<n.length;++v){const e=R(n[v],r[v]);p.push(e),g+=e}if(0!==g)return g;for(m of p)if(0!==m)return m;return 0}function j(e){if(0===e.length)return[];const t=e.map(h);e.length>1&&t.sort(((e,t)=>e.index-t.index));let n=t[0].conversionsTo;if(1===e.length)return n;n=n.concat([]);const r=new Set(e);for(let o=1;o<t.length;++o){let e;for(e of t[o].conversionsTo)r.has(e.from)||(n.push(e),r.add(e.from))}return n}function L(e,t){let n=t;if(e.some((e=>e.hasConversion))){const r=F(e),o=e.map(z);n=function(){const e=[],n=r?arguments.length-1:arguments.length;for(let t=0;t<n;t++)e[t]=o[t](arguments[t]);return r&&(e[n]=arguments[n].map(o[n])),t.apply(this,e)}}let r=n;if(F(e)){const t=e.length-1;r=function(){return n.apply(this,Z(arguments,0,t).concat([Z(arguments,t)]))}}return r}function z(e){let t,n,r,o;const i=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(i.push(h(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=i[0],r=a[0],function(e){return t(e)?r(e):e};case 2:return t=i[0],n=i[1],r=a[0],o=a[1],function(e){return t(e)?r(e):n(e)?o(e):e};default:return function(e){for(let t=0;t<a.length;t++)if(i[t](e))return a[t](e);return e}}}function $(e){function t(e,n,r){if(n<e.length){const o=e[n];let i=[];if(o.restParam){const e=o.types.filter(M);e.length<o.types.length&&i.push({types:e,name:"..."+e.map((e=>e.name)).join("|"),hasAny:e.some((e=>e.isAny)),hasConversion:!1,restParam:!0}),i.push(o)}else i=o.types.map((function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}}));return Q(i,(function(o){return t(e,n+1,r.concat([o]))}))}return[r]}return t(e,0,[])}function q(e,t){const n=Math.max(e.length,t.length);for(let u=0;u<n;u++){const n=k(e,u),r=k(t,u);let o,i=!1;for(o of r)if(n.has(o)){i=!0;break}if(!i)return!1}const r=e.length,o=t.length,i=F(e),a=F(t);return i?a?r===o:o>=r:a?r>=o:r===o}function K(e){return e.map((e=>oe(e)?ne(e.referToSelf.callback):re(e)?te(e.referTo.references,e.referTo.callback):e))}function W(e,t,n){const r=[];let o;for(o of e){let e=n[o];if("number"!=typeof e)throw new TypeError('No definition for referenced signature "'+o+'"');if(e=t[e],"function"!=typeof e)return!1;r.push(e)}return r}function U(e,t,n){const r=K(e),o=new Array(r.length).fill(!1);let i=!0;for(;i;){i=!1;let e=!0;for(let a=0;a<r.length;++a){if(o[a])continue;const u=r[a];if(oe(u))r[a]=u.referToSelf.callback(n),r[a].referToSelf=u.referToSelf,o[a]=!0,e=!1;else if(re(u)){const n=W(u.referTo.references,r,t);n?(r[a]=u.referTo.callback.apply(this,n),r[a].referTo=u.referTo,o[a]=!0,e=!1):i=!0}}if(e&&i)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function H(e){const t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach((n=>{const r=e[n];if(t.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function V(e,r){if(f.createCount++,0===Object.keys(r).length)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&H(r);const o=[],i=[],a={},u=[];let s;for(s in r){if(!Object.prototype.hasOwnProperty.call(r,s))continue;const e=C(s);if(!e)continue;o.forEach((function(t){if(q(t,e))throw new TypeError('Conflicting signatures "'+w(t)+'" and "'+w(e)+'".')})),o.push(e);const t=i.length;i.push(r[s]);const n=e.map(E);let c;for(c of $(n)){const e=w(c);u.push({params:c,name:e,fn:t}),c.every((e=>!e.hasConversion))&&(a[e]=t)}}u.sort(P);const c=U(i,a,se);let l;for(l in a)Object.prototype.hasOwnProperty.call(a,l)&&(a[l]=c[a[l]]);const h=[],d=new Map;for(l of u)d.has(l.name)||(l.fn=c[l.fn],h.push(l),d.set(l.name,l));const p=h[0]&&h[0].params.length<=2&&!F(h[0].params),m=h[1]&&h[1].params.length<=2&&!F(h[1].params),g=h[2]&&h[2].params.length<=2&&!F(h[2].params),v=h[3]&&h[3].params.length<=2&&!F(h[3].params),y=h[4]&&h[4].params.length<=2&&!F(h[4].params),b=h[5]&&h[5].params.length<=2&&!F(h[5].params),D=p&&m&&g&&v&&y&&b;for(let t=0;t<h.length;++t)h[t].test=B(h[t].params);const A=p?S(h[0].params[0]):t,x=m?S(h[1].params[0]):t,N=g?S(h[2].params[0]):t,k=v?S(h[3].params[0]):t,M=y?S(h[4].params[0]):t,I=b?S(h[5].params[0]):t,_=p?S(h[0].params[1]):t,O=m?S(h[1].params[1]):t,T=g?S(h[2].params[1]):t,R=v?S(h[3].params[1]):t,j=y?S(h[4].params[1]):t,z=b?S(h[5].params[1]):t;for(let t=0;t<h.length;++t)h[t].implementation=L(h[t].params,h[t].fn);const K=p?h[0].implementation:n,W=m?h[1].implementation:n,V=g?h[2].implementation:n,X=v?h[3].implementation:n,Y=y?h[4].implementation:n,G=b?h[5].implementation:n,Z=p?h[0].params.length:-1,J=m?h[1].params.length:-1,Q=g?h[2].params.length:-1,ee=v?h[3].params.length:-1,te=y?h[4].params.length:-1,ne=b?h[5].params.length:-1,re=D?6:0,oe=h.length,ie=h.map((e=>e.test)),ae=h.map((e=>e.implementation)),ue=function(){for(let e=re;e<oe;e++)if(ie[e](arguments))return ae[e].apply(this,arguments);return f.onMismatch(e,arguments,h)};function se(e,t){return arguments.length===Z&&A(e)&&_(t)?K.apply(this,arguments):arguments.length===J&&x(e)&&O(t)?W.apply(this,arguments):arguments.length===Q&&N(e)&&T(t)?V.apply(this,arguments):arguments.length===ee&&k(e)&&R(t)?X.apply(this,arguments):arguments.length===te&&M(e)&&j(t)?Y.apply(this,arguments):arguments.length===ne&&I(e)&&z(t)?G.apply(this,arguments):ue.apply(this,arguments)}try{Object.defineProperty(se,"name",{value:e})}catch(ce){}return se.signatures=a,se._typedFunctionData={signatures:h,signatureMap:d},se}function X(e,t,n){throw _(e,t,n)}function Y(e){return Z(e,0,e.length-1)}function G(e){return e[e.length-1]}function Z(e,t,n){return Array.prototype.slice.call(e,t,n)}function J(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Q(e,t){return Array.prototype.concat.apply([],e.map(t))}function ee(){const e=Y(arguments).map((e=>w(C(e)))),t=G(arguments);if("function"!=typeof t)throw new TypeError("Callback function expected as last argument");return te(e,t)}function te(e,t){return{referTo:{references:e,callback:t}}}function ne(e){if("function"!=typeof e)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function re(e){return e&&"object"==typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"==typeof e.referTo.callback}function oe(e){return e&&"object"==typeof e.referToSelf&&"function"==typeof e.referToSelf.callback}function ie(e,t){if(!e)return t;if(t&&t!==e){const n=new Error("Function names do not match (expected: "+e+", actual: "+t+")");throw n.data={actual:t,expected:e},n}return e}function ae(e){let t;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(v(e[n])||"string"==typeof e[n].signature)&&(t=ie(t,e[n].name));return t}function ue(e,t){let n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(n in e&&t[n]!==e[n]){const r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:t[n],destFunction:e[n]},r}e[n]=t[n]}}p(),d(a);const se=f;function ce(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw new SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return f=function(e){const t="string"==typeof e;let n=t?e:"";const r={};for(let o=t?1:0;o<arguments.length;++o){const e=arguments[o];let a,u={};if("function"==typeof e?(a=e.name,"string"==typeof e.signature?u[e.signature]=e:v(e)&&(u=e.signatures)):i(e)&&(u=e,t||(a=ae(e))),0===Object.keys(u).length){const t=new TypeError("Argument to 'typed' at index "+o+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:o,argument:e},t}t||(n=ie(n,a)),ue(r,u)}return V(n||"",r)},f.create=o,f.createCount=se.createCount,f.onMismatch=X,f.throwMismatchError=X,f.createError=_,f.clear=p,f.clearConversions=m,f.addTypes=d,f._findType=h,f.referTo=ee,f.referToSelf=ne,f.convert=D,f.findSignature=y,f.find=b,f.isTypedFunction=v,f.warnAgainstDeprecatedThis=!0,f.addType=function(e,t){let n="any";!1!==t&&s.has("Object")&&(n="Object"),f.addTypes([e],n)},f.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};ce(e);const n=h(e.to),r=n.conversionsTo.find((t=>t.from===e.from));if(r){if(!t||!t.override)throw new Error('There is already a conversion from "'+e.from+'" to "'+n.name+'"');f.removeConversion({from:r.from,to:e.to,convert:r.convert})}n.conversionsTo.push({from:e.from,convert:e.convert,index:l++})},f.addConversions=function(e,t){e.forEach((e=>f.addConversion(e,t)))},f.removeConversion=function(e){ce(e);const t=h(e.to),n=J(t.conversionsTo,(t=>t.from===e.from));if(!n)throw new Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(n.convert!==e.convert)throw new Error("Conversion to remove does not match existing conversion");const r=t.conversionsTo.indexOf(n);t.conversionsTo.splice(r,1)},f.resolve=function(e,t){if(!v(e))throw new TypeError(r);const n=e._typedFunctionData.signatures;for(let r=0;r<n.length;++r)if(n[r].test(t))return n[r];return null},f}return o()}()},1990:function(e,t,n){"use strict";n.d(t,{MF:function(){return le},j6:function(){return ie},xZ:function(){return ae},om:function(){return oe},Sx:function(){return he},Dk:function(){return de},Wp:function(){return fe},KO:function(){return pe}});var r=n(5125),o=n(3424),i=n(6743);const a=(e,t)=>t.some((t=>e instanceof t));let u,s;const c=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap,d=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(y(this),t),v(c.get(this))}:function(...t){return v(e.apply(y(this),t))}:function(t,...n){const r=e.call(y(this),t,...n);return f.set(r,t.sort?t.sort():[t]),v(r)}}function g(e){return"function"==typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));l.set(e,t)}(e),a(e,u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,p):e)}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(v(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),d.set(t,e)),t}const y=e=>d.get(e);const b=["get","getKey","getAll","getAllKeys","count"],D=["put","add","delete","clear"],w=new Map;function A(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=D.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!b.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),o&&i.done]))[0]};return w.set(t,i),i}p=(e=>({...e,get:(t,n,r)=>A(t,n)||e.get(t,n,r),has:(t,n)=>!!A(t,n)||e.has(t,n)}))(p);class E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const x="@firebase/app",C="0.10.5",F=new o.Vy("@firebase/app"),S="@firebase/app-compat",B="@firebase/analytics-compat",N="@firebase/analytics",k="@firebase/app-check-compat",M="@firebase/app-check",I="@firebase/auth",_="@firebase/auth-compat",O="@firebase/database",T="@firebase/database-compat",R="@firebase/functions",P="@firebase/functions-compat",j="@firebase/installations",L="@firebase/installations-compat",z="@firebase/messaging",$="@firebase/messaging-compat",q="@firebase/performance",K="@firebase/performance-compat",W="@firebase/remote-config",U="@firebase/remote-config-compat",H="@firebase/storage",V="@firebase/storage-compat",X="@firebase/firestore",Y="@firebase/vertexai-preview",G="@firebase/firestore-compat",Z="firebase",J="[DEFAULT]",Q={[x]:"fire-core",[S]:"fire-core-compat",[N]:"fire-analytics",[B]:"fire-analytics-compat",[M]:"fire-app-check",[k]:"fire-app-check-compat",[I]:"fire-auth",[_]:"fire-auth-compat",[O]:"fire-rtdb",[T]:"fire-rtdb-compat",[R]:"fire-fn",[P]:"fire-fn-compat",[j]:"fire-iid",[L]:"fire-iid-compat",[z]:"fire-fcm",[$]:"fire-fcm-compat",[q]:"fire-perf",[K]:"fire-perf-compat",[W]:"fire-rc",[U]:"fire-rc-compat",[H]:"fire-gcs",[V]:"fire-gcs-compat",[X]:"fire-fst",[G]:"fire-fst-compat",[Y]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){F.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function oe(e){const t=e.name;if(ne.has(t))return F.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of ee.values())re(n,e);for(const n of te.values())re(n,e);return!0}function ie(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return void 0!==e.settings}const ue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},se=new i.FA("app","Firebase",ue);class ce{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw se.create("app-deleted",{appName:this._name})}}const le="10.12.2";function fe(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const o=Object.assign({name:J,automaticDataCollectionEnabled:!1},t),a=o.name;if("string"!=typeof a||!a)throw se.create("bad-app-name",{appName:String(a)});if(n||(n=(0,i.T9)()),!n)throw se.create("no-options");const u=ee.get(a);if(u){if((0,i.bD)(n,u.options)&&(0,i.bD)(o,u.config))return u;throw se.create("duplicate-app",{appName:a})}const s=new r.h1(a);for(const r of ne.values())s.addComponent(r);const c=new ce(n,o,s);return ee.set(a,c),c}function he(e=J){const t=ee.get(e);if(!t&&e===J&&(0,i.T9)())return fe();if(!t)throw se.create("no-app",{appName:e});return t}function de(){return Array.from(ee.values())}function pe(e,t,n){var o;let i=null!==(o=Q[e])&&void 0!==o?o:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&e.push("and"),u&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void F.warn(e.join(" "))}oe(new r.uA(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const me="firebase-heartbeat-database",ge=1,ve="firebase-heartbeat-store";let ye=null;function be(){return ye||(ye=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),u=v(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(v(a.result),e.oldVersion,e.newVersion,v(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),u.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),u}(me,ge,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ve)}catch(n){console.warn(n)}}}).catch((e=>{throw se.create("idb-open",{originalErrorMessage:e.message})}))),ye}async function De(e,t){try{const n=(await be()).transaction(ve,"readwrite"),r=n.objectStore(ve);await r.put(t,we(e)),await n.done}catch(n){if(n instanceof i.g)F.warn(n.message);else{const e=se.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});F.warn(e.message)}}}function we(e){return`${e.name}!${e.options.appId}`}class Ae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ee();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ee(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),Ce(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ce(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=(0,i.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Ee(){return(new Date).toISOString().substring(0,10)}class xe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.zW)()&&(0,i.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await be()).transaction(ve),n=await t.objectStore(ve).get(we(e));return await t.done,n}catch(t){if(t instanceof i.g)F.warn(t.message);else{const e=se.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});F.warn(e.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return De(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return De(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ce(e){return(0,i.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Fe;Fe="",oe(new r.uA("platform-logger",(e=>new E(e)),"PRIVATE")),oe(new r.uA("heartbeat",(e=>new Ae(e)),"PRIVATE")),pe(x,C,Fe),pe(x,C,"esm2017"),pe("fire-js","")},5125:function(e,t,n){"use strict";n.d(t,{h1:function(){return u},uA:function(){return o}});var r=n(6743);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=i){return this.instances.has(e)}getOptions(e=i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===i?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(o){}var r;return n||null}normalizeInstanceIdentifier(e=i){return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},3424:function(e,t,n){"use strict";n.d(t,{$b:function(){return o},Vy:function(){return c}});const r=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const i={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},a=o.INFO,u={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},s=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=u[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=s,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...e),this._logHandler(this,o.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...e),this._logHandler(this,o.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,o.INFO,...e),this._logHandler(this,o.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,o.WARN,...e),this._logHandler(this,o.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...e),this._logHandler(this,o.ERROR,...e)}}},2429:function(e,t,n){"use strict";n.d(t,{VV:function(){return o},jz:function(){return r}});var r,o,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],a=t+(i^n&(o^i))+r[0]+3614090360&4294967295;a=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((o=i+((a=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function i(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(o[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,o),i=0;break}}else for(;a<t;)if(o[i++]=e[a++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var u={};function s(e){return-128<=e&&128>e?function(e,t){var n=u;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],0>e?-1:0)})):new i([0|e],0>e?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return m(c(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var l=s(0),f=s(1),h=s(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(f)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(l,l);if(p(e))return t=b(m(e),t),new y(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new y(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=f,r=t;0>=r.l(e);)n=D(n),r=D(r);var o=w(n,1),i=w(r,1);for(r=w(r,2),n=w(n,2);!d(r);){var a=i.add(r);0>=a.l(e)&&(o=o.add(n),i=a),r=w(r,1),n=w(n,1)}return t=g(e,o.j(t)),new y(o,t)}for(o=l;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(i=c(n)).j(t);p(a)||0<a.l(e);)a=(i=c(n-=r)).j(t);d(i)&&(i=f),o=o.add(i),e=g(e,a)}return new y(o,e)}function D(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,o=[],a=0;a<r;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new i(o,e.h)}(e=i.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=c(Math.pow(e,6)),n=this,r="";;){var o=b(n,t).g,i=((0<(n=g(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:d(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,o=0;o<=t;o++){var a=r+(65535&this.i(o))+(65535&e.i(o)),u=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);r=u>>>16,a&=65535,u&=65535,n[o]=u<<16|a}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return l;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return c(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<e.g.length;o++){var a=this.i(r)>>>16,u=65535&this.i(r),s=e.i(o)>>>16,f=65535&e.i(o);n[2*r+2*o]+=u*f,v(n,2*r+2*o),n[2*r+2*o+1]+=a*f,v(n,2*r+2*o+1),n[2*r+2*o+1]+=u*s,v(n,2*r+2*o+1),n[2*r+2*o+2]+=a*s,v(n,2*r+2*o+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,o=a.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=c(Math.pow(n,8)),o=l,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),u=parseInt(t.substring(i,i+a),n);8>a?(a=c(Math.pow(n,a)),o=o.j(a).add(c(u))):o=(o=o.j(r)).add(c(u))}return o},r=a.Integer=i}).apply(void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},1853:function(e,t,n){"use strict";n.d(t,{Ao:function(){return l},Bx:function(){return a},Jh:function(){return c},O4:function(){return u},ZS:function(){return r},_L:function(){return o},fF:function(){return f},iO:function(){return i},ro:function(){return s}});var r,o,i,a,u,s,c,l,f,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof h&&h];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in o))break e;o=o[a]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return t}))}}));var p=p||{},m=this||self;function g(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function D(e,t,n){return(D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function A(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function E(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(g(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function C(e){return/^[\s\xa0]*$/.test(e)}function F(){var e=m.navigator;return e&&(e=e.userAgent)?e:""}function S(e){return S[" "](e),e}S[" "]=function(){};var B=!(-1==F().indexOf("Gecko")||-1!=F().toLowerCase().indexOf("webkit")&&-1==F().indexOf("Edge")||-1!=F().indexOf("Trident")||-1!=F().indexOf("MSIE")||-1!=F().indexOf("Edge"));function N(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function k(e){const t={};for(const n in e)t[n]=e[n];return t}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<M.length;t++)n=M[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function O(e){m.setTimeout((()=>{throw e}),0)}function T(){var e=z;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var R=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new P),(e=>e.reset()));class P{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let j,L=!1,z=new class{constructor(){this.h=this.g=null}add(e,t){const n=R.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},$=()=>{const e=m.Promise.resolve(void 0);j=()=>{e.then(q)}};var q=()=>{for(var e;e=T();){try{e.h.call(e.g)}catch(n){O(n)}var t=R;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}L=!1};function K(){this.s=this.s,this.C=this.C}function W(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},W.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};m.addEventListener("test",e,t),m.removeEventListener("test",e,t)}catch(n){}return e}();function H(e,t){if(W.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(B){e:{try{S(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:V[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.aa.h.call(this)}}A(H,W);var V={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),Y=0;function G(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++Y,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function J(e){this.src=e,this.g={},this.h=0}function Q(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ee(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}J.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=ee(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new G(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var te="closure_lm_"+(1e6*Math.random()|0),ne={};function re(e,t,n,r,o){if(r&&r.once)return ie(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)re(e,t[i],n,r,o);return null}return n=he(n),e&&e[X]?e.K(t,n,v(r)?!!r.capture:!!r,o):oe(e,t,n,!1,r,o)}function oe(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=v(o)?!!o.capture:!!o,u=le(e);if(u||(e[te]=u=new J(e)),(n=u.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ce;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)U||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(se(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)ie(e,t[i],n,r,o);return null}return n=he(n),e&&e[X]?e.L(t,n,v(r)?!!r.capture:!!r,o):oe(e,t,n,!0,r,o)}function ae(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)ae(e,t[i],n,r,o);else r=v(r)?!!r.capture:!!r,n=he(n),e&&e[X]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ee(i=e.g[t],n,r,o))&&(Z(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=le(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ee(t,n,r,o)),(n=-1<e?t[e]:null)&&ue(n))}function ue(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[X])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=le(t))?(Q(n,e),0==n.h&&(n.src=null,t[te]=null)):Z(e)}}}function se(e){return e in ne?ne[e]:ne[e]="on"+e}function ce(e,t){if(e.da)e=!0;else{t=new H(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ue(e),e=n.call(r,t)}return e}function le(e){return(e=e[te])instanceof J?e:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(e){return"function"==typeof e?e:(e[fe]||(e[fe]=function(t){return e.handleEvent(t)}),e[fe])}function de(){K.call(this),this.i=new J(this),this.M=this,this.F=null}function pe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new W(t,e);else if(t instanceof W)t.target=t.target||e;else{var o=t;I(t=new W(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];o=me(a,r,!0,t)&&o}if(o=me(a=t.g=e,r,!0,t)&&o,o=me(a,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=me(a=t.g=n[i],r,!1,t)&&o}function me(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var u=a.listener,s=a.ha||a.src;a.fa&&Q(e.i,a),o=!1!==u.call(s,r)&&o}}return o&&!r.defaultPrevented}function ge(e,t,n){if("function"==typeof e)n&&(e=D(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=D(e.handleEvent,e)}return 2147483647<Number(t)?-1:m.setTimeout(e,t||0)}function ve(e){e.g=ge((()=>{e.g=null,e.i&&(e.i=!1,ve(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}A(de,K),de.prototype[X]=!0,de.prototype.removeEventListener=function(e,t,n,r){ae(this,e,t,n,r)},de.prototype.N=function(){if(de.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Z(n[r]);delete t.g[e],t.h--}}this.F=null},de.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},de.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ye extends K{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ve(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(e){K.call(this),this.h=e,this.g={}}A(be,K);var De=[];function we(e){N(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ue(e)}),e),e.g={}}be.prototype.N=function(){be.aa.N.call(this),we(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=m.JSON.stringify,Ee=m.JSON.parse,xe=class{stringify(e){return m.JSON.stringify(e,void 0)}parse(e){return m.JSON.parse(e,void 0)}};function Ce(){}function Fe(e){return e.h||(e.h=e.i())}function Se(){}Ce.prototype.h=null;var Be={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){W.call(this,"d")}function ke(){W.call(this,"c")}A(Ne,W),A(ke,W);var Me={},Ie=null;function _e(){return Ie=Ie||new de}function Oe(e){W.call(this,Me.La,e)}function Te(e){const t=_e();pe(t,new Oe(t))}function Re(e,t){W.call(this,Me.STAT_EVENT,e),this.stat=t}function Pe(e){const t=_e();pe(t,new Re(t,e))}function je(e,t){W.call(this,Me.Ma,e),this.size=t}function Le(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return m.setTimeout((function(){e()}),t)}function ze(){this.g=!0}function $e(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<o.length;a++)o[a]=""}}}return Ae(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Me.La="serverreachability",A(Oe,W),Me.STAT_EVENT="statevent",A(Re,W),Me.Ma="timingevent",A(je,W),ze.prototype.xa=function(){this.g=!1},ze.prototype.info=function(){};var qe,Ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ue(){}function He(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}A(Ue,Ce),Ue.prototype.g=function(){return new XMLHttpRequest},Ue.prototype.i=function(){return{}},qe=new Ue;var Xe={},Ye={};function Ge(e,t,n){e.L=1,e.v=At(vt(t)),e.m=n,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),et(e),e.A=vt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Rt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ve,e.g=xn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(D(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(De[0]=o.toString()),o=De);for(var i=0;i<o.length;i++){var a=re(n,o[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?k(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Te(),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var a="",u=i.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ye:(n=Number(t.substring(n,r)),isNaN(n)?Xe:(r+=1)+n>t.length?Ye:(t=t.slice(r,r+n),e.C=r+n,t))}function et(e){e.S=Date.now()+e.I,tt(e,e.I)}function tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Le(D(e.ba,e),t)}function nt(e){e.B&&(m.clearTimeout(e.B),e.B=null)}function rt(e){0==e.j.G||e.J||bn(e.j,e)}function ot(e){nt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||lt(n.h,e)))if(!e.K&&lt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),sn(n)}mn(n),Pe(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Le(D(n.Za,n),6e3));if(1>=ct(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&yn(n),!C(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const e=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(ft(i,i.h),i.h=null))}if(r.D){const e=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=En(r,r.J?r.ia:null,r.W),a.K){ht(r.h,a);var u=a,s=r.L;s&&(u.I=s),u.B&&(nt(u),et(u)),r.g=a}else pn(r);0<n.i.length&&ln(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):un(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Te()}catch(c){}}He.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==nn(e)?t.j():this.Y(e)},He.prototype.Y=function(e){try{if(e==this.g)e:{const f=nn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>f)&&(3!=f||this.g&&(this.h.h||this.g.oa()||rn(this.g)))){this.J||4!=f||7==t||Te(),nt(this);var n=this.g.Z();this.X=n;t:if(Je(this)){var r=rn(this.g);e="";var o=r.length,i=4==nn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ot(this),rt(this);var a="";break t}this.h.i=new m.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(i&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){t:{if(this.g){var u,s=this.g;if((u=s.g?s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(u)){var c=u;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Pe(12),ot(this),rt(this);break e}$e(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Qe(this,a),e==Ye){4==f&&(this.s=4,Pe(14),n=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}if(e==Xe){this.s=4,Pe(15),$e(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}$e(this.i,this.l,e,null),it(this,e)}if(Je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=f||0!=a.length||this.h.h||(this.s=1,Pe(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var l=this.j;l.g==this&&l.ba&&!l.M&&(l.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),gn(l),l.M=!0,Pe(11))}}else $e(this.i,this.l,a,"[Invalid Chunked Response]"),ot(this),rt(this)}else $e(this.i,this.l,a,null),it(this,a);4==f&&ot(this),this.o&&!this.J&&(4==f?bn(this.j,this):(this.o=!1,et(this)))}else(function(e){const t={};e=(e.g&&2<=nn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=_(e[r]);const o=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),ot(this),rt(this)}}}catch(f){}},He.prototype.cancel=function(){this.J=!0,ot(this)},He.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Te(),Pe(17)),ot(this),this.s=2,rt(this)):tt(this,this.S-e)};var at=class{constructor(e,t){this.g=e,this.map=t}};function ut(e){this.l=e||10,m.PerformanceNavigationTiming?e=0<(e=m.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function st(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ct(e){return e.h?1:e.g?e.g.size:0}function lt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ft(e,t){e.g?e.g.add(t):e.h=t}function ht(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return E(e.i)}function pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(g(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}ut.prototype.cancel=function(){if(this.i=dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof gt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,bt(this,e.s),this.l=e.l;var t=e.i,n=new It;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Dt(this,n),this.m=e.m}else e&&(t=String(e).match(mt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=Et(t[2]||""),this.g=Et(t[3]||"",!0),bt(this,t[4]),this.l=Et(t[5]||"",!0),Dt(this,t[6]||"",!0),this.m=Et(t[7]||"")):(this.h=!1,this.i=new It(null,this.h))}function vt(e){return new gt(e)}function yt(e,t,n){e.j=n?Et(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function Dt(e,t,n){t instanceof It?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ot(this,t),Rt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=xt(t,kt)),e.i=new It(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function At(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ct),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ct(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xt(t,St,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(xt(t,St,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xt(n,"/"==n.charAt(0)?Nt:Bt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",xt(n,Mt)),e.join("")};var Ft,St=/[#\/\?@]/g,Bt=/[#\?:]/g,Nt=/[#\?]/g,kt=/[#\?@]/g,Mt=/#/g;function It(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ot(e,t){_t(e),t=Pt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tt(e,t){return _t(e),t=Pt(e,t),e.g.has(t)}function Rt(e,t,n){Ot(e,t),0<n.length&&(e.i=null,e.g.set(Pt(e,t),E(n)),e.h+=n.length)}function Pt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function Lt(){this.g=new xe}function zt(e,t,n){const r=n||"";try{pt(e,(function(e,n){let o=e;v(e)&&(o=Ae(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function $t(e){this.l=e.Ub||null,this.j=e.eb||!1}function qt(e,t){de.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Kt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Wt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ut(e)}function Ut(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ht(e){let t="";return N(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Vt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ht(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Xt(e){de.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=It.prototype).add=function(e,t){_t(this),this.i=null,e=Pt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"==typeof e)Tt(this,e)&&(t=t.concat(this.g.get(Pt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,Tt(this,e=Pt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")},A($t,Ce),$t.prototype.g=function(){return new qt(this.l,this.j)},$t.prototype.i=(Ft={},function(){return Ft}),A(qt,de),(e=qt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ut(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||m).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ut(this)),this.g&&(this.readyState=3,Ut(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==m.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wt(this):Ut(this),3==this.readyState&&Kt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Wt(this))},e.Qa=function(e){this.g&&(this.response=e,Wt(this))},e.ga=function(){this.g&&Wt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),A(Xt,de);var Yt=/^https?$/i,Gt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),en(e)}function Jt(e){e.A||(e.A=!0,pe(e,"complete"),pe(e,"error"))}function Qt(e){if(e.h&&void 0!==p&&(!e.v[1]||4!=nn(e)||2!=e.Z()))if(e.u&&4==nn(e))ge(e.Ea,0,e);else if(pe(e,"readystatechange"),4==nn(e)){e.h=!1;try{const u=e.Z();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===u){var o=String(e.D).match(mt)[1]||null;!o&&m.self&&m.self.location&&(o=m.self.location.protocol.slice(0,-1)),r=!Yt.test(o?o.toLowerCase():"")}n=r}if(n)pe(e,"complete"),pe(e,"success");else{e.m=6;try{var i=2<nn(e)?e.g.statusText:""}catch(a){i=""}e.l=i+" ["+e.Z()+"]",Jt(e)}}finally{en(e)}}}function en(e,t){if(e.g){tn(e);const r=e.g,o=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||pe(e,"ready");try{r.onreadystatechange=o}catch(n){}}}function tn(e){e.I&&(m.clearTimeout(e.I),e.I=null)}function nn(e){return e.g?e.g.readyState:0}function rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function on(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new ze,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=on("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=on("baseRetryDelayMs",5e3,e),this.cb=on("retryDelaySeedMs",1e4,e),this.Wa=on("forwardChannelMaxRetries",2,e),this.wa=on("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ut(e&&e.concurrentRequestLimit),this.Da=new Lt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function un(e){if(cn(e),3==e.G){var t=e.U++,n=vt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),hn(e,n),(t=new He(e,e.j,t)).L=2,t.v=At(vt(n)),n=!1,m.navigator&&m.navigator.sendBeacon)try{n=m.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&m.Image&&((new Image).src=t.v,n=!0),n||(t.g=xn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),et(t)}An(e)}function sn(e){e.g&&(gn(e),e.g.cancel(),e.g=null)}function cn(e){sn(e),e.u&&(m.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&m.clearTimeout(e.s),e.s=null)}function ln(e){if(!st(e.h)&&!e.s){e.s=!0;var t=e.Ga;j||$(),L||(j(),L=!0),z.add(t,e),e.B=0}}function fn(e,t){var n;n=t?t.l:e.U++;const r=vt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),hn(e,r),e.m&&e.o&&Vt(r,e.m,e.o),n=new He(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=dn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ft(e.h,n),Ge(n,r,t)}function hn(e,t){e.H&&N(e.H,(function(e,n){wt(t,n,e)})),e.l&&pt({},(function(e,n){wt(t,n,e)}))}function dn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?D(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let u=0;u<n;u++){let n=o[u].g;const s=o[u].map;if(n-=t,0>n)t=Math.max(0,o[u].g-100),a=!1;else try{zt(s,e,"req"+n+"_")}catch(i){r&&r(s)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function pn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;j||$(),L||(j(),L=!0),z.add(t,e),e.v=0}}function mn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Le(D(e.Fa,e),Dn(e,e.v)),e.v++,!0)}function gn(e){null!=e.A&&(m.clearTimeout(e.A),e.A=null)}function vn(e){e.g=new He(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=vt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),hn(e,t),e.m&&e.o&&Vt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=At(vt(t)),n.m=null,n.P=!0,Ze(n,e)}function yn(e){null!=e.C&&(m.clearTimeout(e.C),e.C=null)}function bn(e,t){var n=null;if(e.g==t){yn(e),gn(e),e.g=null;var r=2}else{if(!lt(e.h,t))return;n=t.D,ht(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;pe(r=_e(),new je(r,n)),ln(e)}else pn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(ct(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Le(D(e.Ga,e,t),Dn(e,e.B)),e.B++,0)))}(e,t)||2==r&&mn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function Dn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=D(e.fb,e),r=e.Xa;const t=!r;r=new gt(r||"//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||yt(r,"https"),At(r),t?function(e,t){const n=new ze;if(m.Image){const r=new Image;r.onload=w(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=w(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=w(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=w(jt,n,"TestLoadImage: timeout",!1,t,r),m.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ze;const n=new AbortController,r=setTimeout((()=>{n.abort(),jt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)})).catch((()=>{clearTimeout(r),jt(0,0,!1,t)}))}(r.toString(),n)}else Pe(2);e.G=0,e.l&&e.l.sa(t),An(e),cn(e)}function An(e){if(e.G=0,e.ka=[],e.l){const t=dt(e.h);0==t.length&&0==e.i.length||(x(e.ka,t),x(e.ka,e.i),e.h.i.length=0,E(e.i),e.i.length=0),e.l.ra()}}function En(e,t,n){var r=n instanceof gt?vt(n):new gt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),bt(r,r.s);else{var o=m.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var i=new gt(null);r&&yt(i,r),t&&(i.g=t),o&&bt(i,o),n&&(i.l=n),r=i}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),hn(e,r),r}function xn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Xt(new $t({eb:n})):new Xt(e.pa)).Ha(e.J),t}function Cn(){}function Fn(){}function Sn(e,t){de.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!C(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kn(this)}function Bn(e){Ne.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nn(){ke.call(this),this.status=1}function kn(e){this.g=e}(e=Xt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Fe(this.o):Fe(qe),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Zt(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=m.FormData&&e instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Gt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of n)this.g.setRequestHeader(a,u);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tn(this),this.u=!0,this.g.send(e),this.u=!1}catch(i){Zt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,pe(this,"complete"),pe(this,"abort"),en(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Xt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qt(this):this.bb())},e.bb=function(){Qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch(Ft){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ft){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ee(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Pe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=En(this,null,this.W),ln(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new He(this,this.j,e);let i=this.o;if(this.S&&(i?(i=k(i),I(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dn(this,o,t),wt(n=vt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),hn(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ht(i)))+"&"+t:this.m&&Vt(n,this.m,i)),ft(this.h,o),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),o.T=!0,Ge(o,n,null)):Ge(o,n,t),this.G=2}}else 3==this.G&&(e?fn(this,e):0==this.i.length||st(this.h)||fn(this))},e.Fa=function(){if(this.u=null,vn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Le(D(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),sn(this),vn(this))},e.Za=function(){null!=this.C&&(this.C=null,sn(this),mn(this),Pe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Cn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Fn.prototype.g=function(e,t){return new Sn(e,t)},A(Sn,de),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){un(this.g)},Sn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=Ae(e),e=n);t.i.push(new at(t.Ya++,e)),3==t.G&&ln(t)},Sn.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,Sn.aa.N.call(this)},A(Bn,Ne),A(Nn,ke),A(kn,Cn),kn.prototype.ua=function(){pe(this.g,"a")},kn.prototype.ta=function(e){pe(this.g,new Bn(e))},kn.prototype.sa=function(e){pe(this.g,new Nn)},kn.prototype.ra=function(){pe(this.g,"b")},Fn.prototype.createWebChannel=Fn.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,f=d.createWebChannelTransport=function(){return new Fn},l=d.getStatEventTarget=function(){return _e()},c=d.Event=Me,s=d.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,u=d.ErrorCode=Ke,We.COMPLETE="complete",a=d.EventType=We,Se.EventType=Be,Be.OPEN="a",Be.CLOSE="b",Be.ERROR="c",Be.MESSAGE="d",de.prototype.listen=de.prototype.K,i=d.WebChannel=Se,o=d.FetchXmlHttpFactory=$t,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,r=d.XhrIo=Xt}).apply(void 0!==h?h:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},1635:function(e,t,n){"use strict";n.d(t,{Tt:function(){return r}});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=component---src-pages-index-js-1ca9e7fe1f1c0664a5a6.js.map